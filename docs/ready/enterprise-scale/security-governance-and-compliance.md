---
title: Безопасность, управление и соответствие требованиям в масштабах предприятия
description: Сведения о корпоративном масштабировании системы безопасности и соответствии требованиям в рамках платформы внедрения Microsoft Cloud для Azure.
author: BrianBlanchard
ms.author: brblanch
ms.date: 06/15/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: ready
ms.custom: think-tank
ms.openlocfilehash: 4e76a3299db2962b46bb6f68c76b5aa829fef2d4
ms.sourcegitcommit: b6f2b4f8db6c3b1157299ece1f044cff56895919
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "97023588"
---
<!-- cSpell:ignore FIPS SIEM majeure NSGs -->
<!-- docutune:casing "FIPS 140-2 Level" "Patch and update management" "SOC2 Trust Service Principles and Criteria" -->

# <a name="enterprise-scale-security-governance-and-compliance"></a>Безопасность, управление и соответствие требованиям в масштабах предприятия

В этой статье описывается определение функций шифрования и управления ключами, планирование для руководства, определение мониторинга безопасности и политики аудита, а так же планирование безопасности платформы. В конце статьи вы можете ознакомиться с таблицей, описывающей платформу для оценки готовности к использованию служб Azure в области корпоративной безопасности.

## <a name="define-encryption-and-key-management"></a>Определение шифрования и управления ключами

Шифрование — это важный шаг для обеспечения конфиденциальности данных, обеспечения соответствия требованиям и местонахождение данных в Microsoft Azure. Это также одна из наиболее важных проблем безопасности на многих предприятиях. В этом разделе рассматриваются рекомендации по проектированию и рекомендации по их отношению к шифрованию и управлению ключами.

### <a name="design-considerations"></a>Рекомендации по проектированию

- Ограничения подписки и масштабирования, применяемые к Azure Key Vault: Key Vault имеет ограничения транзакций для ключей и секретов. Сведения о регулировании транзакций на хранилище в течение определенного периода см. в разделе [ограничения Azure](/azure/azure-resource-manager/management/azure-subscription-service-limits).

- Key Vault является границей безопасности, так как разрешения на доступ к ключам, секретам и сертификатам находятся на уровне хранилища. Назначения политики доступа Key Vault предоставляют разрешения отдельно для ключей, секретов или сертификатов. Они не поддерживают детализированные разрешения уровня объектов, такие как конкретный ключ, секрет или [Управление ключами](/azure/security/fundamentals/data-encryption-best-practices)сертификатов.

- Можно изолировать секреты конкретного приложения и рабочей нагрузки, а также общие секреты, чтобы получить соответствующий [Контроль доступа](/azure/key-vault/general/best-practices).

- Вы можете оптимизировать номера SKU уровня "Премиум", где требуются ключи, защищенные с аппаратным обеспечением безопасности модуля. Базовые аппаратные модули безопасности (HSM) соответствуют стандарту FIPS 140-2 уровня 2. Управление выделенным HSM Azure для обеспечения соответствия требованиям FIPS 140-2 уровня 3, учитывая Поддерживаемые сценарии.

- Смена ключа и истечение срока действия секрета.

  - Закупок и подписывание сертификатов с помощью Key Vault [о сертификатах](/azure/key-vault/certificates/about-certificates).
  - Оповещения, уведомления и автоматическое продление сертификатов.

- Требования к аварийному восстановлению ключей, сертификатов и секретов.

  Key Vault репликация службы и возможности отработки отказа: [доступность и избыточность](/azure/key-vault/general/disaster-recovery-guidance).

- Контроль использования ключей, сертификатов и секретов.

  Обнаружение неавторизованного доступа с помощью хранилища ключей или Azure Monitor Log Analytics рабочей области: [мониторинг и оповещения](/azure/key-vault/general/alert).

- Делегированный Key Vault создание экземпляра и привилегированный доступ: [безопасный доступ](/azure/key-vault/general/secure-your-key-vault).

- Требования к использованию управляемых клиентом ключей для собственных механизмов шифрования, таких как шифрование службы хранилища Azure:
  - [Ключи, управляемые клиентом](/azure/storage/common/storage-encryption-keys-portal).
  - Всего — шифрование диска для виртуальных машин.
  - Шифрование транзитных данных.
  - Шифрование неактивных данных.

### <a name="design-recommendations"></a>Рекомендации по проектированию

- Используйте модель федеративного Azure Key Vault, чтобы избежать ограничений шкалы транзакций.

- Подготавливайте Azure Key Vault с включенными политиками обратимого удаления и очистки, чтобы обеспечить защиту удаленных объектов.

- Используйте модель с минимальными правами доступа, ограничивая авторизацию для окончательного удаления ключей, секретов и сертификатов для специализированных пользовательских ролей Azure Active Directory (Azure AD).

- Автоматизируйте процесс управления сертификатами и обновления с помощью общедоступных центров сертификации, чтобы упростить администрирование.

- Создание автоматизированного процесса для смены ключей и сертификатов.

- Включите брандмауэр и конечную точку службы виртуальной сети в хранилище, чтобы управлять доступом к хранилищу ключей.

- Используйте рабочую область Azure Monitor платформы Log Analytics для аудита использования ключей, сертификатов и секретов в каждом экземпляре Key Vault.

- Делегирование Key Vault создание экземпляра и привилегированный доступ и использование политики Azure для принудительного применения совместимой конфигурации.

- По умолчанию ключи, управляемые корпорацией Майкрософт, используются для шифрования основных функций и при необходимости используют ключи, управляемые клиентом.

- Не используйте централизованные экземпляры Key Vault для ключей приложений или секретов.

- Не предоставляйте доступ к экземплярам Key Vault между приложениями, чтобы избежать общего доступа к секретам в разных средах.

## <a name="plan-for-governance"></a>Планирование системы управления

Управление предусматривает механизмы и процессы для соответствующего обслуживания приложений и ресурсов в Azure. Политика Azure необходима для обеспечения безопасности и соответствия требованиям в рамках корпоративных технических площадок. Она может обеспечить соблюдение важнейших соглашений по управлению и безопасности в службах платформы Azure, а также управление доступом на основе ролей (RBAC), которое управляет действиями, которые могут выполнять пользователи, выполняющие авторизацию.

**Рекомендации по проектированию:**

- Определите, какие политики Azure необходимы.

- Применяйте соглашения об управлении и безопасности, например использование частных конечных точек.

- Управление и создание назначений политик с помощью определений политик можно повторно использовать в нескольких наследуемых областях назначения. Вы можете централизованно назначать базовые политики в областях групп управления, подписок и групп ресурсов.

- Обеспечение постоянной совместимости с отчетами о соответствии и аудитом.

- Узнайте, что политика Azure имеет ограничения, такие как ограничение определений в любой конкретной области: [ограничения политики](/azure/azure-resource-manager/management/azure-subscription-service-limits).

- Общие сведения о политиках соответствия нормативным требованиям. К ним могут относиться принципы и критерии службы доверия HIPAA, PCI DSS и SOC2.

**Рекомендации по проектированию:**

- Укажите необходимые теги Azure и используйте режим применения политики добавления для принудительного использования.

- Сопоставьте требования нормативных требований и соответствия требованиям для определений политики Azure и назначения RBAC в Azure AD.

- Установите определения политик Azure в корневой группе управления верхнего уровня, чтобы их можно было назначить в унаследованных областях.

- Управление назначениями политик на наиболее подходящем уровне с исключениями на нижних уровнях, если это необходимо.

- Используйте политику Azure для управления регистрацией поставщиков ресурсов на уровнях подписки и группы управления.

- Используйте встроенные политики, когда возможно, чтобы сократить эксплуатационные расходы.

- Назначьте встроенную роль участника политики в определенной области, чтобы включить управление на уровне приложения.

- Ограничьте число назначений политики Azure, сделанных в корневой области группы управления, чтобы избежать управления исключениями в унаследованных областях.

## <a name="define-security-monitoring-and-an-audit-policy"></a>Определение мониторинга безопасности и политики аудита

Предприятие должно видеть, что происходит в своем техническом облаке. Мониторинг безопасности и ведение журнала аудита служб платформы Azure — ключевой компонент масштабируемой платформы.

**Рекомендации по проектированию:**

- Сроки хранения данных аудита. Срок хранения отчетов Azure AD Premium составляет 30 дней.

- Долгосрочное архивирование журналов, таких как журналы действий Azure, журналы виртуальных машин и журналы платформы как услуги (PaaS).

- Базовая конфигурация безопасности с помощью политики гостевой виртуальной машины Azure.

- Экстренные исправления для критических уязвимостей.

- Исправление для виртуальных машин, которые находятся в автономном режиме в течение продолжительного периода времени.

- Требования для мониторинга в реальном времени и оповещений.

- Интеграция управления сведениями о безопасности и событиями с помощью центра безопасности Azure и Azure Sentinel.

- Оценка уязвимостей виртуальных машин.

**Рекомендации по проектированию:**

- Используйте возможности отчетов Azure AD для создания отчетов аудита контроля доступа.

- Экспортируйте журналы действий Azure в журналы Azure Monitor для долгосрочного хранения данных. При необходимости экспортируйте хранилище Azure для долгосрочного хранения свыше двух лет.

- Включите центр безопасности Standard для всех подписок и используйте политику Azure для обеспечения соответствия.

- Следите за обновлением базовой операционной системы с помощью журналов Azure Monitor и центра безопасности Azure.

- Используйте политики Azure для автоматического развертывания конфигураций программного обеспечения с помощью расширений виртуальных машин и принудительного применения соответствующей конфигурации базовой виртуальной машины.

- Отслеживание смещения конфигурации безопасности виртуальной машины с помощью политики Azure.

- Подключение конфигураций ресурсов по умолчанию к централизованной Log Analytics рабочей области Azure Monitor.

- Используйте решение на основе сетки событий Azure для создания оповещений в режиме реального времени, ориентированных на журналы.

## <a name="plan-for-platform-security"></a>Планирование безопасности платформы

При внедрении Azure необходимо поддерживать работоспособность системы безопасности. Помимо видимости, необходимо иметь возможность управлять исходными параметрами и изменениями по мере развития служб Azure. Поэтому планирование безопасности платформы является ключом.

**Рекомендации по проектированию:**

- Общая ответственность.

- Высокий уровень доступности и аварийное восстановление.

- Согласованная безопасность между службами Azure с точки зрения операций управления данными и плоскости управления.

- Мультитенантность для ключевых компонентов платформы. К ним относятся Hyper-V, HSM лежащая Key Vault и ядра СУБД.

**Рекомендации по проектированию:**

- В контексте базовых требований произведите совместное изучение каждой необходимой службы. Если вы хотите использовать собственные ключи, это может быть не поддерживается во всех признанных службах. Реализуйте соответствующие меры, чтобы несогласованность не ухудшит желаемые результаты. Выберите соответствующие пары регионов и регионы аварийного восстановления, которые снижают задержку.

- Разработайте план списка разрешений безопасности для оценки конфигурации безопасности служб, мониторинга, оповещений и интеграции их с существующими системами.

- Определите план реагирования на инциденты для служб Azure, прежде чем разрешить его в рабочей среде.

- Используйте возможности отчетов Azure AD для создания отчетов аудита контроля доступа.

- Выровняйте свои требования к безопасности с помощью планов платформы Azure, чтобы обеспечить актуальность с помощью новых средств управления безопасностью.

- Реализуйте подход с нулевым доверием для доступа к платформе Azure, где это уместно.

<!-- docutune:ignore "and conditional access" -->

## <a name="azure-security-benchmark"></a>Тестирование безопасности Azure

В состав теста безопасности Azure входит набор рекомендаций по обеспечению безопасности, которые можно использовать для защиты большинства служб, используемых в Azure. Эти рекомендации можно рассматривать как "Общие" или "организационные", так как они применимы к большинству служб Azure. Затем рекомендации по производительности системы безопасности Azure настраиваются для каждой службы Azure, и эти настраиваемые инструкции содержатся в статьях с рекомендациями по службам.

В документации по производительности системы безопасности Azure указаны средства управления безопасностью и рекомендации по службам.

- Средства [управления безопасностью](/azure/security/benchmarks/overview). рекомендации по производительности системы безопасности Azure подразделяются на категории элементов управления безопасностью. Средства управления безопасностью представляют высокоуровневые требования к безопасности, независимые от поставщиков, такие как безопасность сети и защита данных. Каждый контроль безопасности имеет набор рекомендаций по обеспечению безопасности и инструкций, помогающих реализовать эти рекомендации.
- [Рекомендации по службам](/azure/security/benchmarks/security-baselines-overview). при наличии рекомендаций по тестированию производительности служб Azure будут включены рекомендации по производительности системы безопасности Azure, специально предназначенные для этой службы.

## <a name="service-enablement-framework"></a>Платформа включения службы

В качестве бизнес-единиц для развертывания рабочих нагрузок в Azure требуется дополнительная видимость рабочей нагрузки, чтобы определить, как добиться соответствующих уровней управления, безопасности и соответствия требованиям. Если требуется новая служба, ее необходимо разрешить. В следующей таблице представлена платформа для оценки готовности служб Azure к обеспечению корпоративной безопасности.

| Оценка                    | Категория                                                              | Критерии                                                                                                                                     |
|------------------------------|-----------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| Безопасность                     | Конечная точка сети                                                      | Есть ли у службы общедоступная конечная точка, доступная за пределами виртуальной сети?                                                                |
|                              |                                                                       | Поддерживает ли она конечные точки службы виртуальной сети?                                                                                                      |
|                              |                                                                       | Могут ли службы Azure напрямую взаимодействовать с конечной точкой службы?                                                                              |
|                              |                                                                       | Поддерживает ли она конечные точки частной связи Azure?                                                                                                           |
|                              |                                                                       | Можно ли развернуть его в виртуальной сети?                                                                                                            |
|                              | Предотвращение кражи данных                                          | Имеет ли служба PaaS отдельное сообщество протокола граничного шлюза в Azure ExpressRoute для пиринга Майкрософт? Предоставляет ли ExpressRoute фильтр маршрутов для службы? |
|                              |                                                                       | Поддерживает ли служба конечные точки частной связи?                                                                                                       |
|                              | Обеспечение потока сетевого трафика для операций управления и плоскости данных | Возможна ли проверка трафика при входе или выходе из службы? Может ли трафик вызывать принудительное туннелирование с помощью определяемой пользователем маршрутизации?                                    |
|                              |                                                                       | Используются ли в операциях управления диапазоны общих общедоступных IP-адресов Azure?                                                                                 |
|                              |                                                                       | Проходит ли трафик управления через конечную точку локальной связи, доступную на узле?                                                                |
|                              | Шифрование неактивных данных                                               | Применяется ли шифрование по умолчанию?                                                                                                            |
|                              |                                                                       | Можно ли отключить шифрование?                                                                                                                  |
|                              |                                                                       | Выполняется ли шифрование с помощью ключей, управляемых корпорацией Майкрософт, или ключей, управляемых клиентом?                                                   |
|                              | Транзитное шифрование данных                                            | Является ли трафик к службе зашифрован на уровне протокола (защищенный уровень сокетов/безопасность транспортного уровня)?                                                                           |
|                              |                                                                       | Существуют ли конечные точки HTTP и можно ли их отключить?                                                                                        |
|                              |                                                                       | Шифруется ли также связь базовой службы?                                                                                          |
|                              |                                                                       | Выполняется ли шифрование с помощью ключей, управляемых корпорацией Майкрософт, или ключей, управляемых клиентом? (Поддерживает ли ваш собственный шифрование?)                                                                               |
|                              | Развертывание программного обеспечения                                                   | Можно ли развернуть программное обеспечение приложения или продукты сторонних производителей в службе?                                                                 |
|                              |                                                                       | Как выполняется и управляется развертыванием программного обеспечения?                                                                                            |
|                              |                                                                       | Можно ли применять политики для управления целостностью кода или источника?                                                                                   |
|                              |                                                                       | Если вы можете развернуть программное обеспечение, можно ли использовать средства защиты от вредоносных программ, возможности управления уязвимостью и мониторинга безопасности?                                  |
|                              |                                                                       | Предоставляет ли служба такие возможности изначально, как в службе Azure Kubernetes?                                                                              |
| Управление удостоверениями и доступом | Управление проверкой подлинности и доступом                                       | Все операции плоскости управления управляются Azure AD? Есть ли вложенная плоскость управления, например служба Azure Kubernetes?                             |
|                              |                                                                       | Какие существуют методы для предоставления доступа к плоскости данных?                                                                                      |
|                              |                                                                       | Интегрируется ли плоскость данных с Azure AD?                                                                                                      |
|                              |                                                                       | Используется ли проверка подлинности "Azure — Azure" (между службами) с помощью MSI-или субъекта-службы?                                                         |
|                              |                                                                       | Проверка подлинности Azure AD в IaaS (с помощью службы в виртуальную сеть)?                                                                                   |
|                              |                                                                       | Как осуществляется управление любыми подходящими ключами или подписанными URL для общего доступа?                                                                                                     |
|                              |                                                                       | Как можно отозвать доступ?                                                                                                                   |
|                              | Разделение обязанностей                                                 | Разделяют ли службы плоскости управления и операции с плоскостью данных в Azure AD?                                                                |
|                              | Многофакторная проверка подлинности и условный доступ                                            | Применяется ли многофакторная проверка подлинности для взаимодействия пользователя с обслуживанием?                                                                                            |
| Система управления                   | Экспорт и импорт данных                                                  | Поддерживает ли служба шифрование и экспорт данных в безопасном и зашифрованном виде?                                                                     |
|                              | Конфиденциальность и использование данных                                                  | Могут ли специалисты Майкрософт получить доступ к данным?                                                                                                     |
|                              |                                                                       | Служба поддержки Майкрософт взаимодействует с аудитом службы?                                                                               |
|                              | Местонахождение данных                                                        | Данные содержатся в регионе развертывания службы?                                                                                          |
| Операции                   | Наблюдение                                                            | Интегрируется ли служба с Azure Monitor?                                                                                               |
|                              | Управление резервным копированием                                                     | Какие данные рабочей нагрузки необходимо архивировать?                                                                                                       |
|                              |                                                                       | Как записываются резервные копии?                                                                                                                    |
|                              |                                                                       | Как часто могут быть созданы резервные копии?                                                                                                         |
|                              |                                                                       | Как долго можно хранить резервные копии?                                                                                                        |
|                              |                                                                       | Резервные копии зашифрованы?                                                                                                                       |
|                              |                                                                       | Выполняется ли шифрование резервных копий с ключами, управляемыми корпорацией Майкрософт, или управляемыми клиентом ключами?                                                                                             |
|                              | Аварийное восстановление                                                     | Как служба может использоваться в регионально избыточном виде?                                                                                 |
|                              |                                                                       | Что такое достижимое целевое время восстановления и Целевая точка восстановления?                                                                                                          |
|                              | SKU                                                                   | Какие номера SKU доступны? И как они отличаются?                                                                                             |
|                              |                                                                       | Существуют ли функции, связанные с безопасностью SKU уровня "Премиум"?                                                                                  |
|                              | Управление емкостью                                                   | Как отслеживается емкость?                                                                                                                   |
|                              |                                                                       | Какова единица горизонтального масштабирования?                                                                                                        |
|                              | Управление исправлениями и обновлениями                                             | Требуется ли службе активное обновление или выполнять обновления автоматически?                                                                        |
|                              |                                                                       | Как часто применяются обновления? Можно ли их автоматизировать?                                                                                |
|                              | Аудит                                                                 | Захвачены ли вложенные операции плоскости управления (например, служба Kubernetes Azure или Azure Databricks)?                                                                      |
|                              |                                                                       | Записываются ли основные действия плоскости данных?                                                                                                      |
|                              | Управление конфигурацией                                              | Поддерживает ли он теги и предоставляет `put` схему для всех ресурсов?                                                                             |
| Соответствие служб Azure     | Аттестация службы, сертификация и внешние аудиты                | Соответствует ли служба PCI/ISO/SOC?                                                                                                        |
|                              | Доступность службы                                                  | Является ли служба закрытой предварительной версией, общедоступной предварительной версией или общедоступной?                                                                                            |
|                              |                                                                       | В каких регионах доступна служба?                                                                                                    |
|                              |                                                                       | Что такое область развертывания службы? Является ли это региональной или глобальной службой?                                                      |
|                              | Соглашения об уровне обслуживания (SLA)                                              | Что такое соглашение об уровне обслуживания для доступности службы?                                                                                                    |
|                              |                                                                       | Если применимо, каково соглашение об уровне обслуживания для производительности?                                                                                              |
