---
title: Рекомендуемый контроль доступа на основе ролей Azure
description: Узнайте, как разделить обязанности в команде и предоставить управление доступом на основе ролей в Azure, чтобы пользователи и группы могли выполнять свои задания.
author: alexbuckgit
manager: BrianBlanchard
ms.author: brblanch
ms.date: 11/28/2018
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: ready
ms.custom: internal, virtual-network
ms.openlocfilehash: bfb25396e19b11258401dd68065282cc3e78566d
ms.sourcegitcommit: a0ddde4afcc7d8c21559e79d406dc439ee4f38d2
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/21/2020
ms.locfileid: "97713375"
---
# <a name="azure-role-based-access-control"></a>Управление доступом на основе ролей в Azure

Рекомендуется использовать права и привилегии доступа на основе групп. Работа с группами, а не с отдельными пользователями, облегчает поддержку политик доступа, обеспечивает согласованное управление доступом между группами, а также способствует сокращению количества ошибок конфигурации. Назначение и удаление пользователей в соответствующих группах позволяет обеспечить актуальность привилегий определенного пользователя. [Управление доступом на основе ролей в Azure (Azure RBAC)](/azure/role-based-access-control/overview) обеспечивает точное управление доступом к ресурсам, организованным вокруг ролей пользователей.

Общие сведения о рекомендуемых методиках Azure RBAC в рамках стратегии идентификации и безопасности см. в статье рекомендации по [обеспечению безопасности управления удостоверениями и доступом в Azure](/azure/security/fundamentals/identity-management-best-practices#use-role-based-access-control).

## <a name="overview-of-azure-role-based-access-control"></a>Общие сведения об управлении доступом на основе ролей в Azure

Используя [Управление доступом на основе ролей в Azure](/azure/role-based-access-control/overview), вы можете отделить обязанности группы и предоставить достаточно прав для конкретных Azure Active Directory пользователей (Azure AD), групп, субъектов-служб или управляемых удостоверений для выполнения своих задач. Вместо того чтобы предоставить всем неограниченный доступ к подписке или ресурсам Azure, можно ограничить разрешения для каждого набора ресурсов.

В [определениях ролей Azure](/azure/role-based-access-control/role-definitions) перечисляются операции, которые разрешены или запрещены для пользователей или групп, назначенных этой роли. [Область](/azure/role-based-access-control/overview#scope) роли определяет, к каким ресурсам применяются эти указанные разрешения. Области могут быть указаны на нескольких уровнях: группа управления, подписка, группа ресурсов или ресурс. Структура областей строится на отношениях "родитель — потомок".

![Иерархия областей Azure RBAC](../../_images/azure-best-practices/rbac-scope.png)

Подробные инструкции по назначению пользователей и групп конкретным ролям и назначению ролей для областей см. [в разделе Добавление или удаление назначений ролей Azure с помощью портал Azure](/azure/role-based-access-control/role-assignments-portal).

При планировании стратегии управления доступом используйте модель доступа с минимальными привилегиями, которая предоставляет пользователям только разрешения, необходимые для выполнения их работы. На следующей схеме показан предлагаемый шаблон для использования Azure RBAC с использованием этого подхода.

![Предлагаемый шаблон для использования Azure RBAC](../../_images/azure-best-practices/rbac-least-privilege.png)

> [!NOTE]
> Чем более конкретные или подробные разрешения вы определяете, тем выше вероятность того, что элементы управления доступом станут сложными и ими будет труднее управлять. Это особенно актуально с ростом облачной инфраструктуры. Избегайте использования разрешений для конкретных ресурсов. Вместо этого используйте [группы управления](/azure/governance/management-groups) для контроля доступа и [групп ресурсов](/azure/azure-resource-manager/management/overview#resource-groups) в масштабах предприятия для управления доступом в рамках подписок. Следует также избегать использования разрешений для конкретных пользователей. Вместо этого назначьте доступ к [группам в Azure AD](/azure/active-directory/fundamentals/active-directory-manage-groups).

## <a name="use-azure-built-in-roles"></a>Использование встроенных ролей Azure

Azure предоставляет множество встроенных определений ролей с тремя основными ролями для обеспечения доступа:

- [Роль владельца](/azure/role-based-access-control/built-in-roles#owner) может управлять всем, включая доступ к ресурсам.
- [Роль участника](/azure/role-based-access-control/built-in-roles#contributor) может управлять всем, кроме доступа к ресурсам.
- [Роль читатель](/azure/role-based-access-control/built-in-roles#reader) может просматривать все, но не вносить изменения.

Начиная с этих основных уровней доступа, дополнительные встроенные роли предоставляют более подробные элементы управления для доступа к определенным типам ресурсов или функциям Azure. Например, вы можете управлять доступом к виртуальным машинам, используя приведенные ниже встроенные роли.

- [Роль входа администратора виртуальной машины](/azure/role-based-access-control/built-in-roles#virtual-machine-administrator-login) может просматривать виртуальные машины на портале и выполнять вход как `administrator` .
- [Роль "участник виртуальных машин](/azure/role-based-access-control/built-in-roles#virtual-machine-contributor) " может управлять виртуальными машинами, но не может получить к ним доступ или к виртуальной сети или учетной записи хранения, к которой они подключены.
- [Роль входа пользователя виртуальной машины](/azure/role-based-access-control/built-in-roles#virtual-machine-user-login) может просматривать виртуальные машины на портале и выполнять вход от имени обычного пользователя.

Еще один пример использования встроенных ролей для управления доступом к определенным функциям см. в обсуждении управление доступом к функциям отслеживания затрат при [отслеживании затрат между бизнес-подразделениями, средами или проектами](../azure-best-practices/track-costs.md#provide-the-right-level-of-cost-access).

Полный список доступных встроенных ролей см. [в статье встроенные роли Azure](/azure/role-based-access-control/built-in-roles).

## <a name="use-custom-roles"></a>Применение пользовательских ролей

Хотя роли, встроенные в Azure, поддерживают разные сценарии управления доступом, они могут не соответствовать всем требованиям вашей организации или команды. Например, если у вас есть одна группа пользователей, отвечающая за управление виртуальными машинами и ресурсами Базы данных SQL Azure, вы можете создать настраиваемую роль для оптимизации управления необходимыми элементами управления доступом.

Документация по Azure RBAC содержит инструкции по [созданию настраиваемых ролей](/azure/role-based-access-control/custom-roles), а также подробные сведения о том, [как работают определения ролей](/azure/role-based-access-control/role-definitions).

## <a name="separation-of-responsibilities-and-roles-for-large-organizations"></a>Разделение обязанностей и ролей для крупных организаций

Azure RBAC позволяет организациям назначать различные команды различным задачам управления в больших облачных пространствах. Он может позволить главным ИТ-командам контролировать основные функции доступа и безопасности, а также предоставляет разработчикам программного обеспечения и другим командам большой уровень контроля над конкретными рабочими нагрузками или группами ресурсов.

Большинство облачных сред также могут воспользоваться преимуществами стратегии управления доступом, которая использует несколько ролей и в которой уделяется особое внимание разделению обязанностей между этими ролями. Для этого подхода необходимо, чтобы любое существенное изменение ресурсов или инфраструктуры включало несколько ролей для гарантии того, что рассмотреть и утвердить изменение должны будут несколько человек. Такое разделение обязанностей ограничивает способность одного человека получать доступ к конфиденциальным данным или добавлять уязвимости без ведома других членов команды.

В приведенной ниже таблице показан общий шаблон для разделения ИТ-обязанностей на отдельные настраиваемые роли.

| Группа | Имя стандартной роли | Обязанности |
| --- | --- | --- |
| Операции безопасности | SecOps | Обеспечивает общий контроль безопасности. <br> Устанавливает и применяет политику безопасности, такую как шифрование при хранении. <br><br> Управляет ключами шифрования. <br><br> Управляет правилами брандмауэра. |
| Сетевые операции | NetOps | Управляет конфигурацией сети и операциями в виртуальных сетях, такими как маршруты и пиринги. |
| Системные операции | SysOps | Указывает параметры инфраструктуры вычислений и хранения, а также обеспечивает поддержку развернутых ресурсов. |
| Разработка, тестирование и операции | DevOps | Создает и развертывает функции рабочей нагрузки и приложений. <br><br> Функции и приложения работают в соответствии с соглашениями об уровне обслуживания и другими стандартами качества. |

Разбивка действий и разрешений в этих стандартных ролях одинакова для всех приложений, подписок или всей облачной инфраструктуры, даже если эти роли выполняются разными людьми на разных уровнях. Соответственно, можно создать общий набор определений ролей Azure для применения в разных областях в среде. Затем пользователям и группам может быть назначена общая роль, но только для области ресурсов, групп ресурсов, подписок или групп управления, которыми они управляют.

Например, в [топологии сети концентратора и звезды](../azure-best-practices/hub-spoke-network-topology.md) с несколькими подписками может существовать общий набор определений ролей для концентратора и всех периферийных серверов рабочей нагрузки. Роль Нетопс для подписки на концентратор можно назначить членам Центральной ИТ-группы Организации, ответственных за поддержание сетевых подключений для общих служб, используемых всеми рабочими нагрузками. Роль NetOps подписки периферийной зоны рабочей нагрузки затем может быть назначена членам этой конкретной группы рабочей нагрузки, что позволяет им настраивать сети в рамках этой подписки для обеспечения лучшей поддержки их требований к рабочей нагрузке. Одно и то же определение роли используется для обеих ролей, но назначения на основе области гарантируют, что пользователи имеют только тот уровень доступа, который им необходим для выполнения своих заданий.
