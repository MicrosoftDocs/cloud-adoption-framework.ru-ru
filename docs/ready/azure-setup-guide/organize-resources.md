---
title: Эффективная организация ресурсов Azure
description: Ознакомьтесь с рекомендациями по эффективной организации ресурсов Azure, которые помогут упростить управление ресурсами.
author: laraaleite
ms.author: brblanch
ms.date: 04/09/2019
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: ready
ms.localizationpriority: high
ms.custom: think-tank, fasttrack-edit, AQC, setup
ms.openlocfilehash: c577c5c0b0362ff1c8dcc51e38d97d17450bd5bf
ms.sourcegitcommit: 9e4bc0e233a24642853f5e8acbeb9746b2444024
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/04/2021
ms.locfileid: "102115430"
---
<!-- cSpell:ignore profx fsubscriptions fresource -->

# <a name="organize-your-azure-resources-effectively"></a>Эффективная организация ресурсов Azure

Организация облачных ресурсов очень важна для обеспечения безопасности, управления и отслеживания затрат, связанных с рабочими нагрузками. Чтобы упорядочить ресурсы, определите иерархию групп управления, следуйте принятым соглашениям об именовании и примените теги ресурсов.

<!-- markdownlint-disable MD024 -->

## <a name="azure-management-groups-and-hierarchy"></a>[Группы и иерархия управления Azure](#tab/AzureManagementGroupsAndHierarchy)

В Azure предоставляются четыре уровня области управления: группы управления, подписки, группы ресурсов и ресурсы. На рисунке ниже показаны связи между этими уровнями.

   ![Схема со связями уровней иерархии управления](./media/organize-resources/scope-levels.png) *Изображение 1. Связь между четырьмя уровнями области управления.*

- **Группы управления.** Эти группы представляют собой контейнеры, которые помогают управлять доступом, политикой и соответствием требованиям в нескольких подписках. Все подписки в группе управления автоматически наследуют условия, применяемые к группе управления.
- **Подписки.** Подписка позволяет логически связывать учетные записи пользователей и ресурсы, созданные с помощью этих учетных записей пользователей. Для каждой подписки есть ограничения или квоты на объем создаваемых и используемых ресурсов. Организации могут использовать подписки для управления затратами и ресурсами, которые созданы пользователями, командами или проектами.
- **Группы ресурсов.** Группа ресурсов — это логический контейнер, в котором происходит развертывание ресурсов Azure (веб-приложений, баз данных и учетных записей хранения) и управление ими.
- **Ресурсы:** Ресурсы — это создаваемые вами экземпляры служб, например виртуальные машины, хранилище или базы данных SQL.

### <a name="scope-of-management-settings"></a>Область применения параметров управления

Вы можете применять параметры управления, например политики и средства управления доступом на основе ролей в Azure на любом уровне управления. Выбранный уровень определяет, насколько широка область применения параметра. На более низких уровнях наследуются параметры более высоких уровней. Например, если к подписке применяется политика, она также применяется ко всем группам ресурсов и ресурсам в этой подписке.

Как правило, целесообразно применять важные параметры на более высоких уровнях, а требования для конкретного проекта — на более низких уровнях. Например, вам нужно, чтобы все ресурсы для вашей организации развертывались в определенных регионах. Для этого примените политику к подписке, которая определяет разрешенные расположения. Когда другие пользователи в вашей организации будут добавлять новые ресурсы и группы ресурсов, разрешенные расположения будут применяться автоматически. Узнайте больше о политиках в разделе этого руководства, посвященном системе управления, безопасности и соответствию требованиям.

Если у вас всего несколько подписок, независимо управлять ими относительно несложно. Если число используемых подписок увеличится, рассмотрите возможность создания иерархии групп управления, чтобы упростить управление подписками и ресурсами. См. сведения об [упорядочивании и администрировании подписок Azure](../azure-best-practices/organize-subscriptions.md).

При разработке стратегии соответствия проведите консультации с представителями тех подразделений вашей организации, которые отвечают за безопасность и соответствие требованиям, администрирование ИТ-ресурсов, организационную структуру предприятия, сети, финансы и снабжение.

::: zone target="docs"

### <a name="create-a-management-level"></a>Создание уровня управления

Вы можете создать группу управления, дополнительные подписки или группы ресурсов.

#### <a name="create-a-management-group"></a>Создание группы управления

Создайте группу управления, которая помогает управлять доступом, политикой и соответствием требованиям в нескольких подписках.

1. Перейдите на страницу [Группы управления](https://portal.azure.com/#blade/Microsoft_Azure_ManagementGroups/HierarchyBlade).
2. Нажмите **Добавить группу управления**.

#### <a name="create-a-subscription"></a>Создание подписки

Используйте подписки для управления затратами и ресурсами, которые созданы пользователями, командами или проектами.

1. Перейдите на страницу [Подписки](https://portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade).
2. Выберите **Добавить**.

> [!NOTE]
> Подписки также можно создавать программными средствами. См. дополнительные сведения в разделе [Создание подписок Azure программными средствами](/azure/cost-management-billing/manage/programmatically-create-subscription).

#### <a name="create-a-resource-group"></a>Создание группы ресурсов

Создайте группу ресурсов, которая будет содержать ресурсы, например веб-приложения, базы данных и учетные записи хранения, с одинаковым жизненным циклом, разрешениями и политиками.

1. Перейдите на страницу [Группы ресурсов](https://portal.azure.com/#create/Microsoft.ResourceGroup).
1. Выберите **Добавить**.
1. Выберите **подписку**, для которой необходимо создать группу ресурсов.
1. Введите имя для **группы ресурсов**.
1. Выберите **регион** для расположения группы ресурсов.

### <a name="learn-more"></a>Дополнительные сведения

Дополнительные сведения см. на следующих ресурсах:

- [Основные понятия Azure](../considerations/fundamental-concepts.md)
- [Создание исходных подписок](../azure-best-practices/initial-subscriptions.md)
- [Создание дополнительных подписок Azure для масштабирования среды Azure](../azure-best-practices/scale-subscriptions.md)
- [Организация и администрирование подписок Azure](../azure-best-practices/organize-subscriptions.md)
- [Упорядочение ресурсов с помощью групп управления Azure](/azure/governance/management-groups/overview)
- [Resource access management in Azure](../../govern/resource-consistency/resource-access-management.md) (Управление доступом к ресурсам в Azure)
- [Подписка Azure, границы, квоты и ограничения службы](/azure/azure-resource-manager/management/azure-subscription-service-limits)

::: zone-end

::: zone target="chromeless"

### <a name="actions"></a>Действия

**Создание группы управления.**

Создайте группу управления, которая помогает управлять доступом, политикой и соответствием требованиям в нескольких подписках.

1. Перейдите на страницу **Группы управления**.
1. Нажмите **Добавить группу управления**.

::: form action="OpenBlade[#blade/Microsoft_Azure_ManagementGroups/HierarchyBlade]" submitText="Go to Management groups" :::

**Создание дополнительной подписки.**

Используйте подписки для управления затратами и ресурсами, которые созданы пользователями, командами или проектами.

1. Перейдите на страницу **Подписки**.
1. Выберите **Добавить**.

::: form action="OpenBlade[#blade/Microsoft_Azure_Billing/SubscriptionsBlade]" submitText="Go to Subscriptions" :::

**Создание группы ресурсов.**

Создайте группу ресурсов, которая будет содержать ресурсы, например веб-приложения, базы данных и учетные записи хранения, с одинаковым жизненным циклом, разрешениями и политиками.

1. Перейдите на страницу **Группы ресурсов**.
1. Выберите **Добавить**.
1. Выберите **подписку**, для которой необходимо создать группу ресурсов.
1. Введите имя для **группы ресурсов**.
1. Выберите **регион** для расположения группы ресурсов.

::: form action="Create[#create/Microsoft.ResourceGroup]" submitText="Create a resource group" :::

::: zone-end

## <a name="naming-standards"></a>[Стандарты именования](#tab/NamingStandards)

Принятые стандарты именования помогают определять ресурсы Azure на портале, в платежных документах и скриптах автоматизации. Ваша стратегия именования должна включать в себя бизнес-данные и операционные сведения в качестве компонентов имен ресурсов:

Часть этой стратегии, связанная с бизнесом, должна гарантировать, что имена ресурсов содержат организационные сведения, необходимые для распознавания команд. Используйте ресурс вместе с владельцами компании, ответственными за расходы на ресурсы.

Операционная часть должна гарантировать, что имена содержат информацию, необходимую для ИТ-команд. Используйте сведения, определяющие рабочую нагрузку, приложение, среду, важность и другую информацию, полезную для управления ресурсами.

Разные типы ресурсов имеют разные [правила именования и ограничения](/azure/azure-resource-manager/management/resource-name-rules). Дополнительные сведения и рекомендации по поддержке операций предприятий по внедрению облачных технологий можно найти в [руководстве по именованию и расстановке тегов](../azure-best-practices/naming-and-tagging.md) для Cloud Adoption Framework.

В следующей таблице приведены шаблоны именования для нескольких примеров типов ресурсов Azure.

::: zone target="docs"

>[!TIP]
> Старайтесь не использовать специальные символы (`-` или `_`) в качестве первого или последнего символа имени. Такие имена не пройдут проверку по большинству правил.

::: zone-end

| Сущность | Область | Длина | Регистр | Допустимые знаки | Рекомендуемый шаблон | Пример |
| --- | --- | --- | --- | --- | --- | --- |
| Группа ресурсов | Подписка | 1–90 | Без учета регистра | Буквы, цифры, символ подчеркивания, круглые скобки, дефис и точка (но не в конце имени) и символы Юникода | `<service short name>-<environment>-rg` | `profx-prod-rg` |
| Группа доступности | Группа ресурсов | От 1 до 80 | Без учета регистра | Буквы, цифры, символ подчеркивания и дефис | `<service-short-name>-<context>-as` | `profx-SQL-as` |
| Тег | Связанная сущность | 512 (имя), 256 (значение) | Без учета регистра | Буквенно-цифровой | `"Key" : "value"` | `"Department" : "Central IT"` |

## <a name="resource-tags"></a>[Теги ресурсов](#tab/ResourceTags)

С помощью тегов можно быстро идентифицировать ресурсы и группы ресурсов. К ресурсам Azure можно применять теги, чтобы логически упорядочивать их по категориям. Каждый тег состоит из имени и значения. Например, имя environment и значение production можно применить ко всем ресурсам в рабочей среде. Теги должны включать контекст рабочей нагрузки или приложения, связанного с ресурсом, операционные требования и сведения о владельце.

Применив теги, вы сможете получить все ресурсы в подписке с именем и значением нужного тега. При организации ресурсов для выставления счетов или управления теги могут помочь в извлечении связанных ресурсов из разных групп ресурсов.

Вы также можете использовать теги для других целей. Распространенные варианты использования:

- **Метаданные и документация.** Администраторы могут с легкостью просматривать сведения о ресурсах, с которыми они работают, применяя теги, например `ProjectOwner`, чтобы узнать, кто является владельцем проекта.
- **Автоматизация** — Вы можете регулярно запускать скрипты для выполнения действий на основе значения тега, например `ShutdownTime` или `DeprovisionDate`.
- **Оптимизация затрат:** вы можете выделить ресурсы для команд и ресурсов, ответственных за затраты. В наборе средств "Управление затратами + выставление счетов Azure" можно применить тег "место возникновения затрат" в качестве фильтра, чтобы составить отчет о затратах на основе использования для группы или отдела.

Каждый ресурс или группа ресурсов может содержать не более 50 пар "имя-значение" для тегов. Это ограничение применяется только к тегам, которые непосредственно связаны с группой ресурсов или ресурсами.

Дополнительные сведения можно найти в статье [Рекомендации по именованию и назначению тегов](../azure-best-practices/naming-and-tagging.md) для Cloud Adoption Framework.

::: zone target="docs"

### <a name="apply-a-resource-tag"></a>Применение тега ресурса

Чтобы применить тег к группе ресурсов, сделайте следующее:

1. Перейдите на страницу [Группы ресурсов](https://portal.azure.com/#blade/HubsExtension/BrowseResourceGroups).
1. Выберите группу ресурсов.
1. Выберите **Назначить теги**.
1. Введите новые имя и значение или выберите имеющиеся в раскрывающемся списке.

### <a name="learn-more"></a>Дополнительные сведения

Дополнительные сведения см. в статье об [организации ресурсов Azure с помощью тегов](/azure/azure-resource-manager/management/tag-resources).

::: zone-end

::: zone target="chromeless"

### <a name="action"></a>Действие

**Применение тега ресурса.**

Чтобы применить тег к группе ресурсов, сделайте следующее:

1. Перейдите на страницу **Группы ресурсов**.
1. Выберите группу ресурсов.
1. Нажмите **Теги**.
1. Введите новое имя и значение или выберите имеющиеся.

::: form action="OpenBlade[#blade/HubsExtension/Resources/resourceType/Microsoft.Resources%2FSubscriptions%2FResourceGroups]" submitText="Go to resource groups" :::

::: zone-end
