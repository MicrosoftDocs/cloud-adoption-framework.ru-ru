---
title: Руководство по принятию решений о шифровании
description: Внедрите политику шифрования — одну из основных служб, используемых при миграции в Azure, которая обеспечивает дополнительные уровни безопасности для облачных рабочих нагрузок и данных.
author: alexbuckgit
ms.author: abuck
ms.date: 02/11/2019
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: decision-guide
ms.custom: governance
ms.openlocfilehash: 7917768760eec85e4992bda3e11c892b275f9652
ms.sourcegitcommit: d19b0fc9ef37bf1060fe7595cd2be1612a43ea4a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/04/2020
ms.locfileid: "96605512"
---
# <a name="encryption-decision-guide"></a>Руководство по принятию решений о шифровании

Шифрование данных защищает их от несанкционированного доступа. Правильно реализованная политика шифрования обеспечивает дополнительные уровни безопасности для облачных рабочих нагрузок, а также защиту от злоумышленников и других неавторизованных пользователей как внутри, так вне организации и ее сетей.

Перейти к разделу: [Управление ключами](#key-management) | [Шифрование данных](#data-encryption) | [Подробнее](#learn-more)

Стратегия шифрования для облака основана на корпоративной политике и требованиях соответствия. Шифрование ресурсов является рекомендованным, и оно включено по умолчанию во многих службах Azure, таких как служба хранилища Azure и База данных SQL Azure. Шифрование сопряжено с повышением задержки и потребления ресурсов.

Для ресурсоемких рабочих нагрузок важно найти правильный баланс между поддержкой шифрования и производительностью, а также выбрать оптимальный метод шифрования для данных и трафика. Механизмы шифрования могут различаться по стоимости и сложности, а выбор методов шифрования, хранения секретов и ключей и управления ими может зависеть от технических ограничений и требований политик.

Корпоративная политика и сторонние требования соответствия служат основными причинами для создания стратегии шифрования. Azure предоставляет множество стандартных механизмов, соответствующих распространенным требованиям к шифрованию данных при хранении и передаче. Если определенные политики и нормативные требования требуют более строгого контроля, например с применением стандартизированного управления секретами и ключами, шифрования при использовании данных или шифрования с учетом характеристик данных, вам потребуется реализовать более комплексную стратегию с поддержкой таких требований.

## <a name="key-management"></a>Управление ключами

Шифрование данных в облаке требует наличия защищенного хранилища, а также средств управления и использования для ключей шифрования. Система управления ключами предоставляет организации важные возможности для создания и хранения криптографических ключей, важных паролей, строк подключения и других конфиденциальных данных.

Современные системы управления ключами, например хранилище ключей Azure Key Vault, поддерживают хранение программно защищенных ключей и управление ими для целей разработки и тестирования, а также ключей с защитой аппаратным модулем безопасности (HSM) для максимально строгой защиты производственных рабочих нагрузок или конфиденциальных данных.

Если вы выполняете миграцию в облако, данные в таблице ниже помогут вам выбрать подходящие возможности для хранения ключей шифрования, сертификатов и секретов и управления ими, что очень важно для создания безопасных и управляемых облачных развертываний.

| Вопрос | Облачная среда | Создание собственных ключей | Использование собственного ключа |
|--- |--------------|--------|-------------|
| В вашей организации нет централизованного управления ключами и секретами?                                                                    | Да          | Нет     | Нет          |
| Потребуется ли вам ограничение на создание ключей и секретов только с корпоративного оборудования при использовании ключей в облаке? | Нет           | Да    | Нет          |
| Применяются ли в вашей организации правила или политики, запрещающее хранение ключей вне организации?                | Нет           | Нет     | Да         |

### <a name="cloud-native"></a>Облачная среда

При полностью облачном управлении ключами все ключи и секреты создаются, управляются и хранятся в облачном хранилище, например в Azure Key Vault. Такой подход упрощает выполнение множества ИТ-задач, связанных с управлением ключами, например архивирования, хранения и возобновления ключей.

**Допущения, связанные с облачными решениями.** При использования полностью облачной системы управления ключами предполагается следующее:

- Вы доверяете облачному решению по управлению ключами создавать, хранить секреты и ключи организации, а также управлять ими.
- Вы разрешаете доступ к облачной системе управления ключами всем локальным приложениям и службам, которые зависят от служб шифрования или секретов.

### <a name="bring-your-own-key-byok"></a>Создание собственных ключей (BYOK)

Если применяется подход с созданием собственных ключей, они создаются в выделенном аппаратном устройстве HSM в локальной среде. Затем выполняется их безопасная передача в облачную систему управления ключами (например, Azure Key Vault) для использования с облачными ресурсами.

**Предположения при применении подхода с созданием собственных ключей.** В процессе создания ключей в локальной среде для применения в облачной системе управления ключами используются следующие допущения.

- Вы доверяете системам безопасности и контроля доступа на облачной платформе размещать и использовать ваши ключи и секреты.
- Размещенные в облаке приложения или службы могут получать и использовать ключи и секреты надежным и безопасным способом.
- Политика соответствия требованиям или корпоративная политика требуют создавать и администрировать секреты и ключи организации в локальной среде.

### <a name="on-premises-hold-your-own-key"></a>Локальная среда (хранение собственных ключей)

Иногда нормативные, организационные или технические требования не позволяют хранить ключи в системе управления ключами, размещенной в облаке. В таких случаях нужно создавать ключи на локальном оборудовании, хранить их и управлять ими в локальной системе управления ключами, а для облачных ресурсов предоставить механизм доступа к этим ключам для целей шифрования. Обратите внимание, что хранение собственных ключей поддерживается не всеми службами Azure.

**Допущения для локального управления ключами.** При использовании полностью локальной системы управления ключами используются следующие допущения.

- Политика соответствия требованиям или корпоративная политика требуют создавать, хранить и администрировать секреты и ключи организации в локальной среде.
- Доступ к локальной системе управления ключами разрешается всем локальным приложениям и службам, которые зависят от служб шифрования или секретов.

## <a name="data-encryption"></a>Шифрование данных

При планировании политики шифрования нужно учитывать, что есть несколько состояний данных с разными потребностями в шифровании:

| Состояние данных | Данные |
|-----|-----|
| Передаваемые данные | Внутренний трафик, подключения к Интернету, соединения между центрами обработки данных или виртуальными сетями |
| Неактивные данные    | Базы данных, файлы, виртуальные диски, хранилище PaaS |
| Используемые данные     | Данные, загруженные в ОЗУ или кэш ЦП |

### <a name="data-in-transit"></a>Передаваемые данные

Передаваемыми называются данные, которые перемещаются между ресурсами во внутренней (между центрами обработки данных) сети, внешних сетях или через Интернет.

Для шифрования передаваемых данных для сетевого трафика обычно принудительно применяются протоколы SSL/TLS. Всегда шифруйте трафик между облачными ресурсами и внешними сетями или общедоступным Интернетом. Обычно в ресурсах применяется шифрование SSL/TLS по умолчанию. Командам по внедрению облачных решений и владельцам рабочих нагрузок следует рассмотреть применение шифрования для трафика между ресурсами IaaS, размещенными в виртуальных сетях.

**Допущения для шифрования передаваемых данных.** При реализации правильной политики шифрования для передаваемых данных предполагается следующее:

- Все общедоступные конечные точки в облачной среде будут взаимодействовать с общедоступным Интернетом с использованием протоколов SSL/TLS.
- При подключении облачных сетей к локальной или другой внешней сети через общедоступный Интернет следует использовать зашифрованные протоколы VPN.
- При подключении облачных сетей к локальным или другим внешним сетям через выделенное подключение глобальной сети, такое как ExpressRoute, потребуется локальный VPN-маршрутизатор или другое устройство шифрования, соединенное с совместимым виртуальным VPN или устройством шифрования, которое развернуто в облачной сети.
- Если у вас есть конфиденциальные данные, которые не должны попадать в журналы трафика или другие диагностические отчеты, предоставляемые ИТ-специалистам, следует шифровать весь трафик между ресурсами в виртуальной сети.

### <a name="data-at-rest"></a>Неактивные данные

Неактивными называют любые данные, которые сейчас не перемещаются и не обрабатываются, включая файлы, базы данных, диски виртуальной машины, учетные записи хранения PaaS или аналогичные ресурсы. Шифрование хранимых данных защищает виртуальные устройства и файлы от несанкционированного доступа при проникновениях из внешней сети, вредоносных действиях внутренних пользователей или случайном выпуске.

Ресурсы хранилища и базы данных PaaS обычно применяют шифрование по умолчанию. Ресурсы IaaS можно защищать шифрованием данных на уровне виртуального диска или шифрованием всех данных учетной записи, в которой размещаются ваши виртуальные диски. Все эти ресурсы могут использовать сохраненные в Azure Key Vault ключи, управление которыми осуществляет корпорация Майкрософт или сам клиент.

Шифрование неактивных данных также можно выполнять более современными методами шифрования баз данных, например на уровне столбцов и строк, что расширяет возможности контроля при определении защищаемых данных.

При выборе ресурсов для защиты следует учитывать общие требования политики и соответствия, уровень конфиденциальности хранимых данных и требования к производительности рабочих нагрузок.

### <a name="assumptions-about-encrypting-data-at-rest"></a>Допущения при шифровании неактивных данных

При шифровании неактивных данных предполагается следующее:

- Вы храните данные, которые не предназначены для повсеместного использования.
- Рабочие нагрузки имеют запас на дополнительную задержку, вызванную шифрованием дисков.

### <a name="data-in-use"></a>Используемые данные

Шифрование используемых данных включает в себя защиту данных во временных хранилищах, например в ОЗУ и кэшах ЦП. Используются такие технологии, как шифрование всей памяти и технологии внутренней зоны, например Intel Secure Guard Extensions (SGX). Сюда входят и криптографические методы, например гомоморфное шифрование, которое позволяет создать безопасные и доверенные среды выполнения.

**Допущения для шифрования используемых данных.** При шифровании используемых данных предполагается следующее:

- Ваше право собственности на данные никогда не должно быть привязано к базовой облачной платформе, даже на уровне ОЗУ и ЦП.

## <a name="learn-more"></a>Дополнительные сведения

Дополнительные сведения о шифровании и управлении ключами на платформе Azure см. в следующих статьях:

- **[Общие сведения о шифровании в Azure.](/azure/security/fundamentals/encryption-overview)** Подробное описание того, как Azure использует шифрование для защиты неактивных данных и передаваемых данных.
- **[Azure Key Vault.](/azure/key-vault/general/overview)** Azure Key Vault является основной системой управления ключами Azure, которая позволяет хранить в Azure криптографические ключи, секреты и сертификаты, а также управлять ими.
- **[Рекомендации по защите и шифрованию данных в Azure.](/azure/security/fundamentals/data-encryption-best-practices)** Здесь приводятся рекомендации по защите и шифрованию данных в Azure.
- **[Конфиденциальные вычисления в Azure.](https://azure.microsoft.com/solutions/confidential-compute/)** Инициатива конфиденциальных вычислений Azure предоставляет средства и технологии для создания сред доверенного выполнения и других механизмов шифрования, позволяющих защищать используемые данные.

## <a name="next-steps"></a>Дальнейшие действия

Шифрование — один из базовых компонентов инфраструктуры, архитектурное решение о котором необходимо принять на этапе внедрения облака. См. обзор руководств по принятию решений об архитектуре, чтобы узнать об альтернативных шаблонах или моделях, используемых с другими типами инфраструктуры.

> [!div class="nextstepaction"]
> [Обзор руководств по принятию решений об архитектуре](../index.md)
