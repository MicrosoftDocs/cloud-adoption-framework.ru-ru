---
title: Руководство по принятию решений касательно согласованности ресурсов
titleSuffix: Microsoft Cloud Adoption Framework for Azure
description: Сведения о согласованности ресурсов при планировании миграции в Azure.
author: doodlemania2
ms.author: dermar
ms.date: 10/17/2019
ms.topic: guide
ms.service: cloud-adoption-framework
ms.subservice: decision-guide
ms.custom: governance
ms.openlocfilehash: c6ad3e6b14ffde5f3c09feb6047a2d0bbe981314
ms.sourcegitcommit: bf9be7f2fe4851d83cdf3e083c7c25bd7e144c20
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/04/2019
ms.locfileid: "73564805"
---
# <a name="resource-consistency-decision-guide"></a>Руководство по принятию решений касательно согласованности ресурсов

[Структура подписок](../subscriptions/index.md) Azure определяет, как организовать облачные ресурсы по отношению к структуре организации, методам учета и требованиям к рабочим нагрузкам. Помимо этого уровня структуры, для применения требований политики организационного управления ко всем облачным активам нужна возможность согласованно упорядочивать, развертывать ресурсы в подписке и управлять ими.

![Схема вариантов обеспечения согласованности ресурсов, отсортированных в порядке увеличения сложности, со ссылками для быстрого перехода.](../../_images/decision-guides/decision-guide-resource-consistency.png)

Перейти к разделу: [Простое группирование](#basic-grouping) | [Согласованность развертывания](#deployment-consistency) | [Согласованность политики](#policy-consistency) | [Иерархическая согласованность](#hierarchical-consistency) | [Автоматическая согласованность](#automated-consistency)

Решения об уровне требований к единообразию для облачных активов в основном обусловлены следующими факторами: размером цифровых активов после миграции, наличием ограничений среды или организации, которые плохо совместимы с существующим подходом к структуре подписок, или необходимостью применять управление после развертывания ресурсов.

По мере увеличения важности этих факторов растут и преимущества от поддержания согласованности развертываний, группирования облачных ресурсов и управления ими. Чтобы достигнуть более высокого уровня согласованности ресурсов в соответствии с растущими требованиями, нужно прилагать больше усилий на развитие автоматизации, инструментов и согласованности. Все это требует дополнительного времени на отслеживание изменений и управление ими.

## <a name="basic-grouping"></a>Простое группирование

В Azure [группы ресурсов](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-overview#resource-groups) представляют собой базовый механизм организации ресурсов, позволяющий логически группировать ресурсы в подписке.

Группы ресурсов выступают в роли контейнеров для ресурсов с общим жизненным циклом и общими ограничениями управления, такими как требования управления доступом на основе ролей (RBAC) или требования политики. Группы ресурсов не могут быть вложенными, и ресурсы могут принадлежать только одной группе ресурсов. Все действия на уровне управления применяются ко всем ресурсам в группе. Например, при удалении группы ресурсов удаляются все входящие в нее ресурсы. Предпочтительным шаблоном для управления группами ресурсов является следующий:

1. Было ли разработано содержимое группы ресурсов в комплексе?
1. Все ли содержимое группы ресурсов управляется, обновляется и отслеживается в комплексе? Выполняются ли такие операции одними и теми же специалистами в команде?
1. Прекращается ли использование ресурсов в группе в комплексе?

Если вы ответили _НЕТ_ на любой из приведенных выше вопросов, ресурс, насчет которого вы сомневаетесь, следует поместить в другую группу ресурсов.

> [!IMPORTANT]
> Группы ресурсов также привязаны к региону, но очень часто ресурсы могут находиться в разных регионах, но в одной группе ресурсов. Это становится возможным благодаря тому, что они управляются в комплексе, как описано выше. Дополнительные сведения о выборе региона см. в [этом руководстве](../regions/index.md).

## <a name="deployment-consistency"></a>Согласованность развертывания

Поверх базового механизма группирования ресурсов платформа Azure предоставляет систему использования шаблонов для развертывания ресурсов в облачной среде. Вы можете использовать шаблоны для создания согласованной структуры и соглашений об именовании при развертывании рабочих нагрузок, применяя эти аспекты развертывания и контроля ресурсов.

[Шаблоны Azure Resource Manager](https://docs.microsoft.com/azure/azure-resource-manager/template-deployment-overview) позволяют многократно развертывать ресурсы в согласованном состоянии с использованием предопределенной структуры группы ресурсов и конфигурации. Эти шаблоны помогают задать набор стандартов в качестве основы для ваших развертываний.

Например, у вас может быть стандартный шаблон для развертывания рабочей нагрузки веб-сервера, который содержит две виртуальные машины в качестве веб-серверов и подсистему балансировки нагрузки для распределения трафика между этими серверам. Затем вы можете повторно применять этот шаблон для создания структурно идентичных наборов с виртуальными машинами и подсистемой балансировки нагрузки, когда требуется рабочая нагрузка такого типа. Вам останется лишь изменить имя развертывания и IP-адреса.

Можно также развертывать эти шаблоны программными средствами и интегрировать их со своими системами CI/CD.

## <a name="policy-consistency"></a>Согласованность политик

Чтобы обеспечить применение политик управления во время создания ресурсов, как часть проекта группирования ресурсов при развертывании ресурсов необходимо использовать типичную конфигурацию.

Объединяя группы ресурсов и стандартизированные шаблоны Resource Manager, можно применять стандарты для параметров, необходимых в развертывании, и правил [Политики Azure](https://docs.microsoft.com/azure/governance/policy/overview), применяемых к каждой группе ресурсов или ресурсу.

Например, может существовать требование подключения всех виртуальных машин, развернутых в рамках вашей подписки, к общей подсети, управляемой центральным ИТ-отделом. Вы можете создать стандартный шаблон для развертывания виртуальных машин рабочей нагрузки, чтобы создавать отдельную группу ресурсов для рабочей нагрузки и развертывать в ней виртуальные машины. У этой группы ресурсов будет правило политики, которое разрешает присоединение к общей подсети только тех сетевых интерфейсов, которые находятся внутри группы ресурсов.

Более подробное рассмотрение принудительного применения решений политики в рамках облачного развертывания см. в [этой статье](../policy-enforcement/index.md).

## <a name="hierarchical-consistency"></a>Иерархическая согласованность

Группы ресурсов позволяют поддерживать дополнительные уровни иерархии в подписке для вашей организации путем применения правил Политики Azure и элементов управления доступом на уровне группы ресурсов. Но по мере роста облачной инфраструктуры может потребоваться поддержка более сложных нормативных требований для нескольких подписок, которую можно реализовать с помощью иерархии "предприятие — подразделение — учетная запись — подписка" из Соглашения Azure Enterprise.

[Группы управления Azure](https://docs.microsoft.com/azure/governance/management-groups) позволяют упорядочивать подписки в более сложные структуры, группируя их в другие иерархии, кроме предлагаемой Соглашением Azure Enterprise. Альтернативные иерархии позволят вам применять механизмы управления доступом и применения политик сразу к нескольким подпискам и созданным в них ресурсам. Иерархии групп управления можно использовать для сопоставления подписок в облачной инфраструктуры с конкретными операциями или требованиями систем управления бизнесом. См. подробнее в руководстве по [принятию решений в отношении подписок](../subscriptions/index.md).

## <a name="automated-consistency"></a>Автоматическая согласованность

Для больших облачных развертываний глобальное управление становится более важным и более сложным. Очень важно автоматически принудительно применять нормативные требования при развертывании ресурсов, а также выполнять обновленные требования для существующих развертываний.

Служба [Azure Blueprints](https://docs.microsoft.com/azure/governance/blueprints/overview) позволяет организациям поддерживать глобальное управление большими облачными инфраструктурами в Azure. Схемы выходят за рамки возможностей, предоставляемых стандартными шаблонами Azure Resource Manager. Они позволяют создавать полные оркестрации развертываний, поддерживающие правила развертывания ресурсов и применение правил политики. Схемы поддерживают управление версиями, применение обновлений для всех подписок, где использовалась схема, и блокировку развернутых подписок для предотвращения несанкционированного создания и изменения ресурсов.

Эти пакеты развертывания позволяют ИТ-специалистам и командам разработчиков быстро развертывать новые рабочие нагрузки и сетевые ресурсы, которые соответствуют меняющимся требованиям политики организации. Схемы также можно интегрировать в конвейеры CI/CD для применения пересмотренных стандартов управления к развертываниям по мере их обновления.

## <a name="next-steps"></a>Дополнительная информация

Согласованность ресурсов — один из базовых компонентов инфраструктуры, решение о котором необходимо принять на этапе внедрения облачных решений. См. [общие сведения о принятии решений](../index.md), чтобы узнать об альтернативных шаблонах или моделях, используемых при принятии решений для других типов инфраструктуры.

> [!div class="nextstepaction"]
> [Руководства по принятию решений об архитектуре](../index.md)
