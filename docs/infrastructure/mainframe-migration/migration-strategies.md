---
title: Перенос приложений из мэйнфреймов в Azure
description: Получите техническое руководство по переключению с платформы мэйнфреймов на масштабируемый расчет и хранение в среде с высокой доступностью Azure.
author: njray
ms.author: v-nanra
ms.date: 12/26/2018
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.openlocfilehash: c0d78e54049cd0bc745f6c972f3cab1205ba25b6
ms.sourcegitcommit: 917188fa930cadddb03f9e9bbcdd7b630e4ee33e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/17/2020
ms.locfileid: "88279698"
---
<!-- cSpell:ignore njray nanra vCPUs Proliant Sysplex IPLs DASDs LPARs ISPF Panvalet -->

# <a name="make-the-switch-from-mainframes-to-azure"></a>Переход с мейнфреймов в Azure

В качестве альтернативной платформы для выполнения приложений, традиционно работающих на мейнфреймах, Azure предлагает гипермасштабируемые ресурсы для вычислений и хранения в среде с высоким уровнем доступности. Вы получите все возможности и гибкость современной облачной платформы без затрат, связанных с использованием среды мейнфрейма.

Эта статья содержит технические рекомендации по переходу с мейнфреймов в Azure.

![Сравнение мейнфреймов и Azure](../../_images/mainframe-migration/make-the-switch.png)

<!-- docsTest:ignore "vs. vCPUs" -->

## <a name="mips-and-vcpus"></a>MIPS и виртуальных ЦП

Для определения количества виртуальных центральных единиц обработки (виртуальных ЦП), необходимых для выполнения рабочих нагрузок мэйнфреймов, не существует универсальной формулы сопоставления. Но в качестве базовой метрики один миллион команд в секунду (MIPS) часто сопоставляется с виртуальными ЦП в Azure. MIPS измеряет общую вычислительную мощность мейнфрейма путем сравнения с постоянным значением числа циклов в секунду для определенного компьютера.

Небольшой организации будет достаточно не более 500 MIPS, а крупные организации обычно используют более 5000 MIPS. При цене в 1000 долл. США за единицу MIPS крупная организации расходует ежегодно около 5 миллионов долл. США на развертывание инфраструктуры мощностью 5000 MIPS. Оценка ежегодных затрат на типичное развертывание Azure такого масштаба составляет примерно одну десятую от стоимости инфраструктуры MIPS. Дополнительные сведения см. в таблице 4 из технического документа [Demystifying Mainframe-to-Azure Migration](https://azure.microsoft.com/resources/demystifying-mainframe-to-azure-migration) (Секреты перехода с мейнфрейма в Azure).

Точное сопоставление MIPS с виртуальными ЦП в Azure зависит от типа виртуальных процессоров и характера выполняемой рабочей нагрузки. Тесты производительности дают неплохую основу для оценки количества и типа необходимых виртуальных ЦП. Недавний тест HPE zREF дал следующие результаты:

- 288 MIPS на одно ядро Intel, выполняемое на серверах HP Proliant для онлайн-заданий (CICS).

- 170 MIPS на одно ядро Intel для пакетных заданий COBOL.

В этом руководстве используется оценка в 200 MIPS на один виртуальный ЦП для обработки в сети и 100 MIPS на один виртуальный ЦП для пакетной обработки.

> [!NOTE]
> Эти оценки могут измениться, как только новая серия виртуальных машин станет доступна в Azure.

## <a name="high-availability-and-failover"></a>Высокий уровень доступности и отработка отказа

Системы мейнфреймов часто предлагают доступность на уровне пяти девяток (99,999 %) при использовании взаимозависимости мейнфреймов и Parallel Sysplex. Но системным операторам все равно придется запланировать время простоя для обслуживания и начальной загрузки программ (IPL). Реальная доступность приближается к двум или трем 9S, сравнимым с высокопроизводительными серверами на базе Intel.

Для сравнения: Azure предлагает соглашения об уровне обслуживания на основе обязательства (SLA), где по умолчанию гарантируются несколько девяток для уровня доступности с оптимизацией для локальной или географической репликации служб.

Azure дополнительно повышает уровень доступности за счет репликации данных из нескольких устройств хранения локально или в другой географический регион. В случае сбоя на платформе Azure вычислительные ресурсы смогут обратиться к реплицированным данных на локальном или региональном уровне.

Если используются ресурсы Azure PaaS (платформа как услуга), например [База данных SQL Azure](/azure/sql-database/sql-database-technical-overview) или [база данных Azure Cosmos](/azure/cosmos-db/introduction), Azure автоматически выполняет отработку отказа. При использовании инфраструктуры Azure как услуги (IaaS) отработка отказа основывается на конкретных функциональных возможностях системы, таких как SQL Server Always On функции, экземпляры отказоустойчивой кластеризации и группы доступности.

## <a name="scalability"></a>Масштабируемость

Большие ЭВМ обычно масштабируются, а облачные среды масштабируются. Большие ЭВМ могут масштабироваться с помощью механизма связи (CF), но высокая стоимость оборудования и хранилища делают большие объемы больших ЭВМ для масштабирования.

Кроме того, CF обеспечивает тесно связанное вычисление, в то время как функции горизонтального масштабирования Azure слабо связаны. Облако можно масштабировать для точного соответствия пользовательским спецификациям, предоставляя нужный объем вычислительной мощности, хранилища и служб с оплатой по мере использования.

## <a name="backup-and-recovery"></a>Резервное копирование и восстановление

Клиенты мейнфреймов обычно поддерживают сайты аварийного восстановления или привлекают независимых поставщиков мейнфреймов для аварийных ситуаций. Синхронизация с сайтом аварийного восстановления обычно осуществляется через копирование данных в автономном режиме. Оба варианта приводят к большим затратам.

Автоматическая геоизбыточность также доступна через механизм связывания мэйнфреймов. Этот подход является дорогим и обычно зарезервирован для критически важных систем. Напротив, Azure предлагает простые и выгодные возможности [резервного копирования](/azure/backup/backup-overview), [восстановления](/azure/site-recovery/site-recovery-overview) и [избыточности](/azure/storage/common/storage-redundancy) на локальном или региональном уровнях, а также географическую избыточность.

## <a name="storage"></a>Память

Для хорошего понимания работы мейнфреймов важно различать несколько близких по значению терминов. Например, центральное хранилище, реальная память, реальное хранилище и основное хранилище обычно обозначают хранилище, подключенное напрямую к процессору мейнфрейма.

Оборудование для мэйнфреймов включает процессоры и многие другие устройства, такие как устройства хранения с прямым доступом (Дасдс), магнитные ленточные накопители и несколько типов пользовательских консолей. Магнитные ленты и DASD используются для системных функций и пользовательских программ.

Для мейнфреймов используются следующие типы физического хранилища:

- **Центральное хранилище:** Размещается непосредственно на процессоре мэйнфрейма, это также называется процессором или реальным хранилищем.
- **Дополнительное хранилище:** Этот тип, размещенный отдельно от мэйнфрейма, включает хранилище на Дасдс и также называется страничным хранилищем.

В облаке предлагается несколько гибких и масштабируемых вариантов, при этом оплачивать вы будете только те, которые используются. В [службе хранилища Azure](/azure/storage/common/storage-introduction) предоставляется хранилище с высокой масштабируемостью для объектов данных, служба файловой системы для облака, надежное хранилище сообщений, а также хранилище NoSQL. Для виртуальных машин управляемые и неуправляемые диски предоставляют постоянное и безопасное дисковое хранилище.

## <a name="mainframe-development-and-testing"></a>Разработка и тестирование мейнфреймов

Важной причиной для переноса приложений с мейнфреймов будет изменение процесса разработки приложений. Организациям нужно, чтобы среда разработки стала более гибкой и быстрее реагировала на потребности бизнеса.

Мейнфреймы обычно имеют отдельные логические разделы (LPAR) для разработки и тестирования, например логический раздел для контроля качества и промежуточный логический раздел. Решения разработки для мейнфреймов содержат компиляторы (COBOL, PL/I, Assembler) и редакторы. Самым распространенным решением является ISPF (Interactive System Productivity Facility — средство для производительности интерактивной системы) для операционной системы z/OS, которая работает на мейнфреймах IBM. Также широко применяются RPF (ROSCOE Programming Facility — программное средство ROSCOE) и средства Computer Associates, такие как CA Librarian и CA-Panvalet.

Компиляторы и среды эмуляции доступны для 32-разрядных платформ, поэтому разработка и тестирование обычно становятся первыми рабочими нагрузками, переносимыми с мейнфреймов в Azure. Доступность и широкое распространение [средств DevOps в Azure](https://azure.microsoft.com/solutions/devops) ускоряют процесс миграции сред разработки и тестирования.

Когда решения будут разработаны и протестированы в Azure, для развертывания на мейнфрейме потребуется скопировать код на мейнфрейм и скомпилировать его.

## <a name="next-steps"></a>Дальнейшие действия

> [!div class="nextstepaction"]
> [Перенос приложений с мейнфреймов](./application-strategies.md)