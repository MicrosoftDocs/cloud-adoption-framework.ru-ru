---
title: Миграция с мейнфреймов. Переход с мейнфреймов в Azure
titleSuffix: Microsoft Cloud Adoption Framework for Azure
description: Перенос приложений из сред мэйнфреймов в Azure для систем, которые в настоящее время выполняются на мэйнфреймах.
author: njray
ms.author: v-nanra
ms.date: 12/26/2018
ms.topic: guide
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.openlocfilehash: 00b2ee80709c36658a58f23b2848fdf1b64d856d
ms.sourcegitcommit: 443c28f3afeedfbfe8b9980875a54afdbebd83a8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2019
ms.locfileid: "71024377"
---
# <a name="make-the-switch-from-mainframes-to-azure"></a>Переход с мейнфреймов в Azure

В качестве альтернативной платформы для выполнения приложений, традиционно работающих на мейнфреймах, Azure предлагает гипермасштабируемые ресурсы для вычислений и хранения в среде с высоким уровнем доступности. Вы получите все возможности и гибкость современной облачной платформы без затрат, связанных с использованием среды мейнфрейма.

Эта статья содержит технические рекомендации по переходу с мейнфреймов в Azure.

![Сравнение мейнфреймов и Azure](../../_images/mainframe-migration/make-the-switch.png)

## <a name="mips-vs-vcpus"></a>MIPS и виртуальные ЦП

Для определения количества виртуальных центральных единиц обработки (виртуальных ЦП), необходимых для выполнения рабочих нагрузок мэйнфреймов, не существует универсальной формулы сопоставления. Но в качестве базовой метрики один миллион команд в секунду (MIPS) часто сопоставляется с виртуальными ЦП в Azure. MIPS измеряет общую вычислительную мощность мейнфрейма путем сравнения с постоянным значением числа циклов в секунду для определенного компьютера.

Небольшой организации будет достаточно не более 500 MIPS, а крупные организации обычно используют более 5000 MIPS. При цене в 1000 долл. США за единицу MIPS крупная организации расходует ежегодно около 5 миллионов долл. США на развертывание инфраструктуры мощностью 5000 MIPS. Оценка ежегодных затрат на типичное развертывание Azure такого масштаба составляет примерно одну десятую от стоимости инфраструктуры MIPS. Дополнительные сведения см. в табл. 4 [в разделе "Пошаговое описание мэйнфрейма в Azure". Технический](https://azure.microsoft.com/resources/demystifying-mainframe-to-azure-migration) документ по переносу.

Точное сопоставление MIPS с виртуальными ЦП в Azure зависит от типа виртуальных процессоров и характера выполняемой рабочей нагрузки. Тесты производительности дают неплохую основу для оценки количества и типа необходимых виртуальных ЦП. Последний тест производительности HPE Зреф содержит следующие оценки.

- 288 MIPS на одно ядро Intel, выполняемое на серверах HP Proliant для онлайн-заданий (CICS).

- 170 MIPS на одно ядро Intel для пакетных заданий COBOL.

В этом руководстве используется оценка в 200 MIPS на один виртуальный ЦП для обработки в сети и 100 MIPS на один виртуальный ЦП для пакетной обработки.

> [!NOTE]
> Эти оценки могут измениться, как только новая серия виртуальных машин станет доступна в Azure.

## <a name="high-availability-and-failover"></a>Высокий уровень доступности и отработка отказа

Системы мейнфреймов часто предлагают доступность на уровне пяти девяток (99,999 %) при использовании взаимозависимости мейнфреймов и Parallel Sysplex. Но системным операторам все равно придется запланировать время простоя для обслуживания и начальной загрузки программ (IPL). Реальная доступность приближается к двум или трем 9S, сравнимым с высокопроизводительными серверами на базе Intel.

Для сравнения: Azure предлагает соглашения об уровне обслуживания на основе обязательства (SLA), где по умолчанию гарантируются несколько девяток для уровня доступности с оптимизацией для локальной или географической репликации служб.

Azure дополнительно повышает уровень доступности за счет репликации данных из нескольких устройств хранения локально или в другой географический регион. В случае сбоя на платформе Azure вычислительные ресурсы смогут обратиться к реплицированным данных на локальном или региональном уровне.

Если используются ресурсы Azure PaaS (платформа как услуга), например [База данных SQL Azure](https://docs.microsoft.com/azure/sql-database/sql-database-technical-overview) или [база данных Azure Cosmos](https://docs.microsoft.com/azure/cosmos-db/introduction), Azure автоматически выполняет отработку отказа. При использовании инфраструктуры Azure как услуги (IaaS) отработка отказа основывается на конкретных функциональных возможностях системы, таких как SQL Server Always On функции, экземпляры отказоустойчивой кластеризации и группы доступности.

## <a name="scalability"></a>Масштабируемость

Мейнфреймы обычно масштабируются вертикально, а облачные среды — горизонтально. Большие ЭВМ могут масштабироваться с помощью механизма связи (CF), но высокая стоимость оборудования и хранилища делают большие объемы больших ЭВМ для масштабирования.

Кроме того, CF обеспечивает тесно связанное вычисление, в то время как функции горизонтального масштабирования Azure слабо связаны. Облако можно масштабировать для точного соответствия пользовательским спецификациям, предоставляя нужный объем вычислительной мощности, хранилища и служб с оплатой по мере использования.

## <a name="backup-and-recovery"></a>Резервное копирование и восстановление

Клиенты мейнфреймов обычно поддерживают сайты аварийного восстановления или привлекают независимых поставщиков мейнфреймов для аварийных ситуаций. Синхронизация с сайтом аварийного восстановления обычно осуществляется через копирование данных в автономном режиме. Оба варианта приводят к большим затратам.

Автоматическую геоизбыточность можно обеспечить за счет применения взаимозависимости мейнфреймов, хотя и за высокую стоимость, и этот вариант обычно применяется только для критически важных систем. Напротив, Azure предлагает простые и выгодные возможности [резервного копирования](https://docs.microsoft.com/azure/backup/backup-introduction-to-azure-backup), [восстановления](https://docs.microsoft.com/azure/site-recovery/site-recovery-overview) и [избыточности](https://docs.microsoft.com/azure/storage/common/storage-redundancy) на локальном или региональном уровнях, а также географическую избыточность.

## <a name="storage"></a>Служба хранилища

Для хорошего понимания работы мейнфреймов важно различать несколько близких по значению терминов. Например, центральное хранилище, реальная память, реальное хранилище и основное хранилище обычно обозначают хранилище, подключенное напрямую к процессору мейнфрейма.

Оборудование для мэйнфреймов включает процессоры и многие другие устройства, такие как устройства хранения с прямым доступом (Дасдс), магнитные ленточные накопители и несколько типов пользовательских консолей. Магнитные ленты и DASD используются для системных функций и пользовательских программ.

Для мейнфреймов используются следующие типы физического хранилища:

- **Центральное хранилище:** Расположено прямо в процессоре мейнфрейма. Также это хранилище называют процессорным или реальным хранилищем.
- **Дополнительное хранилище:** Хранилища такого типа располагаются отдельно от мейнфрейма, и к ним относятся хранилища на DASD. Также их называют хранилищами страниц.

В облаке предлагается несколько гибких и масштабируемых вариантов, при этом оплачивать вы будете только те, которые используются. В [службе хранилища Azure](https://docs.microsoft.com/azure/storage/common/storage-introduction) предоставляется хранилище с высокой масштабируемостью для объектов данных, служба файловой системы для облака, надежное хранилище сообщений, а также хранилище NoSQL. Для виртуальных машин управляемые и неуправляемые диски предоставляют постоянное и безопасное дисковое хранилище.

## <a name="mainframe-development-and-testing"></a>Разработка и тестирование мейнфреймов

Важной причиной для переноса приложений с мейнфреймов будет изменение процесса разработки приложений. Организациям нужно, чтобы среда разработки стала более гибкой и быстрее реагировала на потребности бизнеса.

Мейнфреймы обычно имеют отдельные логические разделы (LPAR) для разработки и тестирования, например логический раздел для контроля качества и промежуточный логический раздел. Решения разработки для мейнфреймов содержат компиляторы (COBOL, PL/I, Assembler) и редакторы. Самым распространенным решением является ISPF (Interactive System Productivity Facility — средство для производительности интерактивной системы) для операционной системы z/OS, которая работает на мейнфреймах IBM. Также широко применяются RPF (ROSCOE Programming Facility — программное средство ROSCOE) и средства Computer Associates, такие как CA Librarian и CA-Panvalet.

Компиляторы и среды эмуляции доступны для 32-разрядных платформ, поэтому разработка и тестирование обычно становятся первыми рабочими нагрузками, переносимыми с мейнфреймов в Azure. Доступность и широкое распространение [средств DevOps в Azure](https://azure.microsoft.com/solutions/devops) ускоряют процесс миграции сред разработки и тестирования.

Когда решения будут разработаны и протестированы в Azure, для развертывания на мейнфрейме потребуется скопировать код на мейнфрейм и скомпилировать его.

## <a name="next-steps"></a>Следующие шаги

> [!div class="nextstepaction"]
> [Перенос приложений с мейнфреймов](./application-strategies.md)
