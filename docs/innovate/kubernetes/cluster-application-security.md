---
title: Безопасность кластеров и приложений
description: Узнайте о Kubernetes в облачной инфраструктуре внедрения для обеспечения безопасности кластеров и приложений.
author: sabbour
ms.author: brblanch
ms.date: 03/20/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: innovate
ms.custom: think-tank
ms.openlocfilehash: f924b15bad38e2165a5b72e9b781dc9658db4c38
ms.sourcegitcommit: b6f2b4f8db6c3b1157299ece1f044cff56895919
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "97017553"
---
<!-- cSpell:ignore kured -->

# <a name="cluster-and-application-security"></a>Безопасность кластеров и приложений

Ознакомьтесь с Kubernetes Security Essentials и ознакомьтесь с защитой установки для кластеров и руководств по безопасности приложений.

## <a name="plan-train-and-proof"></a>Планирование, обучение и подтверждение

По мере того как вы приступите к работе, контрольный список и приведенные ниже ресурсы помогут вам спланировать кластерные операции и безопасность. Вы можете ответить на следующие вопросы:

> [!div class="checklist"]
>
> - Вы проверили модель безопасности и угроз для кластеров Kubernetes?
> - Включен ли кластер для управления доступом на основе ролей?
> [!div class="tdCol2BreakAll"]
>
> | Контрольный список  | Ресурсы |
> |------------------------------------------------------------------|-----------------------------------------------------------------|
> | **Ознакомьтесь с документом основы безопасности.** Основные цели безопасной среды Kubernetes гарантируют, что приложения, которые она запускает, защищены, что проблемы безопасности могут быть идентифицированы и устранены быстро, а будущие аналогичные проблемы будут предотвращены. | [Полное справочное руководстве по защите Kubernetes (технический документ)](https://clouddamcdnprodep.azureedge.net/gdc/gdc8LXmoZ/original)     |
> | **Проверьте настройку усиления безопасности для узлов кластера.** Зафиксированная система безопасности снижает контактную зону атаки и позволяет безопасно развертывать контейнеры. | [Усиление безопасности на узлах виртуальных машин AKS](/azure/aks/security-hardened-vm-host-image)     |
> | **Настройка управления доступом на основе ролей кластера (RBAC).** Этот механизм управления позволяет назначить пользователям или группам пользователей разрешение на выполнение каких-либо действий. Это может быть создание или изменение ресурсов, просмотр журналов выполнения рабочих нагрузок приложений и т. п. | [Общие сведения об управлении доступом на основе ролей (RBAC) в Kubernetes (видео)](https://www.youtube.com/watch?v=G3R24JSlGjY&list=PLLasX02E8BPCrIhFrc_ZiINhbRkYMKdPT&index=12) <br> [Интеграция Azure AD со службой Kubernetes Azure](/azure/aks/azure-ad-integration) <br> [Ограничение доступа к файлу конфигурации кластера](/azure/aks/control-kubeconfig-access)   |

## <a name="deploy-to-production-and-apply-best-practices"></a>Развертывание в рабочей среде и применение рекомендаций

При подготовке приложения для рабочей среды следует реализовать минимальный набор рекомендаций. На этом этапе используйте контрольный список. Вы должны иметь возможность ответить на следующие вопросы:

> [!div class="checklist"]
>
> - Настроены ли правила безопасности сети для входящего, исходящего трафика и взаимодействия внутри Pod?
> - Настроен ли кластер для автоматического применения обновлений безопасности узла?
> - Вы используете решение для проверки безопасности для рабочих нагрузок кластера и контейнера?
> [!div class="tdCol2BreakAll"]
>
> | Контрольный список  | Ресурсы |
> |------------------------------------------------------------------|-----------------------------------------------------------------|
> | **Управление доступом к кластерам с помощью членства в группах.** Настройте управление доступом на основе ролей Kubernetes (RBAC), чтобы ограничить доступ к ресурсам кластера на основе удостоверения пользователя или членства в группе. | [Управление доступом к кластерам с помощью RBAC и групп Azure AD](/azure/aks/azure-ad-rbac)    |
> | **Создайте политику управления секретами.** Безопасное развертывание конфиденциальных данных, таких как пароли и сертификаты, и управление ими с помощью управления секретами в Kubernetes. | [Общие сведения об управлении секретами в Kubernetes (видео)](https://www.youtube.com/watch?v=KmhM33j5WYk&list=PLLasX02E8BPCrIhFrc_ZiINhbRkYMKdPT&index=10) |
> | **Обеспечьте безопасность сетевого трафика внутри Pod с помощью политик сети.** Примените принцип наименьших привилегий для управления потоком сетевого трафика между модулями Pod в кластере. | [Защита трафика внутри Pod с помощью политик сети](/azure/aks/use-network-policies) |
> | **Ограничьте доступ к серверу API с помощью полномочных IP-адресов.** Повышайте безопасность кластера и уменьшайте уязвимую зону, ограничивая доступ к серверу API до ограниченного набора диапазонов IP-адресов. | [Безопасный доступ к серверу API](/azure/aks/api-server-authorized-ip-ranges) |
> | **Ограничение исходящего трафика кластера.** Сведения о том, какие порты и адреса следует разрешить при ограничении исходящего трафика для кластера. Вы можете использовать брандмауэр Azure или устройство брандмауэра стороннего производителя для защиты исходящего трафика и определить необходимые порты и адреса. | [Управление трафиком исходящего трафика для узлов кластера в AKS](/azure/aks/limit-egress-traffic) |
> | **Защита трафика с помощью брандмауэра веб-приложения (WAF).** Используйте шлюз приложений Azure в качестве входящего контроллера для кластеров Kubernetes.  | [Настройка шлюза приложений Azure в качестве входящего контроллера](/azure/application-gateway/ingress-controller-overview)    |
> | **Примените обновления безопасности и ядра к рабочим узлам.** Изучите процесс обновления узла AKS. Для защиты кластеров обновления безопасности автоматически применяются к узлам Linux в AKS. Учитываются такие обновления, как исправления безопасности для операционной системы и обновления ядра. Чтобы завершить установку некоторых обновлений, нужно перезагрузить узел. | [Использование куред для автоматической перезагрузки узлов для применения обновлений](/azure/aks/node-updates-kured) |
> | **Настройка контейнера и решения для сканирования кластеров.** Проверяйте контейнеры, отправленные в реестр контейнеров Azure, и получайте более подробные представления об узлах кластера, облачном трафике и средствах управления безопасностью. | [Интеграция реестра контейнеров Azure с центром безопасности](/azure/security-center/azure-container-registry-integration) <br> [Интеграция службы Kubernetes Azure с центром безопасности](/azure/security-center/azure-kubernetes-service-integration)  |

## <a name="optimize-and-scale"></a>Оптимизация и масштабирование

Теперь, когда приложение находится в рабочей среде, как можно оптимизировать рабочий процесс и подготовить приложение и команду к масштабированию? Для подготовки используйте контрольный список для оптимизации и масштабирования. Вы сможете ответить:

> [!div class="checklist"]
>
> - Можно ли применять политики управления и кластеризации в масштабе?
> [!div class="tdCol2BreakAll"]
>
> | Контрольный список  | Ресурсы |
> |------------------------------------------------------------------|-----------------------------------------------------------------|
> | **Применение политик управления кластерами.** Централизованное и согласованное применение ограничений и мер безопасности в кластерах. | [Управление развертываниями с помощью политики Azure](/azure/governance/policy/concepts/rego-for-aks)    |
> | **Периодически переворачивайте сертификаты кластера.** Kubernetes использует сертификаты для проверки подлинности с множеством своих компонентов. Может потребоваться периодически менять эти сертификаты для обеспечения безопасности или политики. | [Смена сертификатов в службе Kubernetes Azure (AKS)](/azure/aks/certificate-rotation)    |
