---
title: Превышение пропускной способности сети
titleSuffix: Microsoft Cloud Adoption Framework for Azure
description: Требования к хранилищу превышают пропускную способность сети в процессе миграции.
author: BrianBlanchard
ms.author: brblanch
ms.date: 04/04/2019
ms.topic: guide
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.openlocfilehash: eb6a5adeac25293539edd5d97c816fad2865345c
ms.sourcegitcommit: a26c27ed72ac89198231ec4b11917a20d03bd222
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/06/2019
ms.locfileid: "70825748"
---
# <a name="storage-requirements-exceed-network-capacity-during-a-migration-effort"></a>Требования к хранилищу превышают пропускную способность сети в процессе миграции

При миграции в облако ресурсы реплицируются и синхронизируются по сети между существующим центром обработки данных и облаком. И нередко требования к объему данных имеющихся рабочих нагрузок превышают пропускную способность сети. В этом случае процесс миграции может значительно замедлиться, а в некоторых случаях — полностью остановиться. Следующие рекомендации помогут расширить область применения [руководства по миграции Azure](../azure-migration-guide/index.md), чтобы получить решение, позволяющее обойти ограничения сети.

## <a name="general-scope-expansion"></a>Расширение общей области

Большая часть действий, необходимых для этого расширения области, будет осуществляться на этапе выполнения предварительных требований, оценки и процессов миграции.

## <a name="suggested-prerequisites"></a>Рекомендуемые предварительные требования

**Проверьте риски пропускной способности сети.** [Рационализация цифровых активов](../../digital-estate/rationalize.md) является очень рекомендуемым предварительным требованием, особенно при наличии проблем с перегрузкой доступной пропускной способности сети. Во время рационализации цифровых активов собираются [данные инвентаризации цифровых ресурсов](../../digital-estate/inventory.md). Эти данные должны включать в себя существующие требования к хранилищу для цифровых активов. Как описано в разделе [Риски репликации: физика репликации](../migration-considerations/migrate/replicate.md#replication-risks---physics-of-replication), эти данные инвентаризации можно использовать для оценки **общего размера переносимых данных**, который можно сравнить с общей **доступной пропускной способностью сети для миграции**. Если результат сравнения не соответствует требуемому **периоду изменения организации**, то эта статья поможет ускорить миграцию, сократив время, необходимое для переноса центра обработки данных.

**Используйте автономный перенос независимых хранилищ данных.** На схеме ниже приведены примеры передачи данных по сети и в автономном режиме с помощью Azure Data Box. Эти подходы можно использовать для доставки больших объемов данных в облако перед переносом рабочей нагрузки. При автономном переносе данных исходные данные копируются на устройство Azure Data Box, которое затем физически отправляется в корпорацию Майкрософт для переноса в учетную запись хранения Azure в виде файла или большого двоичного объекта. Этот процесс можно использовать для доставки данных, не привязанных непосредственно к определенной рабочей нагрузке, до выполнения других действий по переносу. Это сокращает объем данных, которые должны быть переданы по сети, и позволяет выполнить миграцию с учетом ограничений сети.

Данный подход можно использовать для перемещения данных HDFS, резервных копий, архивов, файловых серверов, приложений и т. д. В имеющемся техническом руководстве объясняется, как использовать этот подход для перемещения данных из [хранилища HDFS](/azure/storage/blobs/data-lake-storage-migrate-on-premises-hdfs-cluster) или с дисков с помощью [SMB](/azure/databox/data-box-deploy-copy-data), [NFS](/azure/databox/data-box-deploy-copy-data-via-nfs), [REST](/azure/databox/data-box-deploy-copy-data-via-rest) или [службы копирования данных](/azure/databox/data-box-deploy-copy-data-via-copy-service) в Data Box.

Существуют также [сторонние решения партнеров](https://azuremarketplace.microsoft.com/campaigns/databox/azure-data-box), которые используют Azure Data Box для миграции по методу "Seed and Feed", при котором большой объем данных перемещается в автономном режиме, но затем синхронизируется по сети, используя меньшую пропускную способность.

![Автономная передача данных и передача данных по сети с помощью Azure Data Box](../../_images/migration/databox.png)

## <a name="assess-process-changes"></a>Изменения в процессе оценки

Если требования к хранилищу для рабочей нагрузки (или рабочих нагрузок) превышают пропускную способность сети, то можно использовать Azure Data Box для автономной передачи данных.

Как правило, корпорация Майкрософт рекомендует использовать передачу по сети, если это возможно. Все зависит от скорости передачи. Передача данных по сети (даже если пропускная способность ограничена) обычно выполняется быстрее, чем физическая доставка такого же объема данных с помощью механизма автономной передачи, такого как Data Box.

Если доступно подключение к Azure, необходимо выполнить анализ перед использованием Data Box, особенно если время переноса рабочей нагрузки играет важную роль. Data Box рекомендуется использовать, только если время перемещения необходимых данных превышает время, необходимое для заполнения, доставки и восстановления данных с помощью Data Box.

### <a name="suggested-action-during-the-assess-process"></a>Предлагаемое действие во время процесса оценки

**Анализ пропускной способности сети.** Если существует риск, что для переноса данных рабочей нагрузки потребуется большая пропускная способность, чем может обеспечить сеть, то группе по внедрению облачных технологий следует добавить в процесс оценки дополнительную задачу анализа, называемую анализом пропускной способности сети. Во время выполнения этого анализа участник группы, имеющий опыт работы с локальными сетями и сетевыми подключениями, будет оценивать объем доступной пропускной способности сети и время, необходимое для передачи данных. Эту доступную пропускную способность нужно будет сравнить с требованиями к хранилищу всех ресурсов, которые будут перенесены в текущем выпуске. Если требования к хранилища превышают доступную пропускную способность, то ресурсы, поддерживающие эту рабочую нагрузку, будут выбраны для автономной передачи.

> [!IMPORTANT]
> По завершении анализа может потребоваться изменить план выпуска, чтобы учесть время, необходимое для доставки, восстановления и синхронизации ресурсов, передаваемых в автономном режиме.

**Анализ отклонения параметров.** Для каждого ресурса, передаваемого в автономном режиме, необходимо выполнить анализ отклонения параметров хранилища и конфигурации. Отклонение параметров хранилища — это количество изменений в базовом хранилище, происходящих с течением времени. Отклонение параметров конфигурации — это изменение в конфигурации ресурса с течением времени. С момента копирования хранилища до момента, когда ресурс перемещается в рабочую среду, любое отклонение параметров может быть потеряно. Если это отклонение должно быть отражено в перенесенном ресурсе, то нужно использовать синхронизацию локального ресурса и перенесенного ресурса. Это нужно пометить для рассмотрения во время выполнения миграции.

## <a name="migrate-process-changes"></a>Изменения в процессе миграции

При использовании механизмов автономной передачи [процессы репликации](../migration-considerations/migrate/replicate.md), скорее всего, не потребуются. Однако [процессы синхронизации](../migration-considerations/migrate/replicate.md) могут по-прежнему быть обязательными. Понимание результатов анализа отклонения параметров, выполненного во время процесса оценки, позволит учесть в задачах, необходимых во время миграции, что ресурс переносится в автономном режиме.

### <a name="suggested-action-during-the-migrate-process"></a>Предлагаемое действие во время процесса миграции

**Копирование хранилища.** Данный подход можно использовать для перемещения данных HDFS, резервных копий, архивов, файловых серверов, приложений и т. д. В имеющемся техническом руководстве объясняется, как использовать этот подход для перемещения данных из [хранилища HDFS](/azure/storage/blobs/data-lake-storage-migrate-on-premises-hdfs-cluster) или с дисков с помощью [SMB](/azure/databox/data-box-deploy-copy-data), [NFS](/azure/databox/data-box-deploy-copy-data-via-nfs), [REST](/azure/databox/data-box-deploy-copy-data-via-rest) или [службы копирования данных](/azure/databox/data-box-deploy-copy-data-via-copy-service) в Data Box.

Существуют также [сторонние решения партнеров](https://azuremarketplace.microsoft.com/campaigns/databox/azure-data-box), которые используют Azure Data Box для миграции по методу "Seed and Sync", при котором большой объем данных перемещается в автономном режиме, но затем синхронизируется по сети, используя меньшую пропускную способность.

**Доставка устройства.** После копирования данных устройство может быть [отправлено в корпорацию Майкрософт](/azure/databox/data-box-deploy-picked-up). После получения и импорта данные будут доступны в учетной записи хранения Azure.

**Восстановление ресурса.** [Убедитесь, что данные](/azure/databox/data-box-deploy-picked-up#verify-data-upload-to-azure) доступны в учетной записи хранения. После проверки данные можно использовать в качестве большого двоичного объекта или в Файлах Azure. Если данные — это VHD- или VHDX-файл, то его можно преобразовать в управляемые диски. Затем эти управляемые диски можно использовать для создания экземпляра виртуальной машины, которая представляет собой реплику исходного локального ресурса.

**Синхронизация.** Если для перенесенного ресурса требуется синхронизация отклонения параметров, можно использовать одно из [сторонних решений партнеров](https://azuremarketplace.microsoft.com/campaigns/databox/azure-data-box), чтобы синхронизировать файлы до тех пор, пока ресурс не будет восстановлен.

## <a name="optimize-and-promote-process-changes"></a>Изменение процесса оптимизации и перемещения в рабочую среду

Это изменение области, скорее всего, не затронет действия по оптимизации.

## <a name="secure-and-manage-process-changes"></a>Изменение процесса защиты и управления

Это изменение области, скорее всего, не затронет действия по защите и управлению.

## <a name="next-steps"></a>Следующие шаги

Вернитесь к [контрольному списку расширенной области](./index.md), чтобы убедиться, что выбранный метод миграции полностью вам подходит.

> [!div class="nextstepaction"]
> [Контрольный список расширенной области](./index.md)
