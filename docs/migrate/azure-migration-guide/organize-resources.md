---
title: Эффективная организация ресурсов Azure
titleSuffix: Microsoft Cloud Adoption Framework for Azure
description: Рекомендации по эффективной организации ресурсов Azure для простоты управления.
author: laraaleite
ms.author: kfollis
ms.date: 04/09/2019
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.custom: fasttrack-edit, AQC
ms.localizationpriority: high
ms.openlocfilehash: fc0f91ac6c2a4476786935555c4c4305f33a0980
ms.sourcegitcommit: d19e026d119fbe221a78b10225230da8b9666fe1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/24/2019
ms.locfileid: "71224053"
---
# <a name="organize-your-azure-resources"></a>Организация ресурсов Azure

Используйте приведенные здесь функции и рекомендации для защиты критически важных для вашей системы ресурсов. Добавление тегов для ресурсов, чтобы отслеживать их по значениям, понятным в вашей организации.

<!-- markdownlint-disable MD024 MD025 -->

# <a name="azure-management-groups-and-hierarchytabazuremanagmentgroupsandhierarchy"></a>[Группы и иерархия управления Azure](#tab/AzureManagmentGroupsAndHierarchy)

Организационная структура ресурсов в Azure состоит из четырех уровней: группы управления, подписки, группы ресурсов и ресурсы. На рисунке ниже показаны связи между этими уровнями.

![Схема с изображением связей в иерархии управления](./media/organize-resources/scope-levels.png)

- **Группы управления.** Это контейнеры, которые помогают управлять доступом, политикой и соответствием требованиям в нескольких подписках. Все подписки в группе управления автоматически наследуют условия, применяемые к группе управления.
- **Подписки.** Подписка позволяет объединять в группы учетные записи пользователей и ресурсы, которые были созданы с помощью этих учетных записей пользователей. Для каждой подписки есть ограничения или квоты на объем создаваемых и используемых ресурсов. Организации могут использовать подписки для управления затратами и ресурсами, которые созданы пользователями, командами или проектами.
- **Группы ресурсов.** Группа ресурсов — это логический контейнер, в котором происходит развертывание ресурсов Azure (веб-приложений, баз данных и учетных записей хранения) и управление ими.
- **Ресурсы:** Ресурсы — это создаваемые вами экземпляры служб, например виртуальные машины, хранилище или базы данных SQL.

## <a name="scope-of-management-settings"></a>Область применения параметров управления

Вы можете применять параметры управления, например политики и средства управления доступом на основе ролей, на любом уровне управления. Выбранный уровень определяет, насколько широка область применения параметра. На более низких уровнях наследуются параметры более высоких уровней. Например, если к подписке применяется политика, она также применяется ко всем группам ресурсов и ресурсам в этой подписке.

Как правило, целесообразно применять важные параметры на более высоких уровнях, а требования для конкретного проекта — на более низких уровнях. Например, вам нужно, чтобы все ресурсы для вашей организации развертывались в определенных регионах. Для этого примените политику к подписке, которая определяет разрешенные расположения. Когда другие пользователи в вашей организации будут добавлять новые ресурсы и группы ресурсов, разрешенные расположения будут применяться автоматически. Узнайте больше о политиках в разделе этого руководства, посвященном системе управления, безопасности и соответствию требованиям.

При разработке стратегии соответствия рекомендуется провести консультации с представителями тех подразделений вашей организации, которые отвечают за безопасность и соответствие требованиям, администрирование ИТ-ресурсов, организационную структуру предприятия, сети, финансы и снабжение.

::: zone target="docs"

## <a name="create-a-management-level"></a>Создание уровня управления

Вы можете создать группу управления, дополнительные подписки или группы ресурсов.

### <a name="create-management-group"></a>Создание группы управления

Создайте группу управления, которая помогает управлять доступом, политикой и соответствием требованиям в нескольких подписках.

1. Перейдите на страницу [Группы управления](https://portal.azure.com/#blade/Microsoft_Azure_ManagementGroups/HierarchyBlade).
2. Нажмите **Добавить группу управления**.

### <a name="create-subscription"></a>Создание подписки

Используйте подписки для управления затратами и ресурсами, которые созданы пользователями, командами или проектами.

1. Перейдите на страницу [Подписки](https://portal.azure.com/#blade/Microsoft_Azure_Billing/SubscriptionsBlade).
1. Выберите **Добавить**.

### <a name="create-resource-group"></a>Создать группу ресурсов

Создайте группу ресурсов, которая будет содержать ресурсы, например веб-приложения, базы данных и учетные записи хранения, с одинаковым жизненным циклом, разрешениями и политиками.

1. Перейдите на страницу [Группы ресурсов](https://portal.azure.com/#create/Microsoft.ResourceGroup).
1. Выберите **Добавить**.
1. Выберите **подписку**, для которой необходимо создать группу ресурсов.
1. Введите имя для **группы ресурсов**.
1. Выберите **регион** для расположения группы ресурсов.

## <a name="learn-more"></a>Подробнее

Дополнительные сведения см. на следующих ресурсах:

- [Основные сведения об управлении доступом к ресурсам в Azure](../../govern/resource-consistency/resource-access-management.md)
- [Упорядочение ресурсов с помощью групп управления Azure](https://docs.microsoft.com/azure/azure-resource-manager/management-groups-overview)
- [Подписка Azure, границы, квоты и ограничения службы](https://docs.microsoft.com/azure/azure-subscription-service-limits)

::: zone-end

::: zone target="chromeless"

## <a name="actions"></a>Действия

**Создание группы управления.**

Создайте группу управления, которая помогает управлять доступом, политикой и соответствием требованиям в нескольких подписках.

1. Перейдите на страницу **Группы управления**.
1. Нажмите **Добавить группу управления**.

::: form action="OpenBlade[#blade/Microsoft_Azure_ManagementGroups/HierarchyBlade]" submitText="Go to Management groups" :::

**Создание дополнительной подписки.**

Используйте подписки для управления затратами и ресурсами, которые созданы пользователями, командами или проектами.

1. Перейдите на страницу **Подписки**.
1. Выберите **Добавить**.

::: form action="OpenBlade[#blade/Microsoft_Azure_Billing/SubscriptionsBlade]" submitText="Go to Subscriptions" :::

**Создание группы ресурсов.**

Создайте группу ресурсов, которая будет содержать ресурсы, например веб-приложения, базы данных и учетные записи хранения, с одинаковым жизненным циклом, разрешениями и политиками.

1. Перейдите на страницу **Группы ресурсов**.
1. Выберите **Добавить**.
1. Выберите **подписку**, для которой необходимо создать группу ресурсов.
1. Введите имя для **группы ресурсов**.
1. Выберите **регион** для расположения группы ресурсов.

::: form action="Create[#create/Microsoft.ResourceGroup]" submitText="Create a resource group" :::

::: zone-end

# <a name="naming-standardstabnamingstandards"></a>[Стандарты именования](#tab/NamingStandards)

Хорошо продуманные стандарты именования позволяют определять ресурсы на портале, в счете и в сценариях. Скорее всего, у вас уже есть стандарты именования для локальной инфраструктуры. При добавлении Azure в свою среду следует распространить эти стандарты именования на ресурсы Azure. Стандарты именования помогают более эффективно управлять средой на всех уровнях. Вы можете использовать Политику Azure в качестве инструмента для применения стандартов именования во всей среде Azure.

::: zone target="docs"

Рекомендуем ознакомиться с [руководством по шаблонам и рекомендациям](https://docs.microsoft.com/azure/architecture/best-practices/naming-conventions) и применить полученные знания.

>[!TIP]
>Старайтесь не использовать специальные символы (`-` или `_`) в качестве первого или последнего символа имени. Такие имена не пройдут проверку по большинству правил.

::: zone-end

| Сущность | Область | Длина | Регистр | Допустимые знаки | Рекомендуемый шаблон | Пример |
| --- | --- | --- | --- | --- | --- | --- |
|группа ресурсов. |Subscription |1–90 |Без учета регистра |Буквы, цифры, символ подчеркивания, круглые скобки, дефис и точка (но не в конце имени) и символы Юникода |`<service short name>-<environment>-rg` |`profx-prod-rg` |
|Группа доступности |группа ресурсов. |От 1 до 80 |Без учета регистра |Буквы, цифры, символ подчеркивания и дефис |`<service-short-name>-<context>-as` |`profx-sql-as` |
|Тег |Связанная сущность |512 (имя), 256 (значение) |Без учета регистра |Буквенно-цифровой |`"key" : "value"` |`"department" : "Central IT"` |

# <a name="resource-tagstabresourcetags"></a>[Теги ресурсов](#tab/ResourceTags)

С помощью тегов можно быстро идентифицировать ресурсы и группы ресурсов. К ресурсам Azure можно применять теги, чтобы логически упорядочивать их по категориям. Каждый тег состоит из имени и значения. Например, имя Environment и значение Production можно применить ко всем ресурсам в рабочей среде.

Применив теги, вы сможете получить все ресурсы в подписке с именем и значением нужного тега. Теги позволяют извлекать связанные ресурсы из разных групп ресурсов, что упрощает их упорядочение для выставления счетов или управления.

Вы также можете использовать теги для других целей. Распространенные варианты использования:

- **Метаданные и документация.** Администраторы могут с легкостью просматривать сведения о ресурсах, с которыми они работают, применяя теги, например ProjectOwner, чтобы узнать, кто является владельцем проекта.
- **Автоматизация** — Вы можете регулярно запускать скрипты для выполнения действий на основе значения тега, например времени завершения работы (ShutdownTime) или даты отзыва (DeprovisionDate).
- **Выставление счетов.** Теги можно применять в счетах. Они помогают сегментировать счет, например, чтобы определить место возникновения затрат (тег CostCenter) или получателя счета (тег BillTo).

Каждая группа ресурсов может иметь не более 15 пар "имя — значение" для тегов. Но это ограничение касается только тегов, которые применяются напрямую к группе ресурсов или отдельному ресурсу.

Чтобы получить дополнительные сведения об использовании тегов, ознакомьтесь с [соглашениями об именовании Центра архитектуры Azure для ресурсов Azure](../../ready/considerations/naming-and-tagging.md#metadata-tags).

::: zone target="docs"

## <a name="apply-a-resource-tag"></a>Применение тега ресурса

Чтобы применить тег к группе ресурсов, сделайте следующее:

1. Перейдите на страницу [Группы ресурсов](https://portal.azure.com/#blade/HubsExtension/Resources/resourceType/Microsoft.Resources%2Fsubscriptions%2FresourceGroups).
1. Выберите группу ресурсов.
1. Нажмите **Теги**.
1. Введите новые имя и значение или выберите существующие в раскрывающемся списке.

## <a name="learn-more"></a>Подробнее

Дополнительные сведения см. в статье об [организации ресурсов Azure с помощью тегов](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-using-tags).

::: zone-end

::: zone target="chromeless"

## <a name="action"></a>Действие

**Применение тега ресурса.**

Чтобы применить тег к группе ресурсов, сделайте следующее:

1. Перейдите на страницу **Группы ресурсов**.
1. Выберите группу ресурсов.
1. Нажмите **Теги**.
1. Введите новые имя и значение или выберите существующие.

::: form action="OpenBlade[#blade/HubsExtension/Resources/resourceType/Microsoft.Resources%2Fsubscriptions%2FresourceGroups]" submitText="Go to resource groups" :::

::: zone-end
