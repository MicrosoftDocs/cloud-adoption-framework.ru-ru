---
title: Рекомендации, когда требования к данным превышают емкость сети во время миграции
description: Рекомендации, когда требования к данным превышают емкость сети во время миграции
author: BrianBlanchard
ms.author: brblanch
ms.date: 07/01/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.openlocfilehash: af71b68e61eff8c8c6ce508f2d91a19fece06583
ms.sourcegitcommit: 9163a60a28ffce78ceb5dc8dc4fa1b83d7f56e6d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/17/2020
ms.locfileid: "86450906"
---
<!-- cSpell:ignore HDFS databox VHDX -->

# <a name="best-practices-when-data-requirements-exceed-network-capacity-during-a-migration-effort"></a>Рекомендации, когда требования к данным превышают емкость сети во время миграции

При миграции в облако ресурсы реплицируются и синхронизируются по сети между существующим центром обработки данных и облаком. И нередко требования к объему данных имеющихся рабочих нагрузок превышают пропускную способность сети. В этом случае процесс миграции может значительно замедлиться, а в некоторых случаях — полностью остановиться. Следующие рекомендации помогут расширить область применения [руководства по миграции Azure](../azure-migration-guide/index.md), чтобы получить решение, позволяющее обойти ограничения сети.

## <a name="general-scope-expansion"></a>Расширение общей области

Большая часть этих усилий, необходимых для этого расширения области, будет происходить во время предварительных требований, оценки и миграции этапов миграции.

## <a name="suggested-prerequisites"></a>Рекомендуемые предварительные требования

**Проверка емкости сети.** [рациональное](../../digital-estate/rationalize.md) соблюдение цифровых ресурсов является очень рекомендуемым условием, особенно при наличии проблем с нагрузкой доступной емкости сети. Во время рационализации цифровых активов собираются [данные инвентаризации цифровых ресурсов](../../digital-estate/inventory.md). Эти данные должны включать в себя существующие требования к хранилищу для цифровых активов. Как описано в статьях [о рисках репликации: физика репликации](../migration-considerations/migrate/replicate.md#replication-risks---physics-of-replication), эта инвентаризация может использоваться для оценки **общего размера данных миграции**, который можно сравнить с общей **доступной пропускной способностью миграции**. Если результат сравнения не соответствует требуемому **периоду изменения организации**, то эта статья поможет ускорить миграцию, сократив время, необходимое для переноса центра обработки данных.

**Автономная перенос независимых хранилищ данных:** На рисунке ниже приведены примеры передачи данных в сети и в автономном режиме с помощью Azure Data Box. Эти подходы можно использовать для доставки больших объемов данных в облако перед переносом рабочей нагрузки. При переносе данных в автономном режиме исходные данные копируются в Azure Data Box, которые затем физически отправляются в корпорацию Майкрософт для перемещения в учетную запись хранения Azure в виде файла или большого двоичного объекта. Этот процесс можно использовать для доставки данных, не привязанных непосредственно к определенной рабочей нагрузке, до выполнения других действий по переносу. Это сокращает объем данных, которые должны быть переданы по сети, и позволяет выполнить миграцию с учетом ограничений сети.

Этот подход можно использовать для перемещения данных из HDFS, резервных копий, архивов, файловых серверов и приложений. В существующем техническом руководстве объясняется, как использовать этот подход для перемещения данных из [хранилища HDFS](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-migrate-on-premises-hdfs-cluster) или с дисков, использующих [протокол SMB](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data), [NFS](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-nfs), [restful](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-rest)или [службу копирования данных](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-copy-service) , для Data Box.

Существуют также сторонние решения партнеров, которые используют Azure Data Box для миграции начального и веб-канала, где большой объем данных перемещается через автономную передачу, но затем синхронизируется в более низком масштабе по сети.

![Автономная передача данных и передача данных по сети с помощью Azure Data Box](../../_images/migrate/data-box.png)

## <a name="assess-process-changes"></a>Изменения в процессе оценки

Если требования к хранилищу для рабочей нагрузки (или рабочих нагрузок) превышают пропускную способность сети, то можно использовать Azure Data Box для автономной передачи данных.

Передача по сети является рекомендуемым подходом, если сеть недоступна. Скорость передачи данных по сети, даже если полоса пропускания ограничена, обычно выполняется быстрее, чем физическая доставка одинакового объема данных с помощью механизма автономной передачи, такого как Data Box.

Если доступно подключение к Azure, необходимо выполнить анализ перед использованием Data Box, особенно если время переноса рабочей нагрузки играет важную роль. Data Box рекомендуется использовать, только если время перемещения необходимых данных превышает время, необходимое для заполнения, доставки и восстановления данных с помощью Data Box.

### <a name="suggested-action-during-the-assess-process"></a>Предлагаемое действие во время процесса оценки

**Анализ емкости сети:** Если требования к переносу данных, связанные с рабочей нагрузкой, подвергаются риску превышения емкости сети, Группа внедрения облака будет добавлять к процессу оценки дополнительную задачу анализа, называемую анализом емкости сети. Во время выполнения этого анализа участник группы, имеющий опыт работы с локальными сетями и сетевыми подключениями, будет оценивать объем доступной пропускной способности сети и время, необходимое для передачи данных. Эту доступную пропускную способность нужно будет сравнить с требованиями к хранилищу всех ресурсов, которые будут перенесены в текущем выпуске. Если требования к хранилища превышают доступную пропускную способность, то ресурсы, поддерживающие эту рабочую нагрузку, будут выбраны для автономной передачи.

> [!IMPORTANT]
> По завершении анализа может потребоваться изменить план выпуска, чтобы учесть время, необходимое для доставки, восстановления и синхронизации ресурсов, передаваемых в автономном режиме.

**Анализ смещений:** Каждый ресурс, который необходимо переносить в автономный режим, должен быть проанализирован для хранения и смещения конфигурации. Отклонение параметров хранилища — это количество изменений в базовом хранилище, происходящих с течением времени. Отклонение параметров конфигурации — это изменение в конфигурации ресурса с течением времени. С момента копирования хранилища до момента, когда ресурс перемещается в рабочую среду, любое отклонение параметров может быть потеряно. Если это отклонение должно быть отражено в перенесенном ресурсе, то нужно использовать синхронизацию локального ресурса и перенесенного ресурса. Это нужно пометить для рассмотрения во время выполнения миграции.

## <a name="migration-process-changes"></a>Изменения процесса миграции

При использовании механизмов автономной передачи [процессы репликации](../migration-considerations/migrate/replicate.md), скорее всего, не потребуются. Однако [процессы синхронизации](../migration-considerations/migrate/replicate.md) могут по-прежнему быть обязательными. Понимание результатов анализа смещений, выполненных во время процесса оценки, сообщит о задачах, необходимых во время миграции, если ресурс переносится в автономный режим.

### <a name="suggested-action-during-the-migration-process"></a>Предлагаемое действие в процессе миграции

**Копировать хранилище:** Этот подход можно использовать для перемещения данных HDFS, резервных копий, архивов, файловых серверов или приложений. В существующем техническом руководстве объясняется, как использовать этот подход для перемещения данных из [хранилища HDFS](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-migrate-on-premises-hdfs-cluster) или с дисков, использующих [протокол SMB](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data), [NFS](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-nfs), [restful](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-rest)или [службу копирования данных](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-copy-service) , для Data Box.

Существуют также сторонние решения партнеров, которые используют Azure Data Box для миграции по методу "Seed and Sync", при котором большой объем данных перемещается в автономном режиме, но затем синхронизируется по сети, используя меньшую пропускную способность.

**Доставка устройства:** После копирования данных устройство может быть [отправлено в корпорацию Майкрософт](https://docs.microsoft.com/azure/databox/data-box-deploy-picked-up). После получения и импорта данные доступны в учетной записи хранения Azure.

**Восстановите ресурс** . [Убедитесь, что данные](https://docs.microsoft.com/azure/databox/data-box-deploy-picked-up#verify-data-upload-to-azure) доступны в учетной записи хранения. После проверки данные можно использовать в качестве большого двоичного объекта или в Файлах Azure. Если данные — это VHD- или VHDX-файл, то его можно преобразовать в управляемые диски. Затем эти управляемые диски можно использовать для создания экземпляра виртуальной машины, которая представляет собой реплику исходного локального ресурса.

**Синхронизация:** Если для перенесенного ресурса требуется синхронизация отклонения, одно из сторонних решений партнеров можно использовать для синхронизации файлов до тех пор, пока ресурс не будет восстановлен.

## <a name="optimize-and-promote-process-changes"></a>Изменение процесса оптимизации и перемещения в рабочую среду

Это изменение области, скорее всего, не затронет действия по оптимизации.

## <a name="secure-and-manage-process-changes"></a>Изменение процесса защиты и управления

Это изменение области, скорее всего, не затронет действия по защите и управлению.

## <a name="next-steps"></a>Дальнейшие действия

Вернитесь к [контрольному списку рекомендаций по миграции](./index.md) , чтобы убедиться, что метод миграции полностью согласован.

> [!div class="nextstepaction"]
> [Контрольный список рекомендаций по миграции](./index.md)
