---
title: Рекомендации, когда требования к данным превышают емкость сети во время миграции
description: Рекомендации, когда требования к данным превышают емкость сети во время миграции
author: BrianBlanchard
ms.author: brblanch
ms.date: 07/01/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.openlocfilehash: 28a06749f9681f42ede11813c1477754418236b1
ms.sourcegitcommit: 452e09b543e7b84f943db5b02480ba2d18afd939
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/06/2020
ms.locfileid: "87866219"
---
<!-- cSpell:ignore HDFS databox VHDX -->

# <a name="best-practices-when-data-requirements-exceed-network-capacity-during-a-migration-effort"></a>Рекомендации, когда требования к данным превышают емкость сети во время миграции

При миграции в облако вы реплицируете и синхронизируете ресурсы по сети между существующим центром обработки данных и облаком. Это нередкое требование к объему данных, предъявляемых различными рабочими нагрузками, для превышения емкости сети. В этом случае процесс миграции может значительно замедлиться, а в некоторых случаях — полностью остановиться. Следующие рекомендации расширяют область [руководства по миграции Azure](../azure-migration-guide/index.md) , чтобы обеспечить решение, которое работает с ограничениями сети.

## <a name="general-scope-expansion"></a>Расширение общей области

Большая часть усилий, необходимых для этого расширения области, происходит во время предварительных требований, оценки и миграции этапов миграции.

## <a name="suggested-prerequisites"></a>Рекомендуемые предварительные требования

**Проверка емкости сети.** [рациональное](../../digital-estate/rationalize.md) соблюдение цифровых ресурсов является очень рекомендуемым условием, особенно при наличии проблем с нагрузкой доступной емкости сети. Во время рационализации цифровых ресурсов вы соберете [инвентаризацию цифровых активов](../../digital-estate/inventory.md). Эти данные должны включать в себя существующие требования к хранилищу для цифровых активов. 

Как описано в статьях [о рисках репликации: физика репликации](../migration-considerations/migrate/replicate.md#replication-risks---physics-of-replication), вы можете использовать эту инвентаризацию для оценки общего размера данных миграции, который можно сравнить с общей доступной пропускной способностью миграции. Если результат сравнения не соответствует требуемому периоду изменения организации, то эта статья поможет ускорить миграцию, сократив время, необходимое для переноса центра обработки данных.

**Автономная перенос независимых хранилищ данных:** На следующей схеме показаны примеры передачи данных в сети и в автономном режиме с помощью Azure Data Box. Эти подходы можно использовать для доставки больших объемов данных в облако до миграции рабочей нагрузки. При переносе данных в автономном режиме данные из источника копируются в Azure Data Box, который физически передается в корпорацию Майкрософт для перемещения в учетную запись хранения Azure в виде файла или большого двоичного объекта. До других усилий по миграции можно использовать этот процесс для доставки данных, которые не привязаны напрямую к определенной рабочей нагрузке. Это сокращает объем данных, которые необходимо отгрузить по сети, и поддерживает завершение миграции в пределах ограничений сети.

Этот подход можно использовать для перемещения данных из HDFS, резервных копий, архивов, файловых серверов и приложений. В существующем техническом руководстве объясняется, как использовать этот подход для перемещения данных [из хранилища HDFS](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-migrate-on-premises-hdfs-cluster) или с дисков с помощью [протокола SMB](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data), [NFS](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-nfs), [RESTful](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-rest)или [службы копирования данных](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-copy-service) для Data Box.

Существуют также сторонние решения партнеров, которые используют Azure Data Box для миграции. С помощью этих решений вы перемещаете большой объем данных при перемещении в автономный режим, но затем синхронизируйте его позже по сети.

![Схема, демонстрирующая перенос данных в автономный и сетевой режим с помощью Azure Data Box.](../../_images/migrate/data-box.png)

## <a name="assess-process-changes"></a>Изменения в процессе оценки

Если требования к хранению рабочей нагрузки (или рабочих нагрузок) превышают емкость сети, можно по-прежнему использовать Azure Data Box в автономной перегрузке данных.

Передача по сети является рекомендуемым подходом, если сеть недоступна. Скорость передачи данных по сети, даже если полоса пропускания ограничена, обычно выполняется быстрее, чем физическая доставка данных с помощью механизма автономного переноса.

Если доступно подключение к Azure, необходимо провести анализ перед использованием Data Box, особенно если для миграции рабочей нагрузки учитывается время. Data Box рекомендуется, только если время на перемещение необходимых данных превышает время, необходимое для его заполнения, отправки и восстановления.

### <a name="suggested-action-during-the-assess-process"></a>Предлагаемое действие во время процесса оценки

**Анализ емкости сети:** Если требования к переносу данных, связанные с рабочей нагрузкой, подвергаются риску превышения емкости сети, Группа внедрения облачных технологий добавляет к процессу оценки, именуемому анализ емкости сети, дополнительную задачу анализа. Во время этого анализа участник команды оценивает объем доступной сетевой мощности и требуемое время на перемещение данных. Обратите внимание, что этот член команды должен иметь опыт в отношении локальной сети и сетевого подключения.

Доступная емкость сравнивается с требованиями к хранилищу всех ресурсов, подлежат миграции в текущем выпуске. Если требования к объему хранилища превышают доступную пропускную способность, для автономной передачи выбираются активы, поддерживающие рабочую нагрузку.

> [!IMPORTANT]
> По завершении анализа может потребоваться обновить план выпуска, чтобы отразить время, необходимое для поставки, восстановления и синхронизации ресурсов, передаваемых в автономном режиме.

**Анализ смещений:** Анализируйте каждый ресурс, который должен быть переведен в автономный режим для хранения и смещения конфигурации. *Смещение хранилища* — это объем изменений в базовом хранилище с течением времени. *Смещение конфигурации* изменяется в конфигурации ресурса с течением времени. С момента копирования хранилища на время, когда ресурс передается в рабочую среду, любое смещение может быть потеряно. Если это смещение необходимо отразить в перенесенном ресурсе, необходимо синхронизировать локальный ресурс и перенесенный ресурс. Отметьте это для рассмотрения во время выполнения миграции.

## <a name="migration-process-changes"></a>Изменения процесса миграции

При использовании автономных механизмов передач обычно [процессы репликации](../migration-considerations/migrate/replicate.md) не требуются, в то время как [процессы синхронизации](../migration-considerations/migrate/replicate.md) по-прежнему могут потребоваться. Если ресурс переносится в автономный режим, анализ результатов анализа отклонения от процесса оценки будет сообщать о задачах, необходимых во время миграции.

### <a name="suggested-action-during-the-migration-process"></a>Предлагаемое действие в процессе миграции

**Копировать хранилище:** Этот подход можно использовать для перемещения данных HDFS, резервных копий, архивов, файловых серверов или приложений. В существующем техническом руководстве объясняется, как использовать этот подход для перемещения данных [из хранилища HDFS](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-migrate-on-premises-hdfs-cluster) или с дисков с помощью [протокола SMB](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data), [NFS](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-nfs), [RESTful](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-rest)или [службы копирования данных](https://docs.microsoft.com/azure/databox/data-box-deploy-copy-data-via-copy-service) для Data Box.

Существуют также сторонние решения партнеров, которые используют Azure Data Box для миграции. С помощью этих решений вы перемещаете большой объем данных при перемещении в автономный режим, но затем синхронизируйте его позже по сети.

**Доставка устройства:** После копирования данных можно [Отправить устройство в корпорацию Майкрософт](https://docs.microsoft.com/azure/databox/data-box-deploy-picked-up). После получения и импорта данных они доступны в учетной записи хранения Azure.

**Восстановите ресурс** . [Убедитесь, что данные](https://docs.microsoft.com/azure/databox/data-box-deploy-picked-up#verify-data-upload-to-azure) доступны в учетной записи хранения. В этом случае данные можно использовать в качестве большого двоичного объекта или в службе файлов Azure. Если данные являются файлом VHD или VHDX, его можно преобразовать в управляемые диски. Затем эти управляемые диски можно использовать для создания экземпляра виртуальной машины, которая представляет собой реплику исходного локального ресурса.

**Синхронизация:** Если синхронизация смещения является требованием для перенесенного ресурса, можно использовать одно из сторонних решений партнеров для синхронизации файлов до восстановления ресурса.

## <a name="optimize-and-promote-process-changes"></a>Изменение процесса оптимизации и перемещения в рабочую среду

Это изменение в области действия не затрагивает действия оптимизации.

## <a name="secure-and-manage-process-changes"></a>Изменение процесса защиты и управления

Это изменение в области действия не влияет на безопасность и управление действиями.

## <a name="next-steps"></a>Дальнейшие шаги

Вернитесь к контрольному списку, чтобы убедиться, что метод миграции полностью согласован.

> [!div class="nextstepaction"]
> [Контрольный список рекомендаций по миграции](./index.md)
