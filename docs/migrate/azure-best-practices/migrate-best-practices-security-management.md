---
title: Рекомендации по обеспечению безопасности и управлению рабочими нагрузками, перенесенными в Azure
description: Используйте платформу внедрения облаков для Azure, чтобы получить рекомендации по эксплуатации, управлению и обеспечению безопасности перенесенных рабочих нагрузок.
author: BrianBlanchard
ms.author: brblanch
ms.date: 07/01/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.custom: internal
ms.openlocfilehash: fd4ab0ec5e2205689e78f6780847a8fe3ba28cda
ms.sourcegitcommit: b6f2b4f8db6c3b1157299ece1f044cff56895919
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/10/2020
ms.locfileid: "97026104"
---
<!-- docutune:casing "Update Management" -->
<!-- cSpell:ignore FIPS SIEM majeure NSGs -->

# <a name="best-practices-to-secure-and-manage-workloads-migrated-to-azure"></a>Рекомендации по обеспечению безопасности и управлению рабочими нагрузками, перенесенными в Azure

Планируя и проектируя миграцию, помимо продумывания самой миграции, нужно учитывать модель безопасности и управления в Azure после миграции. В этой статье описывается планирование и рекомендации по защите развертывания Azure после миграции. Он также охватывает текущие задачи, позволяющие обеспечить оптимальный уровень развертывания.

> [!IMPORTANT]
> Рекомендации и мнения, приведенные в этой статье, основаны на возможностях платформы Azure и служб, доступных на момент написания этого материала. Функции и возможности со временем меняются.

## <a name="secure-migrated-workloads"></a>Обеспечение безопасности перенесенных рабочих нагрузок

После миграции наиболее важной задачей является защита перенесенных рабочих нагрузок от внутренних и внешних угроз. Следующие рекомендации помогут в этом:

- Узнайте, как использовать средства мониторинга и оценки, а также рекомендации, предоставляемые Центром безопасности Azure.
- Ознакомьтесь с рекомендациями по шифрованию данных в Azure.
- Защитите виртуальные машины от вредоносных программ и атак злоумышленников.
- Поддерживайте безопасность конфиденциальной информации в перенесенных веб-приложениях.
- Проверьте, у кого есть доступ к вашим подпискам Azure и ресурсам после миграции.
- Регулярно просматривайте журналы аудита и безопасности Azure.
- Изучите и оцените расширенные функции безопасности, которые предоставляет Azure.

Эти рекомендации более подробно описаны в следующих разделах.

## <a name="best-practice-follow-azure-security-center-recommendations"></a>Рекомендации. Следуйте рекомендациям центра безопасности Azure

Администраторы клиента Azure должны включить функции безопасности, защищающие рабочие нагрузки от атак. Центр безопасности Azure обеспечивает унифицированное управление безопасностью. В центре безопасности можно применять политики безопасности для рабочих нагрузок, ограничивать воздействие угроз, а также обнаруживать атаки и реагировать на них. Центр безопасности анализирует ресурсы и конфигурации в клиентах Azure и предоставляет рекомендации по обеспечению безопасности, включая:

- **Централизованное управление политиками:** Обеспечьте соответствие требованиям компании или нормативных требований к безопасности, централизованно управляя политиками безопасности во всех гибридных облачных рабочих нагрузках.
- **Непрерывная оценка безопасности:** Отслеживайте безопасность компьютеров, сетей, служб хранилища и данных и приложений, чтобы выявить потенциальные проблемы безопасности.
- Практические **рекомендации:** Исправьте уязвимости системы безопасности, прежде чем они могут быть использованы злоумышленниками, с приоритетными и практичными рекомендациями по безопасности.
- **Приоритетные предупреждения и инциденты:** Сначала Сосредоточьтесь на самых важных угрозах, используя приоритеты оповещений и инцидентов безопасности.

В дополнение к оценкам и рекомендациям центр безопасности Azure предоставляет другие функции безопасности, которые можно включить для конкретных ресурсов.

- **JIT-доступ.** Сократите зону сетевой атаки, используя JIT-управляемый доступ к портам управления на виртуальных машинах Azure.
  - Открытие через Интернет порта виртуальной машины 3389 в Интернете предоставляет виртуальным машинам возможность непрерывного действия от недопустимых субъектов. IP-адреса Azure хорошо известны, и злоумышленники постоянно испытывают их атаками на открытые порты 3389.
  - JIT использует группы безопасности сети (группы безопасности сети) и правила входящего трафика, ограничивающие время, в течение которого открыт конкретный порт.
  - При включенном JIT-доступе центр безопасности проверяет, имеет ли пользователь разрешения на доступ для записи на основе ролей (RBAC) для виртуальной машины. Кроме того, можно указать правила подключения пользователей к виртуальным машинам. Если разрешения разрешены, запрос на доступ утверждается, а центр безопасности настраивает группы безопасности сети для разрешения входящего трафика на выбранные порты в течение указанного периода времени. Группы безопасности сети возврат к предыдущему состоянию по истечении времени.
- **Адаптивные элементы управления приложениями.** Защита виртуальных машин программного обеспечения и вредоносных программ с помощью управления динамическими списками разрешенных приложений.
  - Адаптивные элементы управления приложениями позволяют утверждать приложения и запрещают законным пользователям или администраторам устанавливать неодобренные или заглянув программные приложения на виртуальных машинах.
    - Вы можете блокировать или предупреждать попытки запуска вредоносных приложений, избегать нежелательных или вредоносных приложений и обеспечить соответствие политике безопасности приложений вашей организации.
- **Мониторинг целостности файлов.** Обеспечьте целостность файлов, запускаемых на виртуальных машинах.
  - Не нужно устанавливать программное обеспечение, чтобы вызвать проблемы с виртуальной машиной. Причиной сбоя виртуальной машины или снижения ее производительности может стать и изменение системного файла. Мониторинг целостности файлов проверяет системные файлы и параметры реестра на предмет изменений и уведомляет вас о том, что что-то Обновлено.
  - Центр безопасности определяет файлы, для которых рекомендуется включить мониторинг.

**Подробнее:**

- Дополнительные сведения о [центре безопасности Azure](/azure/security-center/security-center-intro).
- Узнайте больше о [JIT-доступе к виртуальной машине](/azure/security-center/security-center-just-in-time).
- Дополнительные сведения о [применении адаптивных элементов управления приложениями](/azure/security-center/security-center-adaptive-application).
- [Начало работы](/azure/security-center/security-center-file-integrity-monitoring) с мониторингом целостности файлов.

## <a name="best-practice-encrypt-data"></a>Рекомендации: шифрование данных

Шифрование является важным элементом обеспечения безопасности Azure. Включение шифрования на всех уровнях помогает предотвратить доступ посторонних лиц к конфиденциальным данным, в том числе во время их передачи и хранения.

### <a name="encryption-for-infrastructure-as-a-service-iaas"></a>Шифрование для инфраструктуры как услуги (IaaS)

- **Виртуальные машины:** Для виртуальных машин можно использовать шифрование дисков Azure для шифрования дисков виртуальных машин IaaS под управлением Windows и Linux.
  - Шифрование дисков Azure использует BitLocker для Windows и DM-Encryption для Linux, чтобы обеспечить шифрование тома для операционной системы и дисков данных.
  - Можно использовать ключ шифрования, созданный в Azure, или собственные ключи шифрования, размещаемые в защищенном хранилище Azure Key Vault.
  - При использовании шифрования дисков Azure данные виртуальных машин IaaS защищаются при хранении (на диске) и во время загрузки виртуальной машины.
    - Центр безопасности Azure оповестит вас при наличии незашифрованных виртуальных машин.
- **Хранилище:** Защита неактивных данных, хранящихся в службе хранилища Azure.
  - Данные, хранящиеся в учетных записях хранения Azure, можно зашифровать с помощью созданных корпорацией Майкрософт ключей AES, совместимых с FIPS 140-2. также можно использовать собственные ключи.
  - Шифрование службы хранилища Azure включено для всех новых и существующих учетных записей хранения, и его нельзя отключить.

### <a name="encryption-for-platform-as-a-service-paas"></a>Шифрование для платформы как услуги (PaaS)

В отличие от IaaS, в котором вы управляете собственными виртуальными машинами и инфраструктурой, в платформе модели PaaS и инфраструктуре управление осуществляется поставщиком. Вы можете сосредоточиться на основной логике и возможностях приложения. Учитывая большое количество типов служб PaaS, в целях безопасности каждая служба будет оцениваться по отдельности. В качестве примера давайте посмотрим, как можно включить шифрование для базы данных SQL Azure.

- **Always encrypted:** Используйте мастер Always Encrypted в SQL Server Management Studio для защиты неактивных данных.
  - Вы создаете ключ Always Encrypted для шифрования данных отдельных столбцов.
  - Ключи Always Encrypted можно хранить в зашифрованном виде в метаданных базы данных или в доверенных хранилищах ключей, например Azure Key Vault.
  - Скорее всего, для использования этой функции необходимо внести изменения в приложение.
- **Прозрачное шифрование данных (TDE):** Защитите базу данных SQL Azure с помощью шифрования и расшифровки базы данных, связанных резервных копий и файлов журналов транзакций в режиме реального времени.
  - TDE позволяет выполнять действия по шифрованию без изменений на уровне приложения.
  - TDE может использовать ключи шифрования, предоставляемые корпорацией Майкрософт, или можно воспользоваться собственным ключом.

**Подробнее:**

- Сведения о [шифровании дисков Azure для виртуальных машин и масштабируемых наборов виртуальных машин](/azure/security/fundamentals/azure-disk-encryption-vms-vmss).
- Включите [Шифрование дисков Azure для виртуальных машин Windows](/azure/virtual-machines/windows/disk-encryption-overview).
- Сведения о [шифровании службы хранилища Azure для неактивных данных](/azure/storage/common/storage-service-encryption).
- Ознакомьтесь с [обзором Always encrypted](/azure/sql-database/sql-database-always-encrypted-azure-key-vault).
- Прочитайте о [прозрачном шифровании данных для базы данных SQL и Azure синапсе](/azure/sql-database/transparent-data-encryption-azure-sql).
- Сведения о [прозрачном шифровании данных в базе данных SQL Azure с помощью ключа, управляемого клиентом](/azure/sql-database/transparent-data-encryption-byok-azure-sql).

## <a name="best-practice-protect-vms-with-antimalware"></a>Рекомендации. Защита виртуальных машин с помощью защиты от вредоносных программ

В частности, на старых виртуальных машинах, перенесенных в Azure, может не быть установлен соответствующий уровень защиты от вредоносных программ. Azure предоставляет бесплатное решение для конечных точек, которое помогает защитить виртуальные машины от вирусов, шпионских и других вредоносных программ.

- Антивредоносное по Майкрософт для облачных служб и виртуальных машин Azure создает предупреждения, если известное вредоносное или нежелательное программное обеспечение пытается установить себя.
- Это решение с одним агентом, которое выполняется в фоновом режиме без вмешательства человека.
- В центре безопасности Azure можно легко найти виртуальные машины, на которых не запущена служба Endpoint Protection, и установить антивредоносную программу Майкрософт по мере необходимости.

  ![Снимок экрана антивредоносной программы для виртуальных машин. ](./media/migrate-best-practices-security-management/antimalware.png)
   _Рис. 1. Защита от вредоносных программ для виртуальных машин._

**Подробнее:**

- Сведения о [антивредоносном по Майкрософт для Azure](/azure/security/fundamentals/antimalware).

## <a name="best-practice-secure-web-apps"></a>Рекомендации: безопасные веб-приложения

После переноса веб-приложений возникает несколько проблем:

- В большинстве устаревших веб-приложений конфиденциальные сведения хранятся в файлах конфигурации. Файлы, содержащие такие сведения, могут представлять проблемы безопасности при резервном копировании приложений, а также при возврате или извлечении кода приложения из системы управления версиями.
- При переносе веб-приложений, размещенных на виртуальной машине, скорее всего, вы перемещаете этот компьютер из локальной сети и защищенной брандмауэром среды в среду, доступную через Интернет. Необходимо убедиться в том, что настроено решение, которое работает аналогично локальным средствам защиты ресурсов.

Azure предоставляет следующие решения:

- **Azure Key Vault:** В настоящее время разработчики веб-приложений получают меры по обеспечению утечки конфиденциальной информации из этих файлов. Один из способов защиты данных — извлечь их из файлов и поместить в хранилище Azure Key Vault.
  - Key Vault можно использовать для централизации хранения секретов приложений и управления их распределением. Это позволяет избежать необходимости хранить сведения о безопасности в файлах приложений.
  - Приложения могут безопасно получать доступ к информации в хранилище с помощью URI без необходимости использования пользовательского кода.
  - Azure Key Vault позволяет блокировать доступ через средства управления безопасностью Azure, а также легко реализовывать чередующиеся ключи. Корпорация Майкрософт не увидит и не извлечет данные.
- **Среда службы приложений для Power Apps:** Если переносимое приложение нуждается в дополнительной защите, рекомендуется добавить Среда службы приложений и брандмауэр веб-приложения для защиты ресурсов приложения.
  - Среда службы приложений предоставляет полностью изолированную и выделенную среду для запуска приложений, таких как веб-приложения Windows и Linux, контейнеры DOCKER, мобильные приложения и приложения-функции.
  - Это полезно для приложений, которые имеют очень высокую масштабируемость, нуждаются в изоляции и безопасном доступе к сети или имеют высокий уровень использования памяти.
- **Брандмауэр веб-приложения:** Это функция шлюза приложений Azure, которая обеспечивает централизованную защиту для веб-приложений.
  - Она защищает веб-приложения, не требуя каких-либо изменений кода серверной части.
  - Он защищает несколько веб-приложений одновременно, за шлюзом приложений.
  - Брандмауэр веб-приложения можно отслеживать с помощью Azure Monitor. Брандмауэр веб-приложения интегрирован в центр безопасности Azure.

  ![Схема Azure Key Vault и безопасных веб-приложений. ](./media/migrate-best-practices-security-management/web-apps.png)
   _Рис. 2. Azure Key Vault._

**Подробнее:**

- Ознакомьтесь с [обзором Azure Key Vault](/azure/key-vault/general/overview).
- Сведения о [брандмауэре веб-приложения](/azure/application-gateway/waf-overview).
- Ознакомьтесь с [введением в среды службы приложений](/azure/app-service/environment/intro).
- Узнайте, как [настроить веб-приложение для чтения секретов из Key Vault](/azure/key-vault/tutorial-web-application-keyvault).

## <a name="best-practice-review-subscriptions-and-resource-permissions"></a>Рекомендации: Проверка подписок и разрешений на ресурсы

Перенос рабочих нагрузок и их запуск в Azure затрагивает множество сотрудников с доступом к рабочим нагрузкам. Вашей группе безопасности следует регулярно проверять доступ к вашему арендатору и группам ресурсов Azure. Azure предоставляет предложения для управления удостоверениями и контроля доступа, включая управление доступом на основе ролей (RBAC) для авторизации разрешений на доступ к ресурсам Azure.

- RBAC назначает разрешения на доступ субъектам безопасности. Субъекты безопасности представляют пользователей, группы (набор пользователей), субъекты-службы (удостоверения, используемые приложениями и службами) и управляемые удостоверения (удостоверение Azure Active Directory автоматически управляется Azure).
- RBAC может назначать роли субъектам безопасности, таким как владелец, участник и читатель, и определения ролей (коллекция разрешений), которые определяют операции, которые могут быть выполнены ролями.
- RBAC также может задавать области, устанавливающие границы для той или иной роли. Область можно задать на нескольких уровнях, включая группу управления, подписку, группу ресурсов или ресурс.
- Убедитесь, что администраторы с доступом к Azure имеют доступ только к тем ресурсам, которые вы хотите разрешить. Если предопределенные роли в Azure недостаточно детализированы, можно создать настраиваемые роли для разделения и ограничения разрешений на доступ.

Убедитесь, что администраторы с доступом к Azure имеют доступ только к тем ресурсам, которые вы хотите разрешить. Если предопределенные роли в Azure недостаточно детализированы, можно создать настраиваемые роли для разделения и ограничения разрешений на доступ.

  ![Снимок экрана: Управление доступом.](./media/migrate-best-practices-security-management/subscription.png)
  _Рис. 3. Управление доступом._

**Подробнее:**

- Сведения об [управлении доступом на основе ролей Azure (RBAC)](/azure/role-based-access-control/overview).
- Узнайте, как управлять доступом через [RBAC и портал Azure](/azure/role-based-access-control/role-assignments-portal).
- Сведения о [пользовательских ролях](/azure/role-based-access-control/custom-roles).

## <a name="best-practice-review-audit-and-security-logs"></a>Рекомендации: проверка журналов аудита и безопасности

Azure Active Directory (Azure AD) предоставляет журналы действий, которые отображаются в Azure Monitor. В журналы записываются сведения об операциях, выполняемых в рамках аренды Azure, и пользователе, который их проводил, а также время выполнения таких операций.

- В журналах аудита содержится история задач по арендатору. В журналах действий входа отображаются сведения о том, кто выполнял задачи.
- Доступ к отчетам безопасности зависит от лицензии Azure AD. С лицензиями Free и Basic вы получаете список рискованных пользователей и входов. С лицензиями Premium вы получаете сведения о базовом событии.
- Журналы действий можно направить на ряд конечных точек для долгосрочного хранения и анализа данных.
- Сделайте это обычным, чтобы проверить журналы или интегрировать средства управления сведениями о безопасности и событиями (SIEM) для автоматической проверки на ненормальные работы. Если вы не используете лицензию Premium, необходимо выполнить массовый анализ самостоятельно или с помощью системы SIEM. Анализ включает в себя поиск рискованных действий входа и событий, а также других шаблонов атак пользователей.

  ![Снимок экрана: пользователи и группы Azure AD. ](./media/migrate-best-practices-security-management/azure-ad.png)
   _Рис. 4. пользователи и группы Azure AD._

**Подробнее:**

- Сведения о [журналах действий Azure AD в Azure Monitor](/azure/active-directory/reports-monitoring/concept-activity-logs-azure-monitor).
- Узнайте, как [проводить аудит отчетов о действиях на портале Azure AD](/azure/active-directory/reports-monitoring/concept-audit-logs).

## <a name="best-practice-evaluate-other-security-features"></a>Рекомендации: Оценка других функций безопасности

Azure предоставляет ряд других средств защиты с расширенными возможностями обеспечения безопасности. Обратите внимание, что для некоторых из следующих рекомендаций требуются лицензии на надстройки и расширенные возможности.

- **Реализуйте административные единицы Azure AD (AU).** Делегирование административных обязанностей персоналу службы поддержки может быть непростой задачей, если используются только базовые средства управления доступом в Azure. Предоставить персоналу службы поддержки доступ к администрированию групп в Azure AD — не самый идеальный метод обеспечения безопасности организации. Использование AU позволяет разделить ресурсы Azure на контейнеры подобно локальным организационным единицам (OU). Чтобы использовать AU, администратор AU должен иметь лицензию Azure AD уровня "Премиум". Дополнительные сведения см. [в разделе Администрирование единиц управления в Azure Active Directory](/azure/active-directory/users-groups-roles/directory-administrative-units).
- **Использовать многофакторную проверку подлинности.** При наличии лицензии Azure AD ценовой категории "Премиум" можно включить и принудительно применить многофакторную проверку подлинности для учетных записей администраторов. Фишинг — наиболее распространенный способ компрометации таких учетных данных. Если у неправильного субъекта есть учетные данные администратора, нет необходимости останавливать их, например удалять все группы ресурсов. Многофакторную проверку подлинности можно настроить несколькими способами, в том числе с помощью электронной почты, приложения Authenticator и текстовых сообщений. Администратор может выбрать вариант, который будет меньше всего влиять на работу сотрудников. Многофакторная идентификация интегрируется с аналитикой угроз и политиками условного доступа для случайного запроса многофакторной проверки подлинности. Ознакомьтесь с инструкциями по [обеспечению безопасности](/azure/active-directory/authentication/multi-factor-authentication-security-best-practices) и [настройке многофакторной проверки подлинности](/azure/active-directory/authentication/multi-factor-authentication-security-best-practices).
- **Реализуйте условный доступ.** В самых малых и средних организациях администраторы Azure и группа поддержки, вероятно, находятся в одном географическом регионе. В этом случае большинство входов поступают из одних и тех же областей. Если IP-адреса этих расположений являются довольно статическими, то имеет смысл не видеть вход администратора за пределами этих областей. Даже если удаленный неисправный субъект нарушает учетные данные администратора, вы можете реализовать такие функции безопасности, как условный доступ, в сочетании с многофакторной проверкой подлинности, чтобы предотвратить вход из удаленных расположений. Это также может препятствовать случайному расположению случайных IP-адресов. Узнайте больше об [условном доступе](/azure/active-directory/conditional-access/overview) и [Ознакомьтесь с рекомендациями](/azure/active-directory/conditional-access/best-practices) по условному доступу в Azure AD.
- **Ознакомьтесь с разрешениями корпоративного приложения.** Со временем администраторы выбирают ссылки Майкрософт и сторонних поставщиков, не зная их влияния на организацию. Ссылки могут представлять экраны согласия, которые назначают разрешения для приложений Azure. Это может разрешить доступ для чтения данных Azure AD или даже полный доступ для управления всей подпиской Azure. Следует регулярно просматривать приложения, к которым администраторы и пользователи могут получить доступ к ресурсам Azure. Убедитесь, что эти приложения имеют только необходимые разрешения. Кроме того, ежеквартально или в течение ежегодного года можно отправить пользователям по электронной почте ссылку на страницы приложения, чтобы они были осведомлены о приложениях, которым разрешен доступ к данным Организации. Дополнительные сведения см. в разделе [непредвиденное приложение в списке моих приложений](/azure/active-directory/manage-apps/application-types)и [Управление](/azure/active-directory/manage-apps/remove-user-or-group-access-portal) назначениями приложений в Azure AD.

## <a name="managed-migrated-workloads"></a>Управляемые перенесенные рабочие нагрузки

В следующих разделах мы советуем ознакомиться с некоторыми рекомендациями по управлению Azure, включая:

- Советы и рекомендации по управлению ресурсами и группами ресурсов Azure, включая интеллектуальное именование, предотвращение случайного удаления, управление разрешениями на ресурсы и эффективное снабжение ресурсов тегами.
- Общие сведения об использовании схем для создания сред развертывания и управления ими.
- Рассмотрите примеры архитектур Azure, которые можно изучить для развертывания после миграции.
- При наличии нескольких подписок, можно объединить их в группы управления и применить параметры управления к группам.
- Примените политики соответствия требованиям к ресурсам Azure.
- Сформируйте стратегию обеспечения непрерывности бизнеса и аварийного восстановления (BCDR) для поддержания безопасности данных, устойчивости среды и работы ресурсов при возникновении сбоев.
- Объедините виртуальные машины в группы доступности для обеспечения устойчивости и высокого уровня доступности. Управляемые диски упростят администрирование дисков и хранилища виртуальных машин.
- Включите ведение журналов диагностики для ресурсов Azure, создайте оповещения и сборники схем для упреждающего устранения неполадок, а также используйте панель мониторинга Azure для унифицированного представления работоспособности и состояния развернутой службы.
- Составьте четкое представление о своем плане поддержки Azure и способе его реализации, ознакомьтесь с рекомендациями по поддержанию виртуальных машин в обновленном состоянии и внедрите процессы для управления изменениями.

## <a name="best-practice-name-resource-groups"></a>Рекомендации: именование групп ресурсов

Убедитесь, что группы ресурсов имеют понятные имена, которые администраторы и участники команды поддержки могут легко распознавать и сканировать. Это может радикально повысить производительность и эффективность.

При синхронизации локальной Active Directory с Azure AD с помощью Azure AD Connect рекомендуется сопоставлять имена групп безопасности в локальной среде с именами групп ресурсов в Azure.

  ![Снимок экрана: именование группы ресурсов.](./media/migrate-best-practices-security-management/naming.png)
  _Рис. 5. Именование группы ресурсов._

**Подробнее:**

- Дополнительные сведения о [рекомендуемых соглашениях об именовании](../../ready/azure-best-practices/naming-and-tagging.md).

## <a name="best-practice-implement-delete-locks-for-resource-groups"></a>Рекомендации: реализация блокировки удаления для групп ресурсов

Случайное удаление группы ресурсов крайне нежелательно. Рекомендуется реализовать блокировку удаления, чтобы это не произошло.

  ![Снимок экрана блокировки удаления.](./media/migrate-best-practices-security-management/locks.png)
  _Рис. 6. удаление блокировок._

**Подробнее:**

- Сведения о [блокировке ресурсов для предотвращения непредвиденных изменений](/azure/azure-resource-manager/resource-group-lock-resources).

## <a name="best-practice-understand-resource-access-permissions"></a>Рекомендации: Общие сведения о разрешениях на доступ к ресурсам

Владелец подписки имеет доступ ко всем группам ресурсов и ресурсам в вашей подписке.

- Такие значимые права следует назначать с осмотрительностью. Чтобы поддерживать безопасность и стабильность среды, важно понимать последствия назначения таких разрешений.
- Убедитесь, что ресурсы размещены в соответствующих группах ресурсов:
  - Совместите ресурсы с аналогичным жизненным циклом друг с другом. Тогда вам не потребуется перемещать никакие ресурсы при необходимости удалить всю группу ресурсов.
  - Ресурсы, которые поддерживают ту или иную функцию или рабочую нагрузку, следует размещать вместе для упрощенного управления.

**Подробнее:**

- Сведения о [организации подписок и групп ресурсов](https://azure.microsoft.com/blog/organizing-subscriptions-and-resource-groups-within-the-enterprise).

## <a name="best-practice-tag-resources-effectively"></a>Рекомендации. эффективное обозначение ресурсов

Часто использование только имени группы ресурсов, связанной с ресурсами, не предоставляет достаточного количества метаданных для эффективной реализации механизмов, таких как внутренняя оплата или управление в рамках подписки.

- Рекомендуется использовать теги Azure для добавления полезных метаданных, которые можно запрашивать и сообщать о них.
- Теги позволяют логически организовать ресурсы с помощью заданных вами свойств. Теги можно применять к группам ресурсов или непосредственно к ресурсам.
- Теги можно применить к группе ресурсов или отдельным ресурсам. Теги группы ресурсов не наследуются ресурсами в этой группе.
- Можно автоматизировать добавление тегов с помощью PowerShell или службы автоматизации Azure или пометить отдельные группы и ресурсы.
- Если есть запрос и установлена система управления изменениями, можно легко использовать указанные в запросе сведения для заполнения тегов ресурсов конкретной компании.

  ![Снимок экрана тегов. ](./media/migrate-best-practices-security-management/tagging.png)
   _Рис. 7. Добавление тегов._

**Подробнее:**

- Сведения об [ограничениях тегов и тегов](/azure/azure-resource-manager/management/tag-resources).
- Ознакомьтесь [с примерами PowerShell и CLI для настройки тегов и применения тегов из группы ресурсов к ее ресурсам](/azure/azure-resource-manager/management/tag-resources#powershell).
- [Ознакомьтесь](https://www.azurefieldnotes.com/2016/07/18/azure-resource-tagging-best-practices) с рекомендациями Azure по добавлению тегов.

## <a name="best-practice-implement-blueprints"></a>Рекомендации. реализация схем

Так же, как чертеж позволяет инженерам и архитекторам набросать проектные параметры проекта, служба "схемы Azure" позволяет архитекторам и центральным ИТ-специалистам определять повторяемый набор ресурсов Azure. Это помогает им реализовать стандарты, шаблоны и требования Организации и соблюдать их. С помощью чертежей Azure группы разработчиков могут быстро создавать и создавать новые среды, соответствующие требованиям Организации. Эти новые среды имеют набор встроенных компонентов, таких как сети, для ускорения разработки и доставки.

- Схемы Blueprints позволяют координировать развертывание групп ресурсов, шаблонов Azure Resource Manager и назначений политик и ролей.
- Сохраняйте планы в глобально распределенной службе Azure Cosmos DB. Объекты схемы реплицируются в нескольких регионах Azure. Репликация обеспечивает низкую задержку, высокую доступность и постоянный доступ к чертежу, независимо от региона, в котором чертеж развертывает ресурсы.

**Подробнее:**

- [Прочитайте](/azure/governance/blueprints/overview) о схемах Blueprints.
- Ознакомьтесь с [примером схемы для ускорения искусственного интеллекта в сфере здравоохранения](https://azure.microsoft.com/blog/customizing-azure-blueprints-to-accelerate-ai-in-healthcare).

## <a name="best-practice-review-azure-reference-architectures"></a>Рекомендации: Ознакомьтесь с эталонными архитектурами Azure

Создание безопасных, масштабируемых и управляемых рабочих нагрузок в Azure может казаться слишком трудоемкой задачей. Функции постоянно изменяются, и обеспечивать соответствие им для организации оптимальной среды довольно сложно. При разработке и миграции рабочих нагрузок может помочь эталонный пример. Azure и партнеры Azure создали несколько эталонных примеров архитектуры для различных типов сред. Эти примеры предоставляют идеи, на которых можно учиться и строить собственные реализации.

Эталонные архитектуры упорядочены по сценариям. Они содержат рекомендации и советы по управлению, доступности, масштабируемости и безопасности. Среда службы приложений предоставляет полностью изолированную и выделенную среду для запуска приложений, таких как веб-приложения Windows и Linux, контейнеры DOCKER, мобильные приложения и функции. Служба приложений не только реализует возможности Azure для вашего приложения, включая функции обеспечения безопасности, балансировки нагрузки, автоматического масштабирования и автоматизированного управления. Кроме того, вы можете воспользоваться такими преимуществами DevOps, как непрерывное развертывание из Azure DevOps и GitHub, управление пакетами, а также возможность использования промежуточных сред, личного домена и SSL-сертификатов. Служба приложений полезна для приложений, которым требуется изоляция и безопасный доступ к сети, а также тех, которые используют большие объемы памяти и другие ресурсы, которые необходимо масштабировать.

**Подробнее:**

- Сведения об [эталонных архитектурах Azure](/azure/architecture/reference-architectures).
- Ознакомьтесь с [примерами сценариев Azure](/azure/architecture/example-scenario).

## <a name="best-practice-manage-resources-with-azure-management-groups"></a>Рекомендации. Управление ресурсами с помощью групп управления Azure

Если в вашей организации несколько подписок, для них необходимо управлять доступом, политиками и соответствием требованиям. Группы управления Azure представляют область действия уровнем выше, чем подписки. Ниже приведен ряд советов.

- Подписки упорядочиваются в контейнеры, которые называются группами управления. К ним применяются условия системы управления.
- Все подписки в группе управления автоматически наследуют условия этой группы управления.
- Группы управления обеспечивают крупномасштабное управление корпоративными категориями независимо от типа подписки.
- Например, можно применить политику группы управления, ограничивающую список регионов, в которых могут создаваться виртуальные машины. Затем эта политика применяется ко всем группам управления, подпискам и ресурсам в этой группе управления.
- Вы можете создать гибкую структуру групп управления и подписок для упорядочения своих ресурсов в иерархию для унифицированного управления политикой и доступом.

На следующей схеме показано, как создать иерархию управления с использованием групп управления.

  ![Схема групп управления.](./media/migrate-best-practices-security-management/management-groups.png)
  _Рис. 8. группы управления._

**Подробнее:**

- Дополнительные сведения о [Организации ресурсов в группы управления](/azure/governance/management-groups).

## <a name="best-practice-deploy-azure-policy"></a>Рекомендации. Развертывание политики Azure

"Политика Azure" — это служба, которая используется для создания и назначения политик, а также управления ими. Политики применяют различные правила и эффекты к ресурсам, поэтому эти ресурсы соответствуют корпоративным стандартам и соглашениям об уровне обслуживания.

Служба "Политика Azure" оценивает ресурсы, проверяя наличие тех, которые не соответствуют установленным политикам. Например, можно создать политику, разрешающую только конкретный размер SKU для виртуальных машин в вашей среде. Политика Azure будет оценивать этот параметр при создании и обновлении ресурсов, а также при сканировании существующих ресурсов. Обратите внимание, что Azure предоставляет некоторые встроенные политики, которые можно назначить, или создайте собственную.

  ![Снимок экрана: политика Azure.](./media/migrate-best-practices-security-management/policy.png)
  _Рис. 9. Политика Azure._

**Подробнее:**

- Ознакомьтесь с [обзором политики Azure](/azure/governance/policy/overview).
- Узнайте [, как создавать политики и управлять ими для обеспечения соответствия](/azure/governance/policy/tutorials/create-and-manage).

## <a name="best-practice-implement-a-bcdr-strategy"></a>Рекомендации. Реализация стратегии BCDR

Планирование непрерывности бизнес-процессов и аварийного восстановления (BCDR) — это важное упражнение, которое необходимо выполнить в рамках процесса планирования миграции Azure. В юридических условиях ваши контракты могут включать предложение _Force форс мажорного_ , которое оправдано обязательства из-за более высокой силы, например ураганами или землетрясения. Но у вас также есть обязательства по обеспечению гарантии того, что службы будут продолжать работать, и при необходимости восстановить их там, где это необходимо. Возможность сделать это может оказаться критически важной для будущего вашей компании.

В широком смысле в стратегии BCDR нужно учитывать следующее:

- **Резервная копия данных:** Как обеспечить безопасность данных, чтобы можно было легко восстановить их при возникновении простоев.
- **Аварийное восстановление:** Обеспечение устойчивости и доступности приложений при возникновении простоев.

### <a name="set-up-bcdr"></a>Настройка BCDR

При переходе в Azure следует понимать, что хотя Платформа Azure предоставляет ряд встроенных возможностей обеспечения устойчивости, для их использования необходимо разработать развертывание Azure.

- Ваше решение BCDR будет зависеть от целей вашей компании и на них влияет стратегия развертывания Azure. Развертывание в режиме инфраструктуры как услуги (IaaS) и платформы как услуги (PaaS) ставит разные задачи перед BCDR.
- После этого решения BCDR следует регулярно тестировать, чтобы убедиться в том, что стратегия остается действительной.

### <a name="back-up-an-iaas-deployment"></a>Резервное копирование развернутой среды IaaS

В большинстве случаев локальная рабочая нагрузка выводится из эксплуатации после миграции и локальную стратегию резервного копирования данных необходимо расширять или заменять. При переносе всего центра обработки данных в Azure необходимо разработать и реализовать полное резервное копирование с помощью технологий Azure или интегрированных решений сторонних производителей.

Для рабочих нагрузок, выполняющихся на виртуальных машинах IaaS Azure, рассмотрите следующие решения резервного копирования:

- **Azure Backup:** Предоставляет резервные копии с поддержкой приложений для виртуальных машин Azure под управлением Windows и Linux.
- **Моментальные снимки хранилища:** Создает моментальные снимки хранилища BLOB-объектов.

#### <a name="azure-backup"></a>Azure Backup

Azure Backup создает точки восстановления данных, которые хранятся в службе хранилища Azure. Azure Backup может выполнять резервное копирование дисков виртуальных машин Azure и файлов в службе файлов Azure (предварительная версия). Служба файлов Azure предоставляет общие файловые ресурсы в облаке, доступные через протокол SMB.

Вы можете использовать Azure Backup для резервного копирования виртуальных машин следующими способами.

- **Прямое резервное копирование из параметров виртуальной машины.** Резервные копии виртуальных машин с помощью Azure Backup можно создавать непосредственно на основе параметров виртуальных машин на портале Azure. Вы можете создать резервную копию виртуальной машины один раз в день, а диск виртуальной машины можно восстановить по мере необходимости. Azure Backup принимает моментальные снимки данных, поддерживающие приложения, и на виртуальной машине агент не устанавливается.
- **Прямое резервное копирование в хранилище Служб восстановления.** Для виртуальных машин IaaS можно выполнять резервное копирование путем развертывания хранилища Служб восстановления Azure Backup. Это обеспечивает единое расположение для мониторинга резервных копий и управления ими, а также детализированные параметры резервного копирования и восстановления. Резервное копирование занимает до трех раз в день, на уровне файлов и папок. Он не поддерживает приложения, а Linux не поддерживается. Установите агент служб восстановления Microsoft Azure (MARS) на каждой виртуальной машине, для которой требуется создать резервную копию, с помощью этого метода.
- **Защитите виртуальную машину на Azure Backup Server.** Azure Backup Server предоставляется бесплатно с Azure Backup. Виртуальная машина архивируется в локальное хранилище Azure Backup Server. Затем вы создаете резервную копию сервера Azure Backup в Azure в хранилище. Резервное копирование учитывает приложения с полной детализацией по частоте резервного копирования и хранению. Резервное копирование можно выполнять на уровне приложения, например при резервном копировании SQL Server или SharePoint.

В целях безопасности Azure Backup шифрует данные с помощью AES-256. Он отправляет его по протоколу HTTPS в Azure. Резервные копии неактивных данных в Azure шифруются с помощью [шифрования службы хранилища Azure](/azure/storage/common/storage-service-encryption).

![Снимок экрана Azure Backup. ](./media/migrate-best-practices-security-management/iaas-backup.png)
 _Рис. 10. Azure Backup._

**Подробнее:**

- Дополнительные сведения о [Azure Backup](/azure/backup/backup-overview).
- Спланируйте [инфраструктуру резервного копирования для виртуальных машин Azure](/azure/backup/backup-azure-vms-introduction).

#### <a name="storage-snapshots"></a>Моментальные снимки хранилища

Виртуальные машины Azure содержатся в хранилище Azure в виде страничных BLOB-объектов. В моментальные снимки записывается состояние большого двоичного объекта в определенный момент времени. В качестве альтернативного способа резервного копирования для дисков виртуальных машин Azure можно создать моментальный снимок BLOB-объектов из хранилища и скопировать их в другую учетную запись хранения.

Можно скопировать весь BLOB-объект или использовать добавочное копирование моментальных снимков, чтобы копировать только разностные изменения и уменьшить занимаемое место в системе хранения. В качестве дополнительной меры предосторожности можно включить обратимое удаление для учетных записей хранения BLOB-объектов. Если эта функция включена, удаляемый BLOB-объект помечается для удаления, но не удаляется сразу. Во время промежуточного периода можно восстановить большой двоичный объект.

**Подробнее:**

- Сведения о [хранилище BLOB-объектов Azure](/azure/storage/blobs/storage-blobs-introduction).
- Узнайте, как [создать моментальный снимок BLOB-объекта](/azure/storage/blobs/storage-blob-snapshots).
- [Ознакомьтесь с примером сценария](https://azure.microsoft.com/blog/microsoft-azure-block-blob-storage-backup) резервного копирования хранилища BLOB-объектов.
- Прочитайте об [обратимом удалении больших двоичных объектов](/azure/storage/blobs/storage-blob-soft-delete).
- [Что делать в случае простоя службы хранилища Azure](/azure/storage/common/storage-disaster-recovery-guidance)

#### <a name="third-party-backup"></a>Сторонние решения для резервного копирования

Кроме того, можно использовать сторонние решения для резервного копирования виртуальных машин Azure и контейнеров хранилища в локальное хранилище или на ресурсы других поставщиков облачных служб. Дополнительные сведения см. [в статье решения резервного копирования в Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps?search=backup&page=1).

### <a name="set-up-disaster-recovery-for-iaas-applications"></a>Настройка аварийного восстановления для приложений IaaS

Помимо защиты данных, планирование BCDR должно учитывать, как обеспечить доступность приложений и рабочих нагрузок в случае аварии. Для рабочих нагрузок, которые выполняются на виртуальных машинах Azure IaaS и в службе хранилища Azure, рассмотрите решения, описанные в следующих разделах.

#### <a name="azure-site-recovery"></a>Azure Site Recovery

Azure Site Recovery — это основная служба Azure, обеспечивающая возможность подключения виртуальных машин Azure к сети, а также доступность приложений виртуальных машин при сбоях.

Site Recovery реплицирует виртуальные машины из базы данных-источника в дополнительный регион Azure. В случае аварии виртуальные машины не проходят из основного региона и продолжают обращаться к ним как к обычным в дополнительном регионе. После возврата в нормальное состояние, можно восстановить работу виртуальных машин в основном регионе.

  ![Схема Azure Site Recovery.](./media/migrate-best-practices-security-management/site-recovery.png)
  _Рис. 11. Site Recovery._

**Подробнее:**

- Ознакомьтесь со [сценариями аварийного восстановления для виртуальных машин Azure](/azure/virtual-machines/virtual-machines-disaster-recovery-guidance).
- Узнайте, как [настроить аварийное восстановление для виртуальной машины Azure после миграции](/azure/site-recovery/azure-to-azure-replicate-after-migration).

## <a name="best-practice-use-managed-disks-and-availability-sets"></a>Рекомендации: использование управляемых дисков и групп доступности

Группы доступности используются в Azure для логического группирования виртуальных машин, а также для изоляции виртуальных машин одной группы от других ресурсов. Виртуальные машины в группе доступности распределяются по нескольким доменам сбоя с отдельными подсистемами, которые защищают от локальных сбоев. Виртуальные машины также распределяются между несколькими доменами обновления, предотвращая одновременную перезагрузку всех виртуальных машин в наборе.

Управляемые диски Azure упрощают управление дисками для виртуальных машин Azure, управляя учетными записями хранения, связанными с дисками виртуальных машин.

- Используйте управляемые диски везде, где это возможно. Необходимо указать только тип хранилища, который вы хотите использовать, и размер диска, и Azure создаст диск и будет управлять им.
- Существующие диски можно преобразовать в управляемые диски.
- Для обеспечения высокого уровня устойчивости и доступности следует создавать виртуальные машины в группах доступности. При запланированных или незапланированных простоях группы доступности гарантируют, что по крайней мере одна виртуальная машина в наборе остается доступной.

  ![Схема управляемых дисков. ](./media/migrate-best-practices-security-management/managed-disks.png)
   _Рис. 12. управляемые диски._

**Подробнее:**

- Ознакомьтесь с [обзором управляемых дисков](/azure/virtual-machines/windows/managed-disks-overview).
- Сведения о [преобразовании дисков в управляемые](/azure/virtual-machines/windows/convert-unmanaged-to-managed-disks).
- Узнайте, как [управлять доступностью виртуальных машин Windows в Azure](/azure/virtual-machines/windows/manage-availability).

## <a name="best-practice-monitor-resource-usage-and-performance"></a>Рекомендации: мониторинг использования ресурсов и производительности

Возможно, вы переместили рабочие нагрузки в Azure, чтобы получить огромные возможности масштабирования в этой системе. Но перемещение рабочей нагрузки не означает, что Azure будет автоматически реализовывать масштабирование без ввода. Вот два примера.

- Если ваша маркетинговая организация отправит новое объявление о телевизоре, которое будет выдать 300% больше трафика, это может привести к проблемам доступности сайта. Переданная Рабочая нагрузка может достигнуть назначенных ограничений и сбоев.
- При наличии атаки типа "отказ в обслуживании" (от атак DDoS) на перенесенной рабочей нагрузке, в данном случае вы не хотите масштабировать. Необходимо предотвратить достижение источником атак ресурсов.

Эти два варианта имеют различные разрешения, но в обоих случаях требуется понимание того, что происходит с наблюдением за использованием и производительностью.

- Azure Monitor может помочь в области этих метрик и предоставлять ответы с предупреждениями, автомасштабированием, концентраторами событий и Logic Apps.
- Вы также можете интегрировать стороннее приложение SIEM для отслеживания событий аудита и производительности в журналах Azure.

  ![Снимок экрана Azure Monitor. ](./media/migrate-best-practices-security-management/monitor.png)
   _Рис. 13. Azure Monitor._

**Подробнее:**

- Дополнительные сведения об [Azure Monitor](/azure/azure-monitor/overview).
- [Рекомендации](/azure/architecture/best-practices/monitoring) по мониторингу и диагностике.
- Дополнительные сведения об [автомасштабировании](/azure/architecture/best-practices/auto-scaling).
- Узнайте, как [перенаправлять данные Azure в средство SIEM](/azure/security-center/security-center-export-data-to-siem).

## <a name="best-practice-enable-diagnostic-logging"></a>Рекомендации: Включение ведения журнала диагностики

Ресурсы Azure создают значительное количество метрик в журналах и данных телеметрии. По умолчанию для большинства типов ресурсов не включено ведение журналов диагностики. Включив ведение журналов диагностики по ресурсам, можно запрашивать данные журналов и создавать оповещения, а также сборники схем на их основе.

После включения ведения журналов диагностики каждый ресурс получит определенный набор категорий. Следует выбрать одну или несколько категорий ведения журналов и расположение для их данных. Журналы можно отправлять в учетную запись хранения, в концентратор событий или в Azure Monitor журналы.

![Снимок экрана: ведение журнала диагностики. ](./media/migrate-best-practices-security-management/diagnostics.png)
 _Рис. 14. ведение журнала диагностики._

**Подробнее:**

- Сведения о [сборе и использовании данных журнала](/azure/azure-monitor/platform/platform-logs-overview).
- Узнайте, что поддерживается для [ведения журнала диагностики](/azure/azure-monitor/platform/diagnostic-logs-schema).

## <a name="best-practice-set-up-alerts-and-playbooks"></a>Рекомендации: Настройка оповещений и модули PlayBook

Включив ведение журналов диагностики для ресурсов Azure, можно приступать к созданию настраиваемых оповещений с помощью данных журналов.

- Оповещения позволяют заранее получать уведомления о состояниях, обнаруженных в ваших данных мониторинга. Это дает возможность решить проблемы до того, как пользователи системы обратят на них внимание. Вы можете получать оповещения о значениях метрик, запросах поиска журналов, событиях журнала действий, работоспособности платформы и доступности веб-сайта.
- При активации оповещений можно запустить приложение логики сборник тренировочных заданий. Сборник схем помогает автоматизировать и координировать ответ на определенное оповещение. Сборники схем основываются на приложениях Azure Logic Apps. Шаблоны приложений логики можно использовать для создания модули PlayBook или создания собственных.
- В качестве простого примера можно создать оповещение, которое будет срабатывать при сканировании портов той или иной группы безопасности сети. Можно настроить сборник схем, который будет запускаться и блокировать IP-адрес источника сканирования.
- Еще один пример — приложение с утечкой памяти. Когда потребление памяти дойдет до определенной точки, сборник схем может перезапустить процесс.

  ![Снимок экрана с оповещениями. ](./media/migrate-best-practices-security-management/alerts.png)
   _Рис. 15. оповещения._

**Подробнее:**

- Сведения об [оповещениях](/azure/azure-monitor/platform/alerts-overview).
- Узнайте о [безопасности модули PlayBook, которые отвечают на оповещения центра безопасности](/azure/security-center/security-center-playbooks).

## <a name="best-practice-use-the-azure-dashboard"></a>Рекомендации. Использование панели мониторинга Azure

Портал Azure — это унифицированная веб-консоль, с помощью которой можно создавать, администрировать и отслеживать любые объекты, от простых веб-приложений до сложных облачных приложений. Он включает в себя настраиваемую панель мониторинга и специальные возможности.

- Вы можете создать несколько панелей мониторинга и предоставить к ним доступ другим пользователям, имеющим доступ к подпискам Azure.
- В этой общей модели группа сотрудников получает представление о среде Azure, что позволяет ей принимать упреждающие меры при управлении системами в облаке.

  ![Снимок экрана панели мониторинга Azure. ](./media/migrate-best-practices-security-management/dashboard.png)
   _Рис. 16. панель мониторинга Azure._

**Подробнее:**

- Узнайте, как [создать панель мониторинга](/azure/azure-portal/azure-portal-dashboards).
- Сведения о [структуре панели мониторинга](/azure/azure-portal/azure-portal-dashboards-structure).

## <a name="best-practice-understand-support-plans"></a>Рекомендации: Общие сведения о планах поддержки

На определенном этапе вам потребуется работать совместно с персоналом службы поддержки вашей организации или корпорации Майкрософт. Крайне важно наличие набора политик и процедур для поддержки во время таких сценариев, как аварийное восстановление. Кроме того, ваши администраторы и сотрудники службы поддержки должны пройти обучение по реализации этих политик.

- В той маловероятной ситуации, если проблема со службой Azure повлияет на вашу рабочую нагрузку, администраторы должны знать, как отправить запрос в службу поддержки корпорации Майкрософт наиболее соответствующим и эффективным способом.
- Ознакомьтесь с различными планами поддержки, предлагаемыми для Azure. Они могут варьироваться от времени отклика, выделенного для экземпляров разработчика, до поддержки премьер с временем отклика менее чем за 15 минут.

  ![Снимок экрана плана поддержки. ](./media/migrate-best-practices-security-management/support.png)
   _Рис. 17. планы поддержки._

**Подробнее:**

- Ознакомьтесь с [обзором планов поддержки Azure](https://azure.microsoft.com/support/options).
- Сведения о [соглашениях об уровне обслуживания (SLA)](https://azure.microsoft.com/support/legal/sla).

## <a name="best-practice-manage-updates"></a>Рекомендации: Управление обновлениями

Поддержание виртуальных машин Azure в обновленном состоянии путем установки последних обновлений операционной системы и программного обеспечения требует немалых усилий. Возможность отображать все виртуальные машины, определять, какие обновления необходимы, и автоматически отправлять эти обновления чрезвычайно ценным.

- Вы можете использовать Управление обновлениями в службе автоматизации Azure для управления обновлениями операционной системы. Это относится к компьютерам под управлением Windows и Linux, развернутым в Azure, в локальной среде и в других поставщиках облачных служб.
- Решение позволяет быстро оценить состояние доступных обновлений на всех компьютерах агентов и управлять установкой обновлений.
- Управление обновлениями для виртуальных машин можно включить непосредственно из учетной записи службы автоматизации Azure. Также можно обновить конкретную виртуальную машину на странице виртуальной машины на портале Azure.
- Кроме того, можно зарегистрировать виртуальные машины Azure с помощью System Center Configuration Manager. Затем можно перенести рабочую нагрузку Configuration Manager в Azure, а также выполнять отчеты и обновления программного обеспечения из единого веб-интерфейса.

  ![Схема обновлений виртуальных машин. ](./media/migrate-best-practices-security-management/updates.png)
   _Рис. 18. обновления._

**Подробнее:**

- Дополнительные сведения о [Управление обновлениями в Azure](/azure/automation/update-management/overview).
- Узнайте, как [интегрировать Configuration Manager с Управление обновлениями](/azure/automation/oms-solution-updatemgmt-sccmintegration).
- [Ответы на вопросы](/sccm/core/understand/configuration-manager-on-azure) о Configuration Manager в Azure.

## <a name="implement-a-change-management-process"></a>Реализация процесса управления изменениями

Как и в любой рабочей системе, изменение любого типа может повлиять на среду. Процесс управления изменениями, который требует отправки запросов для внесения изменений в рабочие системы, является важным дополнением к среде миграции.

- Можно создать рекомендуемые платформы для управления изменениями, чтобы повысить осведомленность администраторов и персонала службы поддержки.
- Служба автоматизации Azure помогает в управлении конфигурацией, а также позволяет отслеживать перенесенные рабочие процессы.
- При принудительном управлении изменениями можно использовать журналы аудита, чтобы связать журналы изменений Azure с существующими запросами на изменение. Если вы видите изменения, внесенные без соответствующего запроса на изменение, можно выяснить, что пошло не так в процессе.

В Azure есть решение для отслеживания изменений в службе автоматизации Azure:

- Это решение отслеживает изменения в программном обеспечении и файлах под управлением Windows и Linux, разделах реестра Windows, службах Windows и управляющих программах Linux.
- Изменения на наблюдаемых серверах отправляются на Azure Monitor для обработки.
- К полученным данным применяется логика, а облачная служба записывает данные.
- На панели мониторинга "Отслеживание изменений" можно легко увидеть изменения, внесенные в серверную инфраструктуру.

  ![Снимок экрана управления изменениями. ](./media/migrate-best-practices-security-management/change.png)
   _Рис. 19. Управление изменениями._

**Подробнее:**

- Сведения об [отслеживании изменений](/azure/automation/automation-change-tracking).
- Сведения о [возможностях службы автоматизации Azure](/azure/automation/automation-intro).

## <a name="next-steps"></a>Дальнейшие действия

Просмотрите другие рекомендации:

- [Рекомендации по настройке сетей для рабочих нагрузок, перенесенных в Azure](./migrate-best-practices-networking.md).
- [Рекомендации](./migrate-best-practices-costs.md) по управлению затратами после миграции.
