---
title: Рекомендации по обеспечению безопасности и управлению рабочими нагрузками, перенесенными в Azure
description: Используйте платформу внедрения облаков для Azure, чтобы получить рекомендации по эксплуатации, управлению и обеспечению безопасности перенесенных рабочих нагрузок.
author: BrianBlanchard
ms.author: brblanch
ms.date: 07/01/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.openlocfilehash: ca1de29006790b2a80d889057e67147b40ba96f8
ms.sourcegitcommit: 84d7bfd11329eb4c151c4c32be5bab6c91f376ed
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2020
ms.locfileid: "86234146"
---
<!-- cSpell:ignore FIPS SIEM majeure NSGs -->

# <a name="best-practices-to-secure-and-manage-workloads-migrated-to-azure"></a>Рекомендации по обеспечению безопасности и управлению рабочими нагрузками, перенесенными в Azure

Планируя и проектируя миграцию, помимо продумывания самой миграции, нужно учитывать модель безопасности и управления в Azure после миграции. В этой статье описано планирование и приведены рекомендации по защите развернутой службы Azure после миграции, а также по выполнению текущих задач для поддержания оптимального уровня работы развернутой службы.

> [!IMPORTANT]
> Рекомендации и мнения, приведенные в этой статье, основаны на возможностях платформы Azure и служб, доступных на момент написания этого материала. Функции и возможности со временем меняются.

## <a name="secure-migrated-workloads"></a>Обеспечение безопасности перенесенных рабочих нагрузок

После миграции наиболее важной задачей является защита перенесенных рабочих нагрузок от внутренних и внешних угроз. Следующие рекомендации помогут в этом:

- [Работа с центром безопасности Azure](#best-practice-follow-azure-security-center-recommendations). Узнайте, как работать с мониторингом, оценками и рекомендациями, предоставляемыми центром безопасности Azure.
- [Шифрование данных](#best-practice-encrypt-data). получите рекомендации по шифрованию данных в Azure.
- [Настройка антивредоносной программы](#best-practice-protect-vms-with-antimalware): Защита виртуальных машин от вредоносных программ и вредоносных атак.
- [Безопасные веб-приложения](#best-practice-secure-web-apps). Обеспечьте безопасность конфиденциальной информации в перенесенных веб-приложениях.
- [Проверка подписок](#best-practice-review-subscriptions-and-resource-permissions). Проверьте, кто может получить доступ к подпискам и ресурсам Azure после миграции.
- [Работа с журналами](#best-practice-review-audit-and-security-logs). регулярно изучите журналы аудита и безопасности Azure.
- [Ознакомьтесь с другими функциями безопасности](#best-practice-evaluate-other-security-features): Ознакомьтесь с улучшенными функциями безопасности, предлагаемыми Azure, и оцените их.

## <a name="best-practice-follow-azure-security-center-recommendations"></a>Рекомендации. Следуйте рекомендациям центра безопасности Azure

Корпорация Майкрософт прилагает все усилия, чтобы у администраторов арендаторов Azure были необходимые сведения для включения функций безопасности, которые защищают рабочие нагрузки от атак. Центр безопасности Azure обеспечивает унифицированное управление безопасностью. Из Центра безопасности можно применять политики безопасности для рабочих нагрузок, ограничить уязвимость перед угрозами, а также выявлять атаки и реагировать на них. Центр безопасности анализирует ресурсы и конфигурации всех арендаторов Azure и составляет рекомендации по обеспечению безопасности, включая следующее:

- **Централизованное управление политиками:** Обеспечьте соответствие требованиям компании или нормативных требований к безопасности, централизованно управляя политиками безопасности во всех гибридных облачных рабочих нагрузках.
- **Непрерывная оценка безопасности:** Отслеживайте безопасность компьютеров, сетей, служб хранилища и данных и приложений, чтобы выявить потенциальные проблемы безопасности.
- Практические **рекомендации:** Исправьте уязвимости системы безопасности, прежде чем они могут быть использованы злоумышленниками с приоритетными и практичными рекомендациями по безопасности.
- **Приоритетные предупреждения и инциденты:** Сначала Сосредоточьтесь на самых важных угрозах, используя приоритеты оповещений и инцидентов безопасности.

Помимо оценок и рекомендаций, Центр безопасности Azure предоставляет ряд других функций безопасности, которые можно включить для определенных ресурсов.

- **JIT-доступ.** Уменьшите уязвимую зону с помощью управляемого JIT-доступа к портам управления на виртуальных машинах Azure.
  - Если открыть RDP-порт 3389 в Интернете на виртуальных машинах, они будут постоянно подвержены риску действий злоумышленников. IP-адреса Azure хорошо известны, и злоумышленники постоянно испытывают их атаками на открытые порты 3389.
  - В режиме JIT-доступа используются группы безопасности сети (NSG) и правила для входящего трафика, ограничивающие временной интервал, в течение которого открыт конкретный порт.
  - При включенной функции JIT Центр безопасности проверяет наличие у пользователя выданных системой управления доступом на основе ролей (RBAC) разрешений доступа на запись для виртуальной машины. В дополнение укажите правила подключения пользователей к виртуальным машинам. При наличии необходимых разрешений запрос доступа утверждается. Центр безопасности настраивает группу безопасности сети, которая разрешает передачу входящего трафика на выбранные порты в течение указанного периода. По истечении этого периода группы безопасности сети возвращаются к предыдущим значениям.
- **Адаптивные элементы управления приложениями.** Обновляйте виртуальные машины программного обеспечения и вредоносных программ, определяя, какие приложения работают с ними с помощью динамических списков разрешений.
  - Адаптивные элементы управления приложениями позволяют утверждать приложения и запрещают законным пользователям или администраторам устанавливать неодобренные или заглянув программные приложения на виртуальных машинах.
    - Вы можете блокировать или предупреждать попытки запуска вредоносных приложений, избегать нежелательных или вредоносных приложений и обеспечить соответствие политике безопасности приложений вашей организации.
- **Мониторинг целостности файлов.** Обеспечьте целостность файлов, запускаемых на виртуальных машинах.
  - Не нужно устанавливать программное обеспечение, чтобы вызвать проблемы с виртуальной машиной. Причиной сбоя виртуальной машины или снижения ее производительности может стать и изменение системного файла. Мониторинг целостности файлов проверяет системные файлы и параметры реестра на предмет изменений и уведомляет вас о том, что что-то Обновлено.
  - Центр безопасности определяет файлы, для которых рекомендуется включить мониторинг.

**Подробнее:**

- Дополнительные сведения о [центре безопасности Azure](https://docs.microsoft.com/azure/security-center/security-center-intro).
- Узнайте больше о [JIT – доступе к виртуальной машине](https://docs.microsoft.com/azure/security-center/security-center-just-in-time).
- Дополнительные сведения о [применении адаптивных элементов управления приложениями](https://docs.microsoft.com/azure/security-center/security-center-adaptive-application).
- [Начало работы](https://docs.microsoft.com/azure/security-center/security-center-file-integrity-monitoring) с мониторингом целостности файлов.

## <a name="best-practice-encrypt-data"></a>Рекомендации: шифрование данных

Шифрование является важным элементом обеспечения безопасности Azure. Включение шифрования на всех уровнях помогает предотвратить доступ посторонних лиц к конфиденциальным данным, в том числе во время их передачи и хранения.

### <a name="encryption-for-iaas"></a>Шифрование для IaaS

- **Виртуальные машины:** Для виртуальных машин можно использовать шифрование дисков Azure для шифрования дисков виртуальных машин IaaS под управлением Windows и Linux.
  - Шифрование дисков Azure использует BitLocker для Windows и DM-Encryption для Linux, чтобы обеспечить шифрование томов для дисков операционной системы и данных.
  - Можно использовать ключ шифрования, созданный в Azure, или собственные ключи шифрования, размещаемые в защищенном хранилище Azure Key Vault.
  - При использовании шифрования дисков Azure данные виртуальных машин IaaS защищаются при хранении (на диске) и во время загрузки виртуальной машины.
    - Центр безопасности Azure оповестит вас при наличии незашифрованных виртуальных машин.
- **Хранилище:** Защита неактивных данных, хранящихся в службе хранилища Azure.
  - Данные, хранящиеся в учетных записях хранения Azure, можно шифровать с помощью созданных корпорацией Майкрософт ключей AES, совместимых с FIPS 140-2, или можно использовать собственные ключи.
  - Шифрование службы хранилища Azure включено для всех новых и существующих учетных записей хранения и не может быть отключено.

### <a name="encryption-for-paas"></a>Шифрование для PaaS

В отличие от IaaS, где вы управляете собственными виртуальными машинами и инфраструктурой, в платформе модели PaaS и инфраструктуре управление осуществляется поставщиком, что позволяет сосредоточиться на основной логике и возможностях приложения. Учитывая большое количество типов служб PaaS, в целях безопасности каждая служба будет оцениваться по отдельности. Для примера давайте рассмотрим, как можно включить шифрование для Базы данных SQL Azure.

- **Always encrypted:** Используйте мастер Always Encrypted в SQL Server Management Studio для защиты неактивных данных.
  - Вы создаете ключ Always Encrypted для шифрования данных отдельных столбцов.
  - Ключи Always Encrypted можно хранить в зашифрованном виде в метаданных базы данных или в доверенных хранилищах ключей, например Azure Key Vault.
  - Для использования этой функции, скорее всего, потребуется внести изменения в приложение.
- **Прозрачное шифрование данных (TDE):** Защитите базу данных SQL Azure с помощью шифрования и расшифровки базы данных, связанных резервных копий и файлов журналов транзакций в режиме реального времени.
  - TDE позволяет выполнять действия по шифрованию без изменений на уровне приложения.
  - TDE может использовать ключи шифрования, предоставляемые корпорацией Майкрософт, или можно воспользоваться собственным ключом.

**Подробнее:**

- Сведения о [шифровании дисков Azure для виртуальных машин и масштабируемых наборов виртуальных машин](https://docs.microsoft.com/azure/security/fundamentals/azure-disk-encryption-vms-vmss).
- Включите [Шифрование дисков Azure для виртуальных машин Windows](https://docs.microsoft.com/azure/virtual-machines/windows/disk-encryption-overview).
- Сведения о [шифровании службы хранилища Azure для неактивных данных](https://docs.microsoft.com/azure/storage/common/storage-service-encryption).
- Ознакомьтесь с [обзором Always encrypted](https://docs.microsoft.com/azure/sql-database/sql-database-always-encrypted-azure-key-vault).
- Прочитайте о [прозрачном шифровании данных для базы данных SQL и Azure синапсе](https://docs.microsoft.com/azure/sql-database/transparent-data-encryption-azure-sql).
- Узнайте о [прозрачном шифровании данных SQL Azure с помощью управляемого клиентом ключа](https://docs.microsoft.com/azure/sql-database/transparent-data-encryption-byok-azure-sql).

## <a name="best-practice-protect-vms-with-antimalware"></a>Рекомендации. Защита виртуальных машин с помощью защиты от вредоносных программ

В частности, на старых виртуальных машинах, перенесенных в Azure, может быть не установлено антивредоносное ПО соответствующего уровня защиты. Azure предоставляет бесплатное решение для конечных точек, которое помогает защитить виртуальные машины от вирусов, шпионских и других вредоносных программ.

- Антивредоносное ПО Майкрософт для Azure создает предупреждения о попытках установки известных вредоносных или нежелательных программ.
- Это решение с одним агентом, которое выполняется в фоновом режиме без вмешательства человека.
- В центре безопасности Azure можно легко найти виртуальные машины, на которых не запущена служба Endpoint Protection, и установить антивредоносную программу Майкрософт по мере необходимости.

  ![Антивредоносная программа для защиты виртуальных машин ](./media/migrate-best-practices-security-management/antimalware.png)
   _от вредоносных программ для виртуальных машин._

**Подробнее:**

- Сведения о [антивредоносном по Майкрософт для облачных служб и виртуальных машин Azure](https://docs.microsoft.com/azure/security/fundamentals/antimalware).

## <a name="best-practice-secure-web-apps"></a>Рекомендации: безопасные веб-приложения

После переноса веб-приложений возникает несколько проблем:

- В большинстве устаревших веб-приложений конфиденциальные сведения хранятся в файлах конфигурации. Файлы, содержащие такие сведения, могут представлять проблемы безопасности при резервном копировании приложений, а также при возврате или извлечении кода приложения из системы управления версиями.
- Кроме того, при переносе веб-приложений, размещенных на виртуальной машине, скорее всего, вы перемещаете эту машину из локальной сети и защищенной брандмауэром среды в среду, доступную через Интернет. Необходимо убедиться в том, что настроено решение, которое работает аналогично локальным средствам защиты ресурсов.

Azure предоставляет несколько решений:

- **Azure Key Vault:** В настоящее время разработчики веб-приложений получают меры по обеспечению утечки конфиденциальной информации из этих файлов. Один из способов защиты данных — извлечь их из файлов и поместить в хранилище Azure Key Vault.
  - Key Vault можно использовать для централизации хранения секретов приложений и управления их распределением. Это позволяет избежать необходимости хранить сведения о безопасности в файлах приложений.
  - Приложения могут безопасно получать доступ к информации в хранилище с помощью URI без необходимости использования пользовательского кода.
  - Azure Key Vault позволяет блокировать доступ с помощью средств безопасности Azure и беспрепятственно реализовывать смену ключей. У корпорации Майкрософт нет возможности просмотра и извлечения ваших данных.
- **Среда службы приложений Azure:** Если переносимое приложение нуждается в дополнительной защите, рекомендуется добавить Среда службы приложений и брандмауэр веб-приложения для защиты ресурсов приложения.
  - Среда службы приложений Azure предоставляет полностью изолированную и выделенную среду для запуска приложений, таких как веб-приложения Windows и Linux, контейнеры DOCKER, мобильные приложения и приложения-функции.
  - Это полезно для приложений, которые имеют очень высокую масштабируемость, нуждаются в изоляции и защищенном доступе к сети или имеют высокий уровень использования памяти.
- **Брандмауэр веб-приложения:** Функция шлюза приложений Azure, которая обеспечивает централизованную защиту для веб-приложений.
  - Она защищает веб-приложения, не требуя каких-либо изменений кода серверной части.
  - Он защищает несколько веб-приложений одновременно за шлюзом приложений.
  - Брандмауэр веб-приложения можно отслеживать с помощью Azure Monitor и интегрировать в центр безопасности Azure.

  ![Безопасность веб-приложений ](./media/migrate-best-practices-security-management/web-apps.png)
   _Azure Key Vault._

**Подробнее:**

- Ознакомьтесь с [обзором Azure Key Vault](https://docs.microsoft.com/azure/key-vault/general/overview).
- Сведения о [брандмауэре веб-приложения](https://docs.microsoft.com/azure/application-gateway/waf-overview).
- Ознакомьтесь с [введением в среды службы приложений](https://docs.microsoft.com/azure/app-service/environment/intro).
- Узнайте, как [настроить веб-приложение для чтения секретов из Key Vault](https://docs.microsoft.com/azure/key-vault/tutorial-web-application-keyvault).
- Сведения о [брандмауэре веб-приложения](https://docs.microsoft.com/azure/application-gateway/waf-overview).

## <a name="best-practice-review-subscriptions-and-resource-permissions"></a>Рекомендации: Проверка подписок и разрешений на ресурсы

Перенос рабочих нагрузок и их запуск в Azure затрагивает множество сотрудников с доступом к рабочим нагрузкам. Вашей группе безопасности следует регулярно проверять доступ к вашему арендатору и группам ресурсов Azure. Azure предоставляет предложения для управления удостоверениями и контроля доступа, включая управление доступом на основе ролей (RBAC) для авторизации разрешений на доступ к ресурсам Azure.

- RBAC назначает разрешения на доступ субъектам безопасности. Субъекты безопасности представляют пользователей, группы (набор пользователей), субъекты-службы (удостоверения, используемые приложениями и службами) и управляемые удостоверения (удостоверение Azure Active Directory автоматически управляется Azure).
- RBAC может назначать роли субъектам безопасности, таким как владелец, участник и читатель, а также определения ролей (набор разрешений), определяющие операции, поддерживаемые соответствующими ролями.
- RBAC также может задавать области, устанавливающие границы для той или иной роли. Область можно задать на нескольких уровнях, включая группу управления, подписку, группу ресурсов или ресурс.
- Убедитесь, что администраторы с доступом к Azure имеют доступ только к тем ресурсам, которые вы хотите разрешить. Если предопределенные роли в Azure недостаточно детализированы, можно создать настраиваемые роли для разделения и ограничения разрешений на доступ.

  ![](./media/migrate-best-practices-security-management/subscription.png)
  _Контроль доступа — IAM._

**Подробнее:**

- [Сведения](https://docs.microsoft.com/azure/role-based-access-control/overview) о RBAC.
- [Сведения](https://docs.microsoft.com/azure/role-based-access-control/role-assignments-portal) об управлении доступом с помощью RBAC и портала Azure.
- Сведения о [пользовательских ролях](https://docs.microsoft.com/azure/role-based-access-control/custom-roles).

## <a name="best-practice-review-audit-and-security-logs"></a>Рекомендации: проверка журналов аудита и безопасности

Azure Active Directory (Azure AD) предоставляет журналы действий, которые отображаются в Azure Monitor. В журналы записываются сведения об операциях, выполняемых в рамках аренды Azure, и пользователе, который их проводил, а также время выполнения таких операций.

- В журналах аудита содержится история задач по арендатору. В журналах действий входа отображаются сведения о том, кто выполнял задачи.
- Доступ к отчетам безопасности зависит от лицензии Azure AD. В бесплатной и базовой версии вы получаете список рискованных пользователей и входов. В выпусках Premium 1 и Premium 2 вы получаете сведения о базовом событии.
- Журналы действий можно направить на ряд конечных точек для долгосрочного хранения и анализа данных.
- Регулярно просматривайте журналы или интегрируйте средства управления информационной безопасностью и событиями безопасности (SIEM) для автоматического анализа аномалий. Если вы не используете Premium 1 или 2, вам нужно выполнить массовый анализ самостоятельно или использовать систему SIEM. Анализ включает в себя поиск рискованных действий входа и событий, а также других шаблонов атак пользователей.

  ![Пользователи и группы ](./media/migrate-best-practices-security-management/azure-ad.png)
   _Azure AD пользователи и группы._

**Подробнее:**

- Сведения о [журналах действий Azure AD в Azure Monitor](https://docs.microsoft.com/azure/active-directory/reports-monitoring/concept-activity-logs-azure-monitor).
- Узнайте, как [проводить аудит отчетов о действиях на портале Azure AD](https://docs.microsoft.com/azure/active-directory/reports-monitoring/concept-audit-logs).

## <a name="best-practice-evaluate-other-security-features"></a>Рекомендации: Оценка других функций безопасности

Azure предоставляет ряд других средств защиты с расширенными возможностями обеспечения безопасности. Некоторые из этих рекомендаций требуют дополнительных лицензий и услуг уровня "Премиум".

- **Реализуйте административные единицы Azure AD (AU).** Делегирование административных обязанностей персоналу службы поддержки может быть непростой задачей, если используются только базовые средства управления доступом в Azure. Предоставить персоналу службы поддержки доступ к администрированию групп в Azure AD — не самый идеальный метод обеспечения безопасности организации. Использование AU позволяет разделить ресурсы Azure на контейнеры подобно локальным организационным единицам (OU). Для использования AU администратор AU должен иметь лицензию Azure AD уровня "Премиум". [Подробнее.](https://docs.microsoft.com/azure/active-directory/users-groups-roles/directory-administrative-units)
- **Использовать многофакторную проверку подлинности.** При наличии лицензии Azure AD ценовой категории "Премиум" можно включить и принудительно применить многофакторную проверку подлинности для учетных записей администраторов. Фишинг — наиболее распространенный способ компрометации таких учетных данных. Как только злоумышленник получает данные учетной записи администратора, он сможет выполнять масштабные действия, такие как удаление всех групп ресурсов. Многофакторную проверку подлинности можно настроить несколькими способами, в том числе с помощью электронной почты, приложения Authenticator и текстовых сообщений. Администратор может выбрать вариант, который будет меньше всего влиять на работу сотрудников. Многофакторная проверка подлинности интегрируется с аналитикой угроз и политиками условного доступа, случайным образом требуя ответить на запрос защиты многофакторной проверки подлинности. Ознакомьтесь с инструкциями по [обеспечению безопасности](https://docs.microsoft.com/azure/active-directory/authentication/multi-factor-authentication-security-best-practices) и [настройке многофакторной проверки подлинности](https://docs.microsoft.com/azure/active-directory/authentication/multi-factor-authentication-security-best-practices).
- **Реализуйте условный доступ.** В самых малых и средних организациях администраторы Azure и группа поддержки, вероятно, находятся в одном географическом регионе. В этом случае большинство операций входа будут осуществляться из одних и тех же областей. Если IP-адреса этих расположений достаточно статичны, логично, что вход администраторов не должен выполняться вне этих областей. Даже если удаленный незаконный субъект нарушает учетные данные администратора, можно реализовать функции безопасности, такие как условный доступ, в сочетании с многофакторной проверкой подлинности, чтобы предотвратить вход из удаленных расположений или из несанкционированных расположений из случайных IP-адресов. Узнайте больше об [условном доступе](https://docs.microsoft.com/azure/active-directory/conditional-access/overview) и [Ознакомьтесь с рекомендациями](https://docs.microsoft.com/azure/active-directory/conditional-access/best-practices) по условному доступу в Azure AD.
- **Ознакомьтесь с разрешениями корпоративного приложения.** В определенный момент администраторы могут перейти по ссылкам корпорации Майкрософт и третьих лиц, не имея сведений об их влиянии на организацию. По ссылкам могут открываться экраны согласия, назначающие разрешения приложениям Azure, а также разрешаться доступ на чтение данных в Azure AD или даже полный доступ для управления всей подпиской Azure. Следует регулярно просматривать приложения, к которым администраторы и пользователи могут получить доступ к ресурсам Azure. Убедитесь, что эти приложения имеют только необходимые разрешения. Кроме того, ежеквартально или в течение ежегодного года можно отправить пользователям по электронной почте ссылку на страницы приложения, чтобы они были осведомлены о приложениях, которым разрешен доступ к данным Организации. [Узнайте больше](https://docs.microsoft.com/azure/active-directory/manage-apps/application-types) о типах приложений и [о том, как управлять](https://docs.microsoft.com/azure/active-directory/manage-apps/remove-user-or-group-access-portal) назначениями приложений в Azure AD.

## <a name="managed-migrated-workloads"></a>Управляемые перенесенные рабочие нагрузки

В этом разделе мы приводим ряд рекомендаций для управления Azure, включая следующие:

- [Управление ресурсами](#best-practice-name-resource-groups): рекомендации по использованию групп ресурсов и ресурсов Azure, включая интеллектуальное именование, предотвращение случайного удаления, Управление разрешениями ресурсов и эффективное Добавление тегов ресурсов.
- [Использование схем](#best-practice-implement-blueprints). Краткий обзор использования схем для создания сред развертывания и управления ими.
- [Обзор архитектуры](#best-practice-review-azure-reference-architectures). Ознакомьтесь с примерами архитектуры Azure, которые будут изучаться при создании развертываний после миграции.
- [Настройка групп управления](#best-practice-manage-resources-with-azure-management-groups). Если у вас несколько подписок, их можно собрать в группы управления и применить параметры управления к этим группам.
- [Настройка политик доступа](#best-practice-deploy-azure-policy): применение политик соответствия к ресурсам Azure.
- [Реализуйте стратегию BCDR](#best-practice-implement-a-bcdr-strategy): Объедините стратегию непрерывности бизнес-процессов и аварийного восстановления (BCDR), чтобы обеспечить безопасность данных, устойчивую среду и ресурсы, когда происходят сбои.
- [Управление виртуальными машинами](#best-practice-use-managed-disks-and-availability-sets): группирование виртуальных машин в группы доступности для обеспечения устойчивости и высокой доступности. Управляемые диски упростят администрирование дисков и хранилища виртуальных машин.
- [Мониторинг использования ресурсов](#best-practice-monitor-resource-usage-and-performance). Включите ведение журнала диагностики для ресурсов Azure, создавайте оповещения и модули PlayBook для упреждающего устранения неполадок и используйте панель мониторинга Azure для унифицированного представления состояния и состояния развертывания.
- [Управление поддержкой и обновлениями](#best-practice-manage-updates). Узнайте о плане поддержки Azure и его реализации, получите рекомендации по обеспечению актуальности виртуальных машин и поместите процессы для управления изменениями.

## <a name="best-practice-name-resource-groups"></a>Рекомендации: именование групп ресурсов

Наличие понятных имен для групп ресурсов, позволяющих администраторам и участникам группы поддержки легко распознавать их и переходить между ними, значительно повышает производительность и эффективность.

- Мы рекомендуем следовать соглашениям об именовании Azure.
- Если вы синхронизируете локальные службы Active Directory с Azure AD, используя Azure AD Connect, рекомендуем обеспечить соответствие имен групп безопасности в локальной системе именам групп ресурсов в Azure.

  ![Именование ](./media/migrate-best-practices-security-management/naming.png)
   _группы ресурсов._

**Подробнее:**

- Дополнительные сведения о [рекомендуемых соглашениях об именовании](../../ready/azure-best-practices/naming-and-tagging.md).

## <a name="best-practice-implement-delete-locks-for-resource-groups"></a>Рекомендации: реализация блокировки удаления для групп ресурсов

Случайное удаление группы ресурсов крайне нежелательно. Рекомендуется внедрить блокировки удаления, чтобы такого не произошло.

  ![Удалить блокировки ](./media/migrate-best-practices-security-management/locks.png) _удалить блокировки._

**Подробнее:**

- Сведения о [блокировке ресурсов для предотвращения непредвиденных изменений](https://docs.microsoft.com/azure/azure-resource-manager/resource-group-lock-resources).

## <a name="best-practice-understand-resource-access-permissions"></a>Рекомендации: Общие сведения о разрешениях на доступ к ресурсам

Владелец подписки имеет доступ ко всем группам ресурсов и ресурсам в вашей подписке.

- Такие значимые права следует назначать с осмотрительностью. Чтобы поддерживать безопасность и стабильность среды, важно понимать последствия назначения таких разрешений.
- Убедитесь, что ресурсы размещены в соответствующих группах:
  - Совместите ресурсы с аналогичным жизненным циклом друг с другом. Тогда вам не потребуется перемещать никакие ресурсы при необходимости удалить всю группу ресурсов.
  - Ресурсы, которые поддерживают ту или иную функцию или рабочую нагрузку, следует размещать вместе для упрощенного управления.

**Подробнее:**

- Сведения о [организации подписок и групп ресурсов](https://azure.microsoft.com/blog/organizing-subscriptions-and-resource-groups-within-the-enterprise).

## <a name="best-practice-tag-resources-effectively"></a>Рекомендации. эффективное обозначение ресурсов

Зачастую при использование только имени группы ресурсов, связанного с ресурсами, недостаточно метаданных для эффективной реализации таких механизмов, как внутреннее выставление счетов или управление в пределах подписки.

- Рекомендуем использовать теги Azure для добавления полезных метаданных, которые можно запрашивать и по которым можно составлять отчеты.
- Теги позволяют логически организовать ресурсы с помощью заданных вами свойств. Теги можно применять к группам ресурсов или непосредственно к ресурсам.
- Теги можно применить к группе ресурсов или отдельным ресурсам. Теги группы ресурсов не наследуются ресурсами в этой группе.
- Можно автоматизировать добавление тегов с помощью PowerShell или службы автоматизации Azure, или же помечать тегами отдельные группы и ресурсы, — Подход к маркировке или самостоятельная служба. Если есть запрос и установлена система управления изменениями, можно легко использовать указанные в запросе сведения для заполнения тегов ресурсов конкретной компании.

  ![Добавление тегов к маркировке ](./media/migrate-best-practices-security-management/tagging.png)
   _._

**Подробнее:**

- Сведения об [ограничениях тегов и тегов](https://docs.microsoft.com/azure/azure-resource-manager/management/tag-resources).
- Ознакомьтесь [с примерами PowerShell и CLI для настройки тегов и применения тегов из группы ресурсов к ее ресурсам](https://docs.microsoft.com/azure/azure-resource-manager/management/tag-resources#powershell).
- [Ознакомьтесь](https://www.azurefieldnotes.com/2016/07/18/azure-resource-tagging-best-practices) с рекомендациями Azure по добавлению тегов.

## <a name="best-practice-implement-blueprints"></a>Рекомендации. реализация схем

Так же, как схема позволяет инженерам и архитекторам набросать проектные параметры проекта, схемы Azure позволяют облачным архитекторам и центральным ИТ-группам определять повторяемый набор ресурсов Azure, которые реализуют и соответствуют стандартам, шаблонам и требованиям Организации. С помощью Azure Blueprints группы разработчиков могут быстро формировать и создавать новые среды, соответствующие требованиям организации и содержащие ряд встроенных компонентов, таких как сети, для ускорения разработки и поставки.

- Схемы Blueprints позволяют координировать развертывание групп ресурсов, шаблонов Azure Resource Manager и назначений политик и ролей.
- Схемы хранятся в глобально распределенной базе данных Azure Cosmos DB. Объекты схемы реплицируются в нескольких регионах Azure. Репликация обеспечивает низкую задержку, высокий уровень доступности и согласованный доступ к схеме, независимо от того, в каком регионе развернуты ресурсы службы Blueprints.

**Подробнее:**

- [Прочитайте](https://docs.microsoft.com/azure/governance/blueprints/overview) о схемах Blueprints.
- Ознакомьтесь с [примером схемы для ускорения искусственного интеллекта в сфере здравоохранения](https://azure.microsoft.com/blog/customizing-azure-blueprints-to-accelerate-ai-in-healthcare).

## <a name="best-practice-review-azure-reference-architectures"></a>Рекомендации: Ознакомьтесь с эталонными архитектурами Azure

Создание безопасных, масштабируемых и управляемых рабочих нагрузок в Azure может казаться слишком трудоемкой задачей. Функции постоянно изменяются, и обеспечивать соответствие им для организации оптимальной среды довольно сложно. При разработке и миграции рабочих нагрузок может помочь эталонный пример. Azure и партнеры Azure создали несколько эталонных примеров архитектуры для различных типов сред. Эти примеры предоставляют идеи, на которых можно учиться и строить собственные реализации.

Эталонные архитектуры упорядочены по сценариям. Они содержат рекомендации и советы по управлению, доступности, масштабируемости и безопасности. Среда службы приложений Azure предоставляет полностью изолированную и выделенную среду для запуска приложений, таких как веб-приложения Windows и Linux, контейнеры DOCKER, мобильные приложения и функции. Служба приложений не только реализует возможности Azure для вашего приложения, включая функции обеспечения безопасности, балансировки нагрузки, автоматического масштабирования и автоматизированного управления. Кроме того, вы можете воспользоваться такими преимуществами DevOps, как непрерывное развертывание из Azure DevOps и GitHub, управление пакетами, а также возможность использования промежуточных сред, личного домена и SSL-сертификатов. Служба приложений полезна для приложений, которым требуется изоляция и безопасный доступ к сети, а также тех, которые используют большие объемы памяти и другие ресурсы, которые необходимо масштабировать.

**Подробнее:**

- Сведения об [эталонных архитектурах Azure](https://docs.microsoft.com/azure/architecture/reference-architectures).
- Ознакомьтесь с [примерами сценариев Azure](https://docs.microsoft.com/azure/architecture/example-scenario).

## <a name="best-practice-manage-resources-with-azure-management-groups"></a>Рекомендации. Управление ресурсами с помощью групп управления Azure

Если в вашей организации несколько подписок, для них необходимо управлять доступом, политиками и соответствием требованиям. Группы управления Azure обеспечивают высокий уровень охвата подписок.

- Подписки упорядочиваются в контейнеры, которые называются группами управления. К ним применяются условия системы управления.
- Все подписки в группе управления автоматически наследуют условия этой группы управления.
- Группы управления обеспечивают масштабное корпоративное управление независимо от типа подписки.
- Например, можно применить политику группы управления, ограничивающую список регионов, в которых могут создаваться виртуальные машины. Затем эта политика применяется ко всем группам управления, подпискам и ресурсам в этой группе управления.
- Вы можете создать гибкую структуру групп управления и подписок для упорядочения своих ресурсов в иерархию для унифицированного управления политикой и доступом.

На следующей схеме показано, как создать иерархию управления с использованием групп управления.

  ![Группы управления группы управления ](./media/migrate-best-practices-security-management/management-groups.png) _._

**Подробнее:**

- Дополнительные сведения о [Организации ресурсов в группы управления](https://docs.microsoft.com/azure/governance/management-groups).

## <a name="best-practice-deploy-azure-policy"></a>Рекомендации. Развертывание политики Azure

"Политика Azure" — это служба в Azure, которая используется для создания, присваивания и управления политиками.

- Политики применяют различные правила и эффекты к ресурсам, поэтому эти ресурсы соответствуют корпоративным стандартам и соглашениям об уровне обслуживания.
- Служба "Политика Azure" оценивает ресурсы, проверяя наличие тех, которые не соответствуют установленным политикам.
- Например, можно создать политику, которая разрешает только определенный размер SKU для виртуальных машин в вашей среде. Служба "Политика Azure" будет оценивать этот параметр при создании и обновлении ресурсов, а также при проверке существующих ресурсов.
- Azure предоставляет несколько встроенных политик, которые можно назначить, а также возможность создать собственную политику.

  ![Политика Azure для политики ](./media/migrate-best-practices-security-management/policy.png)
   _._

**Подробнее:**

- Ознакомьтесь с [обзором политики Azure](https://docs.microsoft.com/azure/governance/policy/overview).
- Узнайте [, как создавать политики и управлять ими для обеспечения соответствия](https://docs.microsoft.com/azure/governance/policy/tutorials/create-and-manage).

## <a name="best-practice-implement-a-bcdr-strategy"></a>Рекомендации. Реализация стратегии BCDR

Планирование непрерывности бизнес-процессов и аварийного восстановления (BCDR) — это важная задача, которую следует выполнить в процессе планирования миграции в Azure. В юридическом плане условия контракта включают в себя пункт о форс-мажорных обстоятельствах, которые исключают обязательства в случае действия непреодолимой силы, например урагана или землетрясения. Но у вас также есть обязательства по обеспечению гарантии того, что службы будут продолжать работать, и при необходимости восстановить их там, где это необходимо. Возможность сделать это может оказаться критически важной для будущего вашей компании.

В широком смысле в стратегии BCDR нужно учитывать следующее:

- **Резервная копия данных:** Как обеспечить безопасность данных, чтобы можно было легко восстановить их при возникновении простоев.
- **Аварийное восстановление:** Обеспечение устойчивости и доступности приложений при возникновении простоев.

### <a name="set-up-bcdr"></a>Настройка BCDR

При миграции в Azure важно понимать, что, хотя платформа Azure предоставляет эти встроенные возможности отказоустойчивости, необходимо спроектировать развертывание Azure таким образом, чтобы воспользоваться преимуществами функций и служб Azure, обеспечивающих высокий уровень доступности, аварийное восстановление и резервное копирование.

- Решение BCDR зависит от целей вашей компании. На него влияет стратегия развертывания в Azure. Развертывание в режиме инфраструктуры как услуги (IaaS) и платформы как услуги (PaaS) ставит разные задачи перед BCDR.
- После внедрения решения BCDR необходимо регулярно тестировать, проверяя жизнеспособность стратегии.

### <a name="back-up-an-iaas-deployment"></a>Резервное копирование развернутой среды IaaS

В большинстве случаев локальная рабочая нагрузка выводится из эксплуатации после миграции и локальную стратегию резервного копирования данных необходимо расширять или заменять. Если весь центр обработки данных переносится в Azure, необходимо разработать и внедрить полное решение для резервного копирования с использованием технологий Azure или интегрированных решений сторонних поставщиков.

Для рабочих нагрузок, выполняющихся на виртуальных машинах IaaS Azure, рассмотрите следующие решения резервного копирования:

- **Azure Backup:** Предоставляет резервные копии с поддержкой приложений для виртуальных машин Azure под управлением Windows и Linux.
- **Моментальные снимки хранилища:** Создает моментальные снимки хранилища BLOB-объектов.

#### <a name="azure-backup"></a>Azure Backup

Azure Backup создает точки восстановления данных, которые хранятся в службе хранилища Azure. Azure Backup может выполнять резервное копирование дисков виртуальных машин Azure и файлов в службе файлов Azure (предварительная версия). Служба файлов Azure предоставляют файловые ресурсы в облаке, доступные по протоколу SMB.

С помощью Azure Backup можно создавать резервные копии виртуальных машин несколькими способами.

- **Прямое резервное копирование из параметров виртуальной машины.** Резервные копии виртуальных машин с помощью Azure Backup можно создавать непосредственно на основе параметров виртуальных машин на портале Azure. Вы можете создать резервную копию виртуальной машины один раз в день, а диск виртуальной машины можно восстановить по мере необходимости. Azure Backup использует моментальные снимки данных, поддерживающие приложения (VSS), и на виртуальной машине не установлен агент.
- **Прямое резервное копирование в хранилище Служб восстановления.** Для виртуальных машин IaaS можно выполнять резервное копирование путем развертывания хранилища Служб восстановления Azure Backup. Это обеспечивает единое расположение для отслеживания резервных копий и управления ими, а также предоставляет возможности детализированной настройки резервного копирования и восстановления. Резервное копирование выполняется до трех раз в день на уровне файлов или папок. При этом не учитываются приложения и не поддерживается ОС Linux. На каждой виртуальной машине, подлежащей резервному копированию этим методом, необходимо установить агент Служб восстановления Microsoft Azure (MARS).
- **Защитите виртуальную машину на Azure Backup Server.** Azure Backup Server предоставляется бесплатно с Azure Backup. Виртуальная машина архивируется в локальное хранилище Azure Backup Server. Затем вы создаете резервную копию сервера Azure Backup в Azure в хранилище. При резервном копировании учитываются приложения и обеспечивается полная детализация частоты создания и срока хранения резервных копий. Резервное копирование можно выполнять на уровне приложения, например при резервном копировании SQL Server или SharePoint.

В целях безопасности Azure Backup шифрует данные с помощью AES-256 и отправляет их по протоколу HTTPS в Azure. Резервные копии неактивных данных в Azure шифруются с помощью [шифрования службы хранилища Azure](https://docs.microsoft.com/azure/storage/common/storage-service-encryption).

![](./media/migrate-best-practices-security-management/iaas-backup.png)
_Azure Backup Azure Backup._

**Подробнее:**

- Сведения о службе [Azure Backup](https://docs.microsoft.com/azure/backup/backup-overview) .
- Спланируйте [инфраструктуру резервного копирования для виртуальных машин Azure](https://docs.microsoft.com/azure/backup/backup-azure-vms-introduction).

#### <a name="storage-snapshots"></a>Моментальные снимки хранилища

Виртуальные машины Azure содержатся в хранилище Azure в виде страничных BLOB-объектов.

- В моментальные снимки записывается состояние большого двоичного объекта в определенный момент времени.
- В качестве альтернативного способа резервного копирования для дисков виртуальных машин Azure можно создать моментальный снимок BLOB-объектов из хранилища и скопировать их в другую учетную запись хранения.
- Можно скопировать весь BLOB-объект или использовать добавочное копирование моментальных снимков, чтобы копировать только разностные изменения и уменьшить занимаемое место в системе хранения.
- В качестве дополнительной меры предосторожности можно включить обратимое удаление для учетных записей хранения BLOB-объектов. Когда эта функция включена, удаляемый BLOB-объект помечается для удаления, но не удаляется сразу. В течение периода отсрочки этот большой двоичный объект можно восстановить.

**Подробнее:**

- Сведения о [хранилище BLOB-объектов Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction).
- Узнайте, как [создать моментальный снимок BLOB-объекта](https://docs.microsoft.com/azure/storage/blobs/storage-blob-snapshots).
- [Ознакомьтесь с примером сценария](https://azure.microsoft.com/blog/microsoft-azure-block-blob-storage-backup) резервного копирования хранилища BLOB-объектов.
- [Сведения](https://docs.microsoft.com/azure/storage/blobs/storage-blob-soft-delete) об обратимом удалении.
- [Что делать в случае простоя службы хранилища Azure](https://docs.microsoft.com/azure/storage/common/storage-disaster-recovery-guidance)

#### <a name="third-party-backup"></a>Сторонние решения для резервного копирования

Кроме того, можно использовать сторонние решения для резервного копирования виртуальных машин Azure и контейнеров хранилища в локальное хранилище или на ресурсы других поставщиков облачных служб. Дополнительные сведения см. [в статье решения резервного копирования в Azure Marketplace](https://azuremarketplace.microsoft.com/marketplace/apps?search=backup&page=1).

### <a name="set-up-disaster-recovery-for-iaas-applications"></a>Настройка аварийного восстановления для приложений IaaS

Помимо защиты данных, планирование BCDR должно учитывать, как обеспечить доступность приложений и рабочих нагрузок в случае аварии. Для рабочих нагрузок, выполняющихся на виртуальных машинах Azure IaaS и в службе хранилища Azure, следует учитывать следующие решения:

#### <a name="azure-site-recovery"></a>Azure Site Recovery

Azure Site Recovery — это основная служба Azure, обеспечивающая возможность подключения виртуальных машин Azure к сети и доступность приложений виртуальной машины при сбоях.

Site Recovery реплицирует виртуальные машины из основного в дополнительный регион Azure. В случае аварии выполняется отработка отказа виртуальных машин из основного региона. Доступ к ним и дальше предоставляется в обычном режиме в дополнительном регионе. После возврата в нормальное состояние, можно восстановить работу виртуальных машин в основном регионе.

  ![](./media/migrate-best-practices-security-management/site-recovery.png) _Site Recovery Azure Site Recovery._

**Подробнее:**

- Ознакомьтесь со [сценариями аварийного восстановления для виртуальных машин Azure](https://docs.microsoft.com/azure/virtual-machines/virtual-machines-disaster-recovery-guidance).
- Узнайте, как [настроить аварийное восстановление для виртуальной машины Azure после миграции](https://docs.microsoft.com/azure/site-recovery/azure-to-azure-replicate-after-migration).

## <a name="best-practice-use-managed-disks-and-availability-sets"></a>Рекомендации: использование управляемых дисков и групп доступности

Группы доступности используются в Azure для логического группирования виртуальных машин, а также для изоляции виртуальных машин одной группы от других ресурсов. Виртуальные машины в группе доступности распределяются по нескольким доменам сбоя с отдельными подсистемами, которые защищают от локальных сбоев. Виртуальные машины также распределяются между несколькими доменами обновления, предотвращая одновременную перезагрузку всех виртуальных машин в наборе.

Управляемые диски Azure упрощают управление дисками для виртуальных машин Azure, управляя учетными записями хранения, связанными с дисками виртуальных машин.

- Используйте управляемые диски везде, где это возможно. Необходимо указать только тип хранилища, который вы хотите использовать, и размер диска, и Azure создаст диск и будет управлять им.
- Существующие диски можно преобразовать в управляемые диски.
- Для обеспечения высокого уровня устойчивости и доступности следует создавать виртуальные машины в группах доступности. При запланированных или незапланированных простоях группы доступности гарантируют, что по крайней мере одна виртуальная машина в наборе остается доступной.

  ![Управляемые диски управляемых дисков ](./media/migrate-best-practices-security-management/managed-disks.png)
   _._

**Подробнее:**

- Ознакомьтесь с [обзором управляемых дисков](https://docs.microsoft.com/azure/virtual-machines/windows/managed-disks-overview).
- Сведения о [преобразовании дисков в управляемые](https://docs.microsoft.com/azure/virtual-machines/windows/convert-unmanaged-to-managed-disks).
- Узнайте, как [управлять доступностью виртуальных машин Windows в Azure](https://docs.microsoft.com/azure/virtual-machines/windows/manage-availability).

## <a name="best-practice-monitor-resource-usage-and-performance"></a>Рекомендации: мониторинг использования ресурсов и производительности

Возможно, вы переместили рабочие нагрузки в Azure, чтобы получить огромные возможности масштабирования в этой системе. Но перемещение рабочей нагрузки не означает, что Azure будет автоматически реализовывать масштабирование без ввода. Например:

- Если ваша маркетинговая организация отправит новое объявление о телевизоре, которое выводит на экран 300% больше трафика, это может привести к проблемам доступности сайта. Только что перенесенная рабочая нагрузка может достигнуть назначенных ограничений и аварийно завершиться.
- Другой пример — распределенная атака типа "отказ в обслуживании" (DDoS) на перенесенную рабочую нагрузку. В этом случае может потребоваться не масштабирование, а защита ваших ресурсов от атаки.

В этих двух случаях требуются разные решения, но в обоих необходимо составить представление о ситуации. В этом поможет мониторинг потребления и производительности.

- Azure Monitor может помочь в области этих метрик и предоставлять ответы с предупреждениями, автомасштабированием, концентраторами событий Logic Apps и т. д.
- Помимо мониторинга Azure, можно интегрировать сторонние приложения SIEM для мониторинга журналов на предмет событий аудита и производительности.

  ![](./media/migrate-best-practices-security-management/monitor.png)
  _Azure Monitor Azure Monitor._

**Подробнее:**

- Дополнительные сведения об [Azure Monitor](https://docs.microsoft.com/azure/azure-monitor/overview).
- [Рекомендации](https://docs.microsoft.com/azure/architecture/best-practices/monitoring) по мониторингу и диагностике.
- Дополнительные сведения об [автомасштабировании](https://docs.microsoft.com/azure/architecture/best-practices/auto-scaling).
- Узнайте, как [перенаправлять данные Azure в средство SIEM](https://docs.microsoft.com/azure/security-center/security-center-export-data-to-siem).

## <a name="best-practice-enable-diagnostic-logging"></a>Рекомендации: Включение ведения журнала диагностики

Ресурсы Azure создают значительное количество метрик в журналах и данных телеметрии.

- По умолчанию для большинства типов ресурсов не включено ведение журналов диагностики.
- Включив ведение журналов диагностики по ресурсам, можно запрашивать данные журналов и создавать оповещения, а также сборники схем на их основе.
- После включения ведения журналов диагностики каждый ресурс получит определенный набор категорий. Следует выбрать одну или несколько категорий ведения журналов и расположение для их данных. Журналы можно отправлять в учетную запись хранения, концентратор событий или Azure Monitor.

![Диагностическое ведение журнала диагностики ](./media/migrate-best-practices-security-management/diagnostics.png)
 _._

**Подробнее:**

- Сведения о [сборе и использовании данных журнала](https://docs.microsoft.com/azure/azure-monitor/platform/platform-logs-overview).
- [Сведения о поддерживаемых возможностях](https://docs.microsoft.com/azure/azure-monitor/platform/diagnostic-logs-schema) для ведения журналов диагностики.

## <a name="best-practice-set-up-alerts-and-playbooks"></a>Рекомендации: Настройка оповещений и модули PlayBook

Включив ведение журналов диагностики для ресурсов Azure, можно приступать к созданию настраиваемых оповещений с помощью данных журналов.

- Оповещения позволяют заранее получать уведомления о состояниях, обнаруженных в ваших данных мониторинга. Это дает возможность решить проблемы до того, как пользователи системы обратят на них внимание. Можно создать оповещение о таких аспектах, как значения метрик, запросы поиска по журналам, события журнала действий, работоспособность платформы и доступность веб-сайта.
- При активации оповещений можно запустить приложение логики сборник тренировочных заданий. Сборник схем помогает автоматизировать и координировать ответ на определенное оповещение. Сборники схем основываются на приложениях Azure Logic Apps. Шаблоны приложений логики можно использовать для создания модули PlayBook или создания собственных.
- В качестве простого примера можно создать оповещение, которое будет срабатывать при сканировании портов той или иной группы безопасности сети. Можно настроить сборник схем, который будет запускаться и блокировать IP-адрес источника сканирования.
- Еще один пример — приложение с утечкой памяти. Когда потребление памяти дойдет до определенной точки, сборник схем может перезапустить процесс.

  ![Оповещения ](./media/migrate-best-practices-security-management/alerts.png)
   _._

**Подробнее:**

- Сведения об [оповещениях](https://docs.microsoft.com/azure/azure-monitor/platform/alerts-overview).
- Узнайте о [безопасности модули PlayBook, которые отвечают на оповещения центра безопасности](https://docs.microsoft.com/azure/security-center/security-center-playbooks).

## <a name="best-practice-use-the-azure-dashboard"></a>Рекомендации. Использование панели мониторинга Azure

Портал Azure — это унифицированная веб-консоль, с помощью которой можно создавать, администрировать и отслеживать любые объекты, от простых веб-приложений до сложных облачных приложений. Он включает в себя настраиваемую панель мониторинга и специальные возможности.

- Можно создать несколько панелей мониторинга и предоставить к ним общий доступ другим пользователям, у которых есть доступ к вашим подпискам Azure.
- В этой общей модели группа сотрудников получает представление о среде Azure, что позволяет ей принимать упреждающие меры при управлении системами в облаке.

  ![Панель мониторинга Azure панели мониторинга Azure ](./media/migrate-best-practices-security-management/dashboard.png)
   _._

**Подробнее:**

- Узнайте, как [создать панель мониторинга](https://docs.microsoft.com/azure/azure-portal/azure-portal-dashboards).
- Сведения о [структуре панели мониторинга](https://docs.microsoft.com/azure/azure-portal/azure-portal-dashboards-structure).

## <a name="best-practice-understand-support-plans"></a>Рекомендации: Общие сведения о планах поддержки

На определенном этапе вам потребуется работать совместно с персоналом службы поддержки вашей организации или корпорации Майкрософт. Крайне важно наличие набора политик и процедур для поддержки во время таких сценариев, как аварийное восстановление. Кроме того, ваши администраторы и сотрудники службы поддержки должны пройти обучение по реализации этих политик.

- В той маловероятной ситуации, если проблема со службой Azure повлияет на вашу рабочую нагрузку, администраторы должны знать, как отправить запрос в службу поддержки корпорации Майкрософт наиболее соответствующим и эффективным способом.
- Ознакомьтесь с различными планами поддержки, предлагаемыми для Azure. Они могут варьироваться от времени отклика, выделенного для экземпляров разработчика, до поддержки премьер с временем отклика менее чем за 15 минут.

  ![Планы поддержки планы ](./media/migrate-best-practices-security-management/support.png)
   _поддержки._

**Подробнее:**

- Ознакомьтесь с [обзором планов поддержки Azure](https://azure.microsoft.com/support/options).
- Сведения о [соглашениях об уровне обслуживания (SLA)](https://azure.microsoft.com/support/legal/sla).

## <a name="best-practice-manage-updates"></a>Рекомендации: Управление обновлениями

Поддержание виртуальных машин Azure в обновленном состоянии путем установки последних обновлений операционной системы и программного обеспечения требует немалых усилий. Возможность получить сведения обо всех виртуальных машинах, чтобы выяснить, какие обновления им необходимы, и автоматически передать эти уведомления, чрезвычайно важна.

- Управление обновлениями в службе автоматизации Azure можно использовать для управления обновлениями операционной системы для компьютеров под управлением Windows и Linux, развернутых в Azure, в локальной среде и в других поставщиках облачных служб.
- Используйте управление обновлениями для быстрой оценки состояния доступных обновлений на всех компьютерах агентов и управления установкой обновлений.
- Вы можете включить управление обновлениями для виртуальных машин непосредственно из учетной записи службы автоматизации Azure. Также можно обновить конкретную виртуальную машину на странице виртуальной машины на портале Azure.
- Кроме того, виртуальные машины Azure можно зарегистрировать с помощью System Center Configuration Manager. Затем можно перенести рабочую нагрузку Configuration Manager в Azure и выполнять отчеты и обновления программного обеспечения в едином веб-интерфейсе.

  ![Обновления для виртуальной машины ](./media/migrate-best-practices-security-management/updates.png)
   _._

**Подробнее:**

- Сведения об [управлении обновлениями в Azure](https://docs.microsoft.com/azure/automation/automation-update-management).
- Узнайте, как [интегрировать Configuration Manager с управлением обновлениями](https://docs.microsoft.com/azure/automation/oms-solution-updatemgmt-sccmintegration).
- [Ответы на вопросы](https://docs.microsoft.com/sccm/core/understand/configuration-manager-on-azure) о Configuration Manager в Azure.

## <a name="implement-a-change-management-process"></a>Реализация процесса управления изменениями

Как и в любой рабочей системе, изменение любого типа может повлиять на среду. Процесс управления изменениями, который требует отправки запросов для внесения изменений в рабочие системы, является важным дополнением к среде миграции.

- Можно создать рекомендуемые платформы для управления изменениями, чтобы повысить осведомленность администраторов и персонала службы поддержки.
- Служба автоматизации Azure помогает в управлении конфигурацией, а также позволяет отслеживать перенесенные рабочие процессы.
- При управлении изменениями можно использовать журналы аудита, чтобы связывать журналы изменений Azure с предположительно существующими (или отсутствующими) запросами на изменение. Таким образом, если вы увидите изменение, внесенное без соответствующего запроса, вы можете изучить сведения о процессе, чтобы узнать, что пошло не так.

В службе автоматизации Azure есть решение "Отслеживание изменений".

- Это решение отслеживает изменения в программном обеспечении и файлах под управлением Windows и Linux, разделах реестра Windows, службах Windows и управляющих программах Linux.
- Изменения на отслеживаемых серверах отправляются в службу Azure Monitor в облаке для обработки.
- К полученным данным применяется логика и облачная служба записывает данные.
- На панели мониторинга "Отслеживание изменений" можно легко увидеть изменения, внесенные в серверную инфраструктуру.

  ![](./media/migrate-best-practices-security-management/change.png)
  _Управление изменением управления изменениями._

**Подробнее:**

- Сведения об [отслеживании изменений](https://docs.microsoft.com/azure/automation/automation-change-tracking).
- Сведения о [возможностях службы автоматизации Azure](https://docs.microsoft.com/azure/automation/automation-intro).

## <a name="next-steps"></a>Дальнейшие действия

Просмотрите другие рекомендации:

- [Рекомендации по настройке сетей для рабочих нагрузок, перенесенных в Azure](./migrate-best-practices-networking.md).
- [Рекомендации](./migrate-best-practices-costs.md) по управлению затратами после миграции.
