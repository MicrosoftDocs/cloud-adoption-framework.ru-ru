---
title: Повторное размещение локального приложения Linux на виртуальных машинах Azure
description: Узнайте, как компания Contoso повторно размещает локальное приложение Linux путем переноса на виртуальные машины Azure.
author: deltadan
ms.author: abuck
ms.date: 07/01/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: migrate
services: azure-migrate
ms.openlocfilehash: 583cc72e4066d2cb41162bd04f641356518b2386
ms.sourcegitcommit: 84d7bfd11329eb4c151c4c32be5bab6c91f376ed
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/10/2020
ms.locfileid: "86234452"
---
<!-- cSpell:ignore givenscj OSTICKETWEB OSTICKETMYSQL OSTICKETWEB OSTICKETMYSQL contosohost vcenter contosodc osTicket binlog systemctl NSGs distros -->

# <a name="rehost-an-on-premises-linux-application-to-azure-vms"></a>Повторное размещение локального приложения Linux на виртуальных машинах Azure

В этой статье показано, как вымышленная компания Contoso повторно размещает двухуровневый приложение [на основе лампы](https://wikipedia.org/wiki/LAMP_(software_bundle)) с помощью виртуальных машин IaaS Azure.

Остиккет, приложение службы поддержки, используемое в этом примере, предоставляется в виде открытого кода. Если вы хотите использовать его для тестирования, то можете скачать это приложение с сайта [GitHub](https://github.com/osTicket/osTicket).

## <a name="business-drivers"></a>Бизнес-факторы

Совместными усилиями ИТ-руководство и деловые партнеры определили указанные ниже цели этой миграции.

- **Устраните бизнес-рост.** По мере развития компании Contoso растет нагрузка на локальные системы и инфраструктуру.
- **Ограничение риска.** Приложение службы поддержки является критически важным для компании Contoso Business. Поэтому компания Contoso хочет переместить его в Azure с минимальными рисками.
- **Расширений.** Contoso не хочет изменять приложение прямо сейчас. Он просто хочет обеспечить стабильность приложения.

## <a name="migration-goals"></a>Цели миграции

Для определения наилучшего способа миграции команда Contoso по работе в облаке определила цели миграции.

- После миграции приложение в Azure должно иметь те же возможности производительности, что и сегодня в локальной среде VMware. Приложение будет оставаться критически важным в облаке, как и локально.
- Компания Contoso не хочет вкладываться в это приложение. Оно важно для бизнеса, но компании Contoso просто нужно безопасно переместить его в облако в его текущей форме.
- Contoso не хочет изменять модель Ops для этого приложения. Он хочет взаимодействовать с приложением в облаке так же, как и сейчас.
- Contoso не хочет изменять функциональные возможности приложения. Изменится только расположение приложения.
- Если вы выполнили несколько миграций приложений Windows, компания Contoso хочет узнать, как использовать инфраструктуру на основе Linux в Azure.

## <a name="solution-design"></a>Архитектура решения

Определив свои цели и требования, специалисты компании Contoso начинают разработку и анализ решения для развертывания и планируют процесс миграции, включая службы Azure, которые будут использоваться в ходе этой миграции.

### <a name="current-application"></a>Текущее приложение

- Приложение Остиккет распределяется между двумя виртуальными машинами ( `OSTICKETWEB` и `OSTICKETMYSQL` ).
- Виртуальные машины расположены на узле VMware ESXi `contosohost1.contoso.com` (версии 6.5).
- Среда VMware находится под управлением сервера vCenter Server 6.5 (`vcenter.contoso.com`), запущенного на виртуальной машине.
- Contoso имеет локальный центр обработки данных ( `contoso-datacenter` ) с локальным контроллером домена ( `contosodc1` ).

### <a name="proposed-architecture"></a>Предлагаемая архитектура

- Так как приложение является рабочей рабочей нагрузкой, виртуальные машины в Azure будут находиться в Рабочей группе ресурсов `ContosoRG` .
- Виртуальные машины будут перенесены в основной регион (Восточная часть США 2) и помещены в производственную сеть ( `VNET-PROD-EUS2` ):
  - Виртуальная машина веб-уровня будет находиться в интерфейсной подсети (`PROD-FE-EUS2`).
  - Виртуальная машина базы данных будет находиться в подсети базы данных ( `PROD-DB-EUS2` ).
- После завершения миграции локальные виртуальные машины в центре обработки данных Contoso будут выведены из эксплуатации.

![Архитектура сценария](./media/contoso-migration-rehost-linux-vm/architecture.png)

### <a name="solution-review"></a>Проверка решения

Специалисты Contoso оценивают предлагаемый дизайн, составляя список плюсов и минусов.

| Рассматриваемый вопрос | Сведения |
| --- | --- |
| **Преимущества** | Виртуальные машины приложений будут перемещены в Azure без изменений, упрощая миграцию. <br><br> Поскольку компания Contoso использует подход с приближением и сдвигом для обеих виртуальных машин приложений, для базы данных приложения специальные средства настройки или миграции не требуются. <br><br> Contoso будет хранить полный контроль над виртуальными машинами приложений в Azure. <br><br> Виртуальные машины приложений работают под управлением Ubuntu 16,04-TLS, поддерживаемого дистрибутива Linux. [Подробнее.](https://docs.microsoft.com/azure/virtual-machines/linux/endorsed-distros) |
| **Недостатки** | Веб-узел и уровень данных приложения остаются едиными точками отработки отказа. <br><br> Contoso потребуется продолжить поддержку приложения в качестве виртуальных машин Azure, а не переходить к управляемой службе, такой как служба приложений Azure и база данных Azure для MySQL. <br><br> Компания Contoso осознает, что благодаря простоте миграции виртуальных машин с переносом и сдвигом они не используют все преимущества функций [базы данных Azure для MySQL](https://docs.microsoft.com/azure/mysql/overview) (Встроенная Высокая доступность, прогнозируемая производительность, простое масштабирование, автоматическое резервное копирование и встроенная безопасность). |

### <a name="migration-process"></a>Процесс миграции

Contoso будет осуществлять миграцию следующим образом:

- В качестве первого шага компания Contoso готовит и настраивает компоненты Azure для службы "миграция Azure": миграция серверов и подготовка локальной инфраструктуры VMware.
- У них уже есть [инфраструктура Azure](./contoso-migration-infrastructure.md) , поэтому Contoso нужно только настроить репликацию виртуальных машин с помощью средства миграции Azure "миграция сервера".
- Когда все будет подготовлено, Contoso сможет начать репликацию виртуальных машин.
- После того как репликация будет включена и начнет работать, Contoso перенесет виртуальную машину путем отработки отказа в Azure.

![Процесс миграции](./media/contoso-migration-rehost-linux-vm/migration-process-az-migrate.png)

### <a name="azure-services"></a>Службы Azure

| Служба | Описание | Стоимость |
| --- | --- | --- |
| [Azure Migrate: Server Migration](https://docs.microsoft.com/azure/migrate/contoso-migration-rehost-linux-vm) (Миграция Azure: миграция сервера). | Служба управляет миграцией локальных приложений и рабочих нагрузок, а также экземпляров виртуальных машин AWS/обеспечить. | Во время репликации в Azure взимается плата за службу хранилища Azure. При миграции создаются виртуальные машины Azure и взимается плата. Дополнительные сведения о ценах см. на [этой странице](https://azure.microsoft.com/pricing/details/azure-migrate). |

## <a name="prerequisites"></a>Предварительные требования

Ниже приведены действия компании Contoso, необходимые для этого сценария.

Требования | Сведения |
| --- | --- |
| **Подписка Azure.** | Специалисты Contoso создали подписки в более ранней статье в этой серии. Если у вас еще нет подписки Azure, создайте [бесплатную учетную запись Azure](https://azure.microsoft.com/free). <br><br> Если вы создаете бесплатную учетную запись, вы являетесь администратором своей подписки и можете выполнять любые действия. <br><br> Если вы используете существующую подписку, в которой не являетесь администратором, администратор должен назначить вам права владельца или участника. <br><br> Если вам требуются более детализированные разрешения, ознакомьтесь с [этой статьей](https://docs.microsoft.com/azure/site-recovery/site-recovery-role-based-linked-access-control). |
| **Инфраструктура Azure** | [Узнайте, как](./contoso-migration-infrastructure.md) компания Contoso настраивает инфраструктуру Azure. <br><br> Дополнительные сведения о конкретных [предварительных требованиях](./contoso-migration-devtest-to-iaas.md#prerequisites) для службы "миграция Azure": миграция сервера. |
| **Локальные серверы** | Локальная vCenter Server должна работать под управлением версии 5,5, 6,0 или 6,5. <br><br> Узел ESXi с версией 5,5, 6,0 или 6,5. <br><br> Одна или несколько виртуальных машин VMware, которые выполняются на узле ESXi. |
| **Локальные виртуальные машины** | [Ознакомьтесь с дистрибутивовами Linux](https://docs.microsoft.com/azure/virtual-machines/linux/endorsed-distros) , которые были одобрены для работы в Azure. |

## <a name="scenario-steps"></a>Шаги выполнения сценария

Миграция в Contoso будет осуществляться следующим образом:

> [!div class="checklist"]
>
> - **Шаг 1. Подготовка Azure для миграции Azure: миграция сервера.** Они добавляют средство миграции Azure "миграция сервера" в свой проект "миграция Azure".
> - **Шаг 2. Подготовка локальной среды VMware для миграции в Azure: миграция сервера.** Они подготавливают учетные записи для обнаружения ВМ и подготавливают подключение к виртуальным машинам Azure после миграции.
> - **Шаг 3. репликация виртуальных машин.** Они настроили репликацию и начинают репликацию виртуальных машин в службу хранилища Azure.
> - **Шаг 4. Миграция виртуальных машин с помощью службы "миграция Azure": миграция сервера.** Они выполняют тестовую миграцию, чтобы убедиться, что все работает, а затем выполните команду для миграции, чтобы переместить виртуальные машины в Azure.

## <a name="step-1-prepare-azure-for-the-azure-migrate-server-migration-tool"></a>Шаг 1. Подготовка Azure к работе с миграцией Azure: средство миграции сервера

Ниже перечислены компоненты Azure, которые необходимы для миграции виртуальных машин компании Contoso в Azure.

- Виртуальная сеть, в которой будут находиться виртуальные машины Azure при их создании во время миграции.
- Средство миграции Azure: подготовка к переходу на сервер.

Эти компоненты устанавливаются следующим образом:

1. **Настройка сети:** Компания Contoso уже настроила сеть, которая может быть для службы "миграция Azure": миграция сервера при [развертывании инфраструктуры Azure](./contoso-migration-infrastructure.md)

    - Приложение SmartHotel360 — это рабочее приложение, и виртуальные машины будут перенесены в рабочую сеть Azure ( `VNET-PROD-EUS2` ) в основном регионе ( `East US 2` ).
    - Обе виртуальные машины будут помещены в `ContosoRG` группу ресурсов, которая будет использоваться для рабочих ресурсов.
    - Клиентская виртуальная машина приложения ( `OSTICKETWEB` ) будет перенесена в интерфейсную подсеть ( `PROD-FE-EUS2` ) в рабочей сети.
    - Виртуальная машина базы данных приложений ( `OSTICKETMYSQL` ) будет перенесена в подсеть базы данных ( `PROD-DB-EUS2` ) в рабочей сети.

2. Выполните подготовку **к работе средства миграции Azure:** После размещения сети и учетной записи хранения Contoso теперь создает хранилище служб восстановления ( `ContosoMigrationVault` ) и помещает его в `ContosoFailoverRG` группу ресурсов в основном регионе ( `East US 2` ).

    ![Средство миграции серверов Миграции Azure](./media/contoso-migration-rehost-linux-vm/server-migration-tool.png)

**Требуется дополнительная помощь?**

[Узнайте, как](https://docs.microsoft.com/azure/migrate) настроить миграцию Azure: средство миграции сервера.

## <a name="step-2-prepare-on-premises-vmware-for-azure-migrate-server-migration"></a>Шаг 2. Подготовка локальной среды VMware для миграции Azure: миграция сервера

После миграции в Azure компания Contoso хочет иметь возможность подключиться к реплицированным виртуальным машинам в Azure. Для этого администраторы Contoso должны предпринять ряд действий.

- Чтобы получить доступ к виртуальным машинам Azure через Интернет, следует включить SSH на локальных виртуальных машинах Linux перед миграцией. Для Ubuntu это можно выполнить с помощью следующей команды: `sudo apt-get ssh install -y` .
- Установка [агента Linux для Azure](https://docs.microsoft.com/azure/virtual-machines/extensions/agent-linux)
- После выполнения миграции они могут проверить **диагностику загрузки** , чтобы просмотреть снимок экрана виртуальной машины.
- Если не удается сделать это, необходимо проверить, работает ли виртуальная машина, и изучить [советы по устранению неполадок](https://social.technet.microsoft.com/wiki/contents/articles/31666.troubleshooting-remote-desktop-connection-after-failover-using-asr.aspx).

**Требуется дополнительная помощь?**

- Дополнительные сведения о [подготовке виртуальных машин к миграции](https://docs.microsoft.com/azure/migrate/prepare-for-migration).

## <a name="step-3-replicate-the-on-premises-vms"></a>Шаг 3. Репликация локальных виртуальных машин

Чтобы можно было запустить миграцию в Azure, администраторам компании Contoso потребуется настроить и включить репликацию.

По завершении обнаружения можно начать репликацию виртуальных машин VMware в Azure.

1. В проекте "миграция Azure" > **серверы**, служба **"миграция Azure": миграция сервера**выберите **репликация**.

    ![Репликация виртуальных машин](./media/contoso-migration-rehost-linux-vm/select-replicate.png)

2. В разделе Параметры **репликации**  >  **источника**  >  **виртуальные машины виртуализированы?** выберите **Да, с VMware vSphere**.

3. В разделе **Локальное устройство** выберите имя устройства Миграции Azure, которое вы настроили, и нажмите кнопку **ОК**.

    ![Параметры источника](./media/contoso-migration-rehost-linux-vm/source-settings.png)

4. В разделе **Виртуальные машины** выберите виртуальные машины, которые необходимо реплицировать.
    - Если вы выполнили оценку для виртуальных машин, вы можете применить рекомендации по выбору размера виртуальной машины и типу диска ("Премиум" или "Стандарт") из результатов оценки. Для этого в поле **Импортировать параметры миграции из средства оценки Миграции Azure?** выберите вариант **Да**.
    - Если вы не выполняли оценку или вы не хотите использовать параметры оценки, выберите параметр **нет** .
    - Если вы решили использовать оценку, выберите группу виртуальных машин и имя оценки.

    ![Выбор оценки](./media/contoso-migration-rehost-linux-vm/select-assessment.png)

5. В разделе **Виртуальные машины** найдите виртуальные машины и отметьте каждую виртуальную машину, которую вы хотите перенести. Затем нажмите кнопку **Далее: целевые параметры**.

6. В разделе **Целевые параметры** выберите подписку и целевой регион, в который вы хотите выполнить миграцию, а также укажите группу ресурсов, в которой будут находиться виртуальные машины Azure после миграции. В разделе **Виртуальная сеть** выберите виртуальную сеть или подсеть Azure, к которой будут подключены виртуальные машины Azure после миграции.

7. В **преимущество гибридного использования Azure**выберите следующее:

    - выберите вариант **Нет**, если вы не хотите применять Преимущество гибридного использования Azure. Затем щелкните **Далее**.
    - Выберите вариант **Да**, если у вас есть компьютеры с Windows Server, на которые распространяются активные подписки Software Assurance или Windows Server, и вы хотите применить это преимущество к компьютерам, которые вы переносите. Затем щелкните **Далее**.

8. В разделе **Вычисления** просмотрите имя виртуальной машины, размер, тип диска ОС и группу доступности. Виртуальные машины должны соответствовать [требованиям Azure](https://docs.microsoft.com/azure/migrate/migrate-support-matrix-vmware#vmware-requirements).

    - **Размер виртуальной машины:** Если вы используете рекомендации по оценке, раскрывающийся список размер виртуальной машины будет содержать рекомендуемый размер. В противном случае Миграция Azure выбирает размер в зависимости от ближайшего совпадения в подписке Azure. Кроме того, можно выбрать размер вручную в качестве **размера виртуальной машины Azure.**
    - **Диск ОС:** Укажите диск операционной системы (загрузочный) для виртуальной машины. Диск ОС — это диск с загрузчиком операционной системы и установщиком.
    - **Группа доступности:** Если после миграции виртуальная машина должна находиться в группе доступности Azure, укажите набор. Группа должна находиться в целевой группе ресурсов, которую вы указываете для миграции.

9. В разделе **Диски** укажите, следует ли реплицировать диски виртуальных машин в Azure, и выберите тип диска (SSD или HDD (цен. категория "Стандартный") или управляемые диски (цен. категория "Премиум")) в Azure. Затем щелкните **Далее**.
    - Диски можно исключить из репликации.
    - Если вы исключите диски, они не будут присутствовать на виртуальной машине Azure после миграции.

10. В окне **Проверка и запуск репликации**просмотрите параметры, а затем выберите **репликация** , чтобы запустить начальную репликацию для серверов.

> [!NOTE]
> Вы можете обновить параметры репликации в любое время до начала репликации в разделе **Управление** > **Репликация компьютеров**. Настройки невозможно изменить после начала репликации.

## <a name="step-4-migrate-the-vms"></a>Шаг 4. Миграция виртуальных машин

Администраторы Contoso выполняют быструю тестовую миграцию, а затем миграцию для перемещения виртуальных машин.

### <a name="run-a-test-migration"></a>Выполнение тестовой миграции

1. В списке **цели миграции**  >  **серверы**  >  **Миграция Azure: миграция сервера**выберите **тестировать перенесенные серверы**.

     ![Тестовая миграция серверов](./media/contoso-migration-rehost-linux-vm/test-migrated-servers.png)

2. Выберите и удерживайте (или щелкните правой кнопкой мыши) виртуальную машину для тестирования, а затем выберите пункт **Тестовая миграция**.

    ![Тестовая миграция](./media/contoso-migration-rehost-linux-vm/test-migrate.png)

3. В разделе **Тестовая миграция** выберите виртуальную сеть Azure, в которой будет находиться виртуальная машина Azure после миграции. Мы рекомендуем использовать непродукцию-виртуальную сеть.
4. Запустится задание **Тестовая миграция**. Отслеживайте задание и уведомления на портале.
5. После завершения миграции просмотрите перенастроенную виртуальную машину Azure в разделе **Виртуальные машины** на портале Azure. Имя машины содержит суффикс **-Test**.
6. После завершения теста выберите и удерживайте (или щелкните правой кнопкой мыши) виртуальную машину Azure на странице **репликация компьютеров**, а затем выберите **очистить тестовую миграцию**.

    ![Очистка миграции](./media/contoso-migration-rehost-linux-vm/clean-up.png)

### <a name="migrate-the-vms"></a>Миграция виртуальных машин

Теперь администраторы Contoso выполняют полную миграцию для завершения перемещения.

1. В проекте "миграция Azure" > **серверы**  >  **Миграция Azure: миграция сервера**выберите **репликация серверов**.

    ![Репликация серверов](./media/contoso-migration-rehost-linux-vm/replicating-servers.png)

2. В области **репликация компьютеров**выберите и удерживайте (или щелкните правой кнопкой мыши) виртуальную машину, > **выполнить миграцию**.
3. В разделе **Миграция** > **Shut down virtual machines and perform a planned migration with no data loss** (Завершить работу виртуальных машин и выполнить запланированную миграцию без потери данных?) выберите вариант **Да** > **ОК**.
    - По умолчанию Миграция Azure выключает локальную виртуальную машину и запускает репликацию по требованию для синхронизации любых изменений виртуальной машины, которые произошли с момента последней репликации. Это гарантирует отсутствие потери данных.
    - Если вы не хотите выключать виртуальную машину, выберите вариант **Нет**.
4. Запустится задание миграции виртуальной машины. Отслеживайте задание в уведомлениях Azure.
5. После завершения работы вы можете просматривать виртуальную машину и управлять ею на странице **Виртуальные машины**.

### <a name="connect-the-vm-to-the-database"></a>Подключение виртуальной машины к базе данных

В качестве последнего шага процесса миграции администраторы Contoso обновляют строку подключения приложения, чтобы она указывала на базу данных приложения, работающую на `OSTICKETMYSQL` виртуальной машине.

1. Они выполняют SSH-подключение к `OSTICKETWEB` виртуальной машине с помощью выводимого или другого клиента SSH. Виртуальная машина частная, поэтому для подключения к ней используется частный IP-адрес.

    ![Подключение к базе данных](./media/contoso-migration-rehost-linux-vm/db-connect.png)

    ![Подключение к базе данных](./media/contoso-migration-rehost-linux-vm/db-connect2.png)

2. Они должны убедиться, что `OSTICKETWEB` Виртуальная машина может обмениваться данными с `OSTICKETMYSQL` виртуальной машиной. В настоящее время Конфигурация жестко закодирована локальным IP-адресом `172.16.0.43` .

    **Перед обновлением:**

    ![Обновление IP-адреса](./media/contoso-migration-rehost-linux-vm/update-ip1.png)

    **После обновления:**

    ![Обновление IP-адреса](./media/contoso-migration-rehost-linux-vm/update-ip2.png)

3. Специалисты компании перезапускают службу с помощью команды **systemctl перезапустите apache2**.

    ![Перезагрузить](./media/contoso-migration-rehost-linux-vm/restart.png)

4. Наконец, они обновляют записи DNS для `OSTICKETWEB` и `OSTICKETMYSQL` на одном из контроллеров домена contoso.

    ![Обновление DNS](./media/contoso-migration-rehost-linux-vm-mysql/update-dns.png)

    ![Обновление DNS](./media/contoso-migration-rehost-linux-vm-mysql/update-dns.png)

**Требуется дополнительная помощь?**

- [Дополнительные сведения о](https://docs.microsoft.com/azure/migrate/tutorial-migrate-vmware#run-a-test-migration) выполнении тестовой миграции.
- [Узнайте больше](https://docs.microsoft.com/azure/migrate/tutorial-migrate-vmware#migrate-vms) о переносе виртуальных машин в Azure.

## <a name="clean-up-after-migration"></a>Очистка после миграции

После завершения миграции уровни приложений Остиккет теперь работают на виртуальных машинах Azure.

Для этого специалистам компании Contoso потребуется выполнить очистку:

- Удалите локальные виртуальные машины из перечня в vCenter.
- Удалить локальные виртуальные машины из локальных заданий резервного копирования.
- Обновите внутреннюю документацию, чтобы отобразить новое расположение и IP-адреса для `OSTICKETWEB` и `OSTICKETMYSQL` .
- Проверить все ресурсы, взаимодействующие с виртуальными машинами, и обновить все соответствующие параметры или документы согласно новой конфигурации.
- Contoso использовал службу "миграция Azure" с виртуальной машиной управления для оценки виртуальных машин для миграции. Администраторы должны удалить виртуальную машину и виртуальные машины миграции с VMware ESXi Server.

## <a name="review-the-deployment"></a>Проверка развертывания

Теперь, когда приложение работает, компания Contoso должна полностью эксплуатацию и защитить свою новую инфраструктуру.

### <a name="security"></a>Безопасность

Группа безопасности Contoso изучает виртуальные машины ОСТИККЕТВЕБ и ОСТИККЕТМИСКЛ, чтобы определить проблемы безопасности.

- Чтобы можно было управлять доступом, команда проверяет группы безопасности сети (NSG) для виртуальных машин. NSG позволяют пропускать только разрешенный для приложения трафик.
- Группа также рассматривает защиту данных на дисках виртуальной машины с помощью шифрования дисков Azure и Azure Key Vault.

Дополнительные сведения см. в статье рекомендации [по обеспечению безопасности для рабочих нагрузок IaaS в Azure](https://docs.microsoft.com/azure/security/fundamentals/iaas).

<!-- docsTest:ignore "Quickstart: Set" -->

### <a name="bcdr"></a>Непрерывность бизнес-процессов и аварийное восстановление

Чтобы обеспечить непрерывность бизнес-процессов и аварийное восстановление, специалисты компании Contoso выполняют указанные ниже действия.

- **Обеспечьте безопасность данных.** Contoso создает резервные копии данных на виртуальных машинах с помощью [резервного копирования виртуальных машин Azure](https://docs.microsoft.com/azure/backup/backup-azure-vms-introduction).
- **Обеспечьте работоспособность приложений.** Contoso реплицирует виртуальные машины приложений в Azure в дополнительный регион с помощью Site Recovery. Дополнительные сведения см. [в разделе Краткое руководство. Настройка аварийного восстановления в дополнительном регионе Azure для виртуальной машины Azure](https://docs.microsoft.com/azure/site-recovery/azure-to-azure-quickstart).

### <a name="licensing-and-cost-optimization"></a>Лицензирование и оптимизация затрат

- После развертывания ресурсов Contoso назначает теги Azure в соответствии с определениями, заданными в ходе [развертывания инфраструктуры Azure](./contoso-migration-infrastructure.md#set-up-tagging).
- У компании Contoso нет проблем с лицензированием серверов Ubuntu.
- Компания Contoso будет использовать службу " [Управление затратами Azure" и выставление счетов](https://docs.microsoft.com/azure/cost-management-billing/cost-management-billing-overview) , чтобы гарантировать, что они останутся в бюджетах, установленных по ИТ.
