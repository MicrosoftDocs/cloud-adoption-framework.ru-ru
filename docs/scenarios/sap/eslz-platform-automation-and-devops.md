---
title: Автоматизация платформы корпоративного уровня и DevOps для SAP в Azure
description: Узнайте о зависимостях между системами SAP, средами и ландшафтов для автоматизации развертывания приложений и управления ими.
author: JefferyMitchell
ms.author: brblanch
ms.date: 02/11/2021
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: ready
ms.custom: think-tank
ms.openlocfilehash: 5d55294c4f5878f63cac0d71b96f583590e7b77e
ms.sourcegitcommit: 36e85ac734b184de3f29884b744ea74c81ccc72b
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/13/2021
ms.locfileid: "103443014"
---
<!-- docutune:casing Snow -->

# <a name="sap-enterprise-scale-platform-automation-and-devops"></a>SAP Enterprise — Автоматизация платформ и DevOps

В этой статье описывается подход к автоматизации идентификаторов безопасности (SID) в SAP с помощью подхода Аппопс.

## <a name="architecture"></a>Architecture

Приложение SAP состоит из систем, сред и ландшафтов. Автоматизация платформы и DevOps предназначены для этих компонентов.

На следующей схеме показаны зависимости между системами SAP, средами и ландшафтов. Приложение имеет три ландшафтов: SAP ERP Central (ECC), Управление отношениями с клиентами SAP (CRM) и SAP Business Warehouse (BW). Каждый альбом имеет три уровня среды: Разработка, контроль качества и Рабочая среда. Каждая среда содержит одну или несколько систем.

![Схема, показывающая архитектурные зависимости между системами SAP, средами и ландшафтов.](media/architectural-principles.png)

### <a name="system"></a>Система

Система SAP — это экземпляр приложения SAP, который содержит ресурсы, необходимые для выполнения приложения, такие как виртуальные машины, диски, подсистемы балансировки нагрузки, группы размещения, наборы доступности, подсети и группы безопасности сети. Каждая система развертывается в отдельной группе ресурсов Azure с уникальным идентификатором безопасности.

### <a name="environment"></a>Среда

Среда также называется уровнем разработки и разделяет приложение SAP на уровни, такие как разработка, контроль качества и производство. Развертывание среды предоставляет общие ресурсы, такие как виртуальные сети и хранилища ключей, для всех систем в среде.

Среды предоставляют следующие службы для систем SAP:

- Хранилища ключей для управления учетными данными. По умолчанию все системы в одной среде совместно используют учетные данные.
- Виртуальная сеть
- Учетные записи хранения для:
  - Terraform удаленное хранилище
  - Установочный носитель SAP
  - Диагностика загрузки для виртуальных машин

### <a name="landscape"></a>Альбомная

Альбомный — это набор систем в различных средах приложения SAP. На диаграмме примера показаны три SAP ландшафтов: SAP ERP Central (ECC), Управление отношениями с клиентами SAP (CRM) и SAP Business Warehouse (BW).

**Рекомендации по проектированию:**

- Чтобы определить необходимое количество сред, определите, как следует секционировать среды, такие как подписка, виртуальная сеть, подсеть или этап развертывания.

- Определение стратегии имени участника-службы (SPN) для службы автоматизации. Будет ли каждая среда иметь уникальное имя участника-службы?

- Определите секреты или управление учетными данными. Azure Key Vault является рекомендуемым решением для управления ключами и хранилища ключей. Автоматизация SAP использует учетные данные имени субъекта-службы из Azure Key Vault. По умолчанию все системы в среде используют одни и те же учетные данные из хранилища ключей в этой среде. Определите, требуются ли для любых систем уникальные учетные данные.

- Решите, следует ли использовать образ Azure Marketplace или пользовательский образ. Пользовательские образы имеют несколько преимуществ, таких как конфигурация ОС конкретного клиента, усиление безопасности и средства обеспечения соответствия. Пользовательские образы также потенциально могут упростить управление жизненным циклом изображений.

**Рекомендации по проектированию:**

- Резервное копирование копий файлов состояния для защиты от повреждения файлов. Например, можно хранить файлы состояния terraform в учетных записях хранения для геоизбыточного хранилища с доступом для чтения (RA-GRS).

- Храните архивные копии двоичных файлов средства автоматизации. Сохраните копии двоичных библиотек terraform/Ansible конкретной версии, применимой к коду.

- Используйте стандартные соглашения об именовании SAP Automation по умолчанию. Автоматизация SAP публикует набор правил именования.

- Предоставьте управляемую среду SAP Automation. Три метода для оркестрации автоматизации:

  - Начните с развертывания инфраструктуры развертывания в качестве виртуальной машины центрального контроллера автоматизации для рабочих и непроизводственных сред SAP.

  - Используйте Azure DevOps для выполнения автоматизации, минуя виртуальную машину контроллера. Вы можете начать с библиотек SAP и сборок для SAP IaaS.

  - Используйте автоматизацию на основе поставщика ресурсов. Вы можете выполнять вызовы сценариев с портала снег.
