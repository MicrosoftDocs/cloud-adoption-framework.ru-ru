---
title: Масштабируемость AKS Enterprise — масштабирование
description: AKS рекомендации по масштабируемости корпоративного уровня
author: xstabel
ms.author: ctalaver
ms.date: 03/01/2021
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.openlocfilehash: 14db2304c724cf9d17652f7b2bbe0d44dca15d1e
ms.sourcegitcommit: b8f8b7631aabaab28e9705934bf67dad15e3a179
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101798938"
---
<!-- docutune:casing "HPA" -->

# <a name="aks-enterprise-scale-scalability"></a>Масштабируемость AKS Enterprise — масштабирование

AKS можно масштабировать в зависимости от потребностей инфраструктуры (требующих больше или меньше емкости), добавляя пулы узлов со специальными возможностями, такими как GPU или приложения, в этом случае у вас есть несколько факторов, таких как число и скорость параллельных подключений, число запросов, задержки серверных приложений AKS.

Наиболее распространенными вариантами масштабирования для AKS являются Автомасштабирование кластера (автоматическое добавление и удаление узлов на основе использования ЦП и памяти) или HPA (горизонтальный Автомасштабирование Pod) для приложений, которые можно масштабировать на основе использования ЦП и памяти, а также более сложные метрики.

## <a name="design-considerations"></a>Рекомендации по проектированию

Ниже приведены некоторые ключевые факторы, которые следует учитывать.

- Является ли быстрое масштабируемость обязательным требованием для вашего приложения (без времени ожидания)?
  - Чтобы выполнить быструю подготовку модулей Pod для использования виртуальных узлов, они поддерживаются только для узлов и модулей Linux.
- Является ли Рабочая нагрузка не зависящей от времени и может ли она работать с прерываниями? Рассмотрите использование [плашечных виртуальных машин](/azure/aks/spot-node-pool)
- Является ли базовая инфраструктура (сетевой подключаемый модуль, диапазоны IP-адресов, ограничения подписки, квоты и т. д.), способные масштабироваться?
- Рассмотрите возможность автоматизации масштабируемости

  - Автоматическое масштабирование кластера можно включить для масштабирования количества узлов. Рассмотрите возможность автоматического [масштабирования кластера](/azure/aks/cluster-autoscaler) и [масштабирования на ноль](/azure/aks/scale-cluster#scale-user-node-pools-to-0)
  - Горизонтальный Автомасштабирование Pod автоматически масштабирует количество модулей.
- Рассмотрите возможность масштабирования с использованием многозоны и пулов узлов
  - При создании пулов узлов рекомендуется задать [зоны доступности с помощью AKS](/azure/aks/availability-zones).
  - Рекомендуется использовать несколько пулов узлов для поддержки приложений с разными требованиями.
  - Масштабирование пулов узлов с помощью автомасштабирования кластера.
  - Пулы пользовательских узлов можно масштабировать до нуля. См. [ограничения](/azure/aks/use-multiple-node-pools#limitations).

## <a name="design-recommendations"></a>Рекомендации по проектированию

Следуйте приведенным ниже рекомендациям по проектированию.

- Используйте масштабируемые наборы виртуальных машин, необходимые для сценариев, включая автоматическое масштабирование, несколько пулов узлов и поддержку пула узлов Windows.
  - Не следует вручную включать и отменять параметры масштабируемости в портал Azure или с помощью Azure CLI.
- Если требуется быстрое автоматическое масштабирование, выберите пакет из кластера AKS с помощью экземпляров контейнеров Azure и [виртуальных узлов](/azure/aks/virtual-nodes-portal) для быстрой и бесконечной масштабируемости и выставления счетов за секунду.
- Для прогнозируемой масштабируемости с помощью рабочих узлов на основе виртуальных машин используйте [Автомасштабирование кластера](/azure/aks/cluster-autoscaler) и [масштабирование до нуля](/azure/aks/scale-cluster#scale-user-node-pools-to-0) .
- Включите [Автомасштабирование кластера](/azure/aks/cluster-autoscaler) в соответствии с потребностями приложений.
  - Вы можете включить Автомасштабирование для [пулов с несколькими узлами](/azure/aks/cluster-autoscaler#use-the-cluster-autoscaler-with-multiple-node-pools-enabled).
- Включите [Горизонтальный Автомасштабирование Pod (hPa)](/azure/aks/concepts-scale#horizontal-pod-autoscaler) , чтобы уменьшить количество занятых часов приложения.
  - Для всех контейнеров и модулей Pod должны быть определены запросы и ограничения ресурсов.
  - HPA автоматически масштабирует количество модулей Pod на основе наблюдаемых ресурсов ЦП, памяти или пользовательских метрик.
- Включите [Azure Monitor для контейнеров](/azure/azure-monitor/containers/container-insights-overview) и динамического мониторинга, чтобы отслеживать использование кластера и рабочих нагрузок.
- Используйте несколько пулов узлов, если приложения имеют разные требования к ресурсам.
  - Помните, что можно [указать размер виртуальной машины для пула узлов](/azure/aks/use-multiple-node-pools#specify-a-vm-size-for-a-node-pool).
- Рассмотрите возможность выделения [пулов узлов на основе виртуальных машин](/azure/aks/spot-node-pool) для рабочих нагрузок без учета времени, которые могут справиться с прерываниями и вытеснениями.
