---
title: Автоматизация платформы корпоративного уровня Azure Kubernetes Service (AKS) и DevOps
description: Общие сведения о рекомендациях по проектированию и рекомендации по автоматизации платформы Azure Kubernetes Service (AKS) и DevOps.
author: BrianBlanchard
ms.author: brblanch
ms.date: 03/01/2021
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: ready
ms.openlocfilehash: ff7b2cceab332b76091489a2adb91368ae4251b7
ms.sourcegitcommit: b8f8b7631aabaab28e9705934bf67dad15e3a179
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2021
ms.locfileid: "101798303"
---
# <a name="aks-enterprise-scale-platform-automation-and-devops"></a>AKS Enterprise — масштабируемая платформа и DevOps

В качестве собственной конструкции для облака Kubernetes требуется облачный подход к развертыванию и эксплуатации. Azure и Kubernetes — это открытые и расширяемые платформы с богатыми и хорошо спроектированными интерфейсами API, которые предоставляют возможности и возможности автоматизации в полном экстенте. Планируйте DevOps и высоко автоматизированный подход, полагается на автоматизацию и общие рекомендации DevOps.

## <a name="design-considerations"></a>Рекомендации по проектированию

Ниже приведены некоторые рекомендации по проектированию для автоматизации платформы AKS и DevOps.

- При определении подхода к проектированию и автоматизации следует учитывать [ограничения служб Azure](/azure/azure-resource-manager/management/azure-subscription-service-limits) и непрерывной интеграции и непрерывной поставки (CI/CD). Другой пример см. в разделе [ограничения использования GitHub](https://docs.github.com/actions/reference/usage-limits-billing-and-administration).

- При обеспечении безопасности и защите доступа к разработке, тестированию, Q&а и рабочим средам рассмотрите варианты обеспечения безопасности с точки зрения непрерывной интеграции и компакт-диска. Развертывания происходят автоматически, поэтому соответствующим образом сопоставьте управление доступом.

- Рекомендуется использовать префиксы и суффиксы с четко определенными соглашениями для уникальной идентификации каждого развернутого ресурса. Эти соглашения об именовании устраняют конфликты при развертывании решений рядом друг с другом и улучшают общую гибкость и пропускную способность команды.

- Инвентаризация рабочих процессов для поддержки при проектировании, обновлении и развертывании решения в обычных и цифровых подсистемах (DRP) режимы. Рассмотрите возможность сопоставления конвейеров в соответствии с этими рабочими процессами, максимально подходящих для понимания и производительности.

  Вот некоторые примеры сценариев и конвейеров, которые следует учитывать:
  - Развертывание, исправление и обновление кластеров
  - Развертывание и обновление приложений
  - Развертывание и поддержка надстроек
  - Отработка отказа для аварийного восстановления
  - Сине-зеленые развертывания
  - Обслуживание сред ранний

- Рассмотрите возможность использования [сети службы](/azure/aks/servicemesh-about) для добавления в рабочие нагрузки дополнительных возможностей безопасности, шифрования и ведения журнала.

- Рассмотрите возможность развертывания других ресурсов, таких как подписки, теги и метки, чтобы обеспечить поддержку DevOps, отслеживая развертывания и относящихся к ним артефакты.

- Рассмотрите влияние смены парадигмы *крупный рогатый скот и pets* . Предполагалось, что модули Pod и другие аспекты Kubernetes являются временными и соответствующим образом согласовывайте свою инфраструктуру автоматизации и конвейера. Не полагайтесь на то, что IP-адреса или другие ресурсы должны быть фиксированными или постоянными.

## <a name="design-recommendations"></a>Рекомендации по проектированию

Ниже приведены некоторые рекомендации по проектированию для автоматизации платформы AKS и DevOps.

- Полагаются на конвейеры или действия, чтобы:
  - Разверните примененные методики в группе.
  - Извлеките большую часть накладных расходов на перечисление колеса.
  - Полагаются предсказуемость и ценные сведения в общем качестве качества и гибкости.

- Развертывайте раннее и часто с помощью конвейеров на основе триггеров и планов. Конвейеры на основе триггеров обеспечивают правильную проверку изменений, в то время как запланированные конвейеры управляют поведением в изменяющихся средах.

- Отдельное развертывание инфраструктуры из развертывания приложения. Основные изменения инфраструктуры меньше, чем приложения. Рассматривайте каждый тип развертывания как отдельный поток и конвейер.

- Развертывание с использованием собственных концепций [облака](/dotnet/architecture/cloud-native/introduction) . Используйте [инфраструктуру в качестве кода](/azure/devops/learn/what-is-infrastructure-as-code) для развертывания инфраструктуры, включая плоскость управления, и используйте операторы [Helm](https://helm.sh/) и [Kubernetes](https://kubernetes.io/docs/concepts/extend-kubernetes/operator/) для развертывания и обслуживания собственных компонентов Kubernetes.

- Используйте [гитопс](/azure/azure-arc/kubernetes/tutorial-use-gitops-connected-cluster) для развертывания и обслуживания приложений. Гитопс использует репозиторий Git как единый источник истинности, избегая различия в настройке и повышения производительности и надежности во время откатов и связанных процедур.

- Храните секреты и другие конфиденциальные артефакты в секретах GitHub, позволяя действиям и другим частям рабочего процесса считывать их при необходимости во время выполнения.

- Стремитесь к развернутому параллелизму развертывания, избегая жестко закодированных элементов конфигурации и параметров.

- Полагаются на хорошо известные соглашения в рамках инфраструктуры и развертываний, связанных с приложениями. Используйте [контроллеры](https://kubernetes.io/blog/2019/03/21/a-guide-to-kubernetes-admission-controllers/) подлинности в сочетании с [привратником](https://github.com/open-policy-agent/gatekeeper) для проверки и принудительного применения соглашений между другими определенными политиками.

- Регулярно променяющие [сдвиг влево](/azure/devops/learn/devops-at-microsoft/shift-left-make-testing-fast-reliable) с помощью:
  - Обеспечение безопасности путем добавления средств проверки уязвимостей, таких как сканирование контейнеров, на раннем этапе в конвейере.
  - С помощью политики в качестве кода и применения политик в собственном облаке через контроллеры допусков.

- Просматривайте все ошибки, ошибки или сбои как возможность автоматизировать и улучшить общее качество решения. Интегрируйте этот подход в платформу сдвига влево и [проектирования надежности сайта (выполняются)](/azure/site-reliability-engineering/) .
