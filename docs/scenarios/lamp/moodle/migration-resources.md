---
title: Материалы по миграции Moodle
description: Сведения о ресурсах для Moodle миграции.
author: BrianBlanchard
ms.author: brblanch
ms.date: 11/06/2020
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: plan
ms.openlocfilehash: a4b57c31e1b8d3fd489498eb36cf36f259c8e560
ms.sourcegitcommit: a7eb2f6c4465527cca2d479edbfc9d93d1e44bf1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/17/2020
ms.locfileid: "94714701"
---
# <a name="moodle-migration-resources"></a>Материалы по миграции Moodle

При использовании шаблона Azure Resource Manager в Azure создаются следующие ресурсы.

- **Шаблон сети:** Шаблон сети создаст виртуальную сеть, группу безопасности сети, сетевой интерфейс, подсеть, общедоступный IP-адрес, Azure Load Balancer, шлюз приложений, кэш Redis и т. д.

Шаблон сети также создает виртуальную сеть со строкой в виде имени, apiVersion, расположения и имени DNS-сервера. `AddressSpace`Содержит диапазон IP-адресов, которые могут использоваться подсетями.

- **Виртуальная сеть:** Виртуальная сеть Azure — это представление собственной сети в облаке. Это логическая изоляция облака Azure, специально выделенного для вашей подписки. При создании виртуальной сети службы и виртуальные машины внутри нее могут напрямую и безопасно обмениваться данными в облаке. Дополнительные сведения см. в статье [Обзор виртуальной сети](/azure/virtual-network/virtual-networks-overview).

- **Группа безопасности сети:** Группа безопасности сети (NSG) — это сетевой фильтр (брандмауэр), содержащий список правил безопасности, позволяющих или запрещать сетевой трафик к ресурсам, подключенным к виртуальной сети Azure. Дополнительные сведения см. в обзоре [группы безопасности сети](/azure/virtual-network/network-security-groups-overview) .

- **Сетевой интерфейс:** Сетевой интерфейс позволяет виртуальной машине Azure взаимодействовать с Интернетом, Azure и локальными ресурсами. Дополнительные сведения см. в обзоре [сетевого интерфейса](/azure/virtual-network/virtual-network-network-interface) .

- **Подсеть:** Подсеть или подсеть — это меньшая сеть в большой сети. По умолчанию IP-адрес в подсети может взаимодействовать с любым другим IP-адресом в виртуальной сети. Дополнительные сведения см. в [подсети](/azure/virtual-network/virtual-network-manage-subnet) .

- **Общедоступный IP-адрес:** Общедоступные IP-адреса используются для передачи ресурсов Azure в Интернет. Адрес выделен для ресурса Azure. Ознакомьтесь с [общедоступным IP-адресом](/azure/virtual-network/public-ip-addresses#:~:text=Public%20IP%20addresses%20enable%20Azure,IP%20assigned%20can%20communicate%20outbound) для получения дополнительных сведений.

- **Azure Load Balancer:** Эффективное распределение трафика сети или приложения между несколькими серверами в ферме серверов. Обеспечивает высокий уровень доступности и надежности, отправляя запросы только на серверы, наявляющиеся в сети. Дополнительные сведения см. в [Azure Load Balancer](/azure/virtual-machines/windows/tutorial-load-balancer#:~:text=An%20Azure%20load%20balancer%20is,traffic%20to%20an%20operational%20VM) .

Любой из четырех предопределенных шаблонов будет развертывать Azure Load Balancer. В полностью настраиваемом развертывании пользователь может выбрать шлюз приложений Azure вместо Load Balancer.

- **Шлюз приложений Azure:** Azure Load Balancer веб-трафика, который позволяет управлять трафиком к веб-приложениям. Шлюз приложений может принимать решения о маршрутизации на основе дополнительных атрибутов HTTP-запроса, как с помощью пути URI или заголовков узла. Дополнительные сведения см. в обзоре [шлюза приложений Azure](/azure/application-gateway/overview) .

- **Кэш Redis:** Кэш Azure для Redis предоставляет хранилище данных в памяти, основанное на программном обеспечении с открытым исходным кодом, Redis. Redis повышает производительность и масштабируемость приложения в интенсивном хранении серверных данных. Он может обрабатывать большие объемы запросов приложений, сохраняя часто используемые данные в памяти сервера, и эти данные могут быть записаны и прочитаны быстро. Дополнительные сведения см. в [кэше Redis](/azure/azure-cache-for-redis/cache-overview) .

- **Шаблон хранилища:** Шаблон учетной записи хранения создаст учетную запись хранения с Филестораже Kind и локально избыточным хранилищем уровня "Премиум" (LRS) с 1 терабайтом (ТБ). Для каждого предопределенного шаблона учетная запись хранения с файлами Azure создает общие файловые ресурсы.

Учетная запись хранения Azure содержит большие двоичные объекты, файлы, очереди, таблицы и диски, все из которых являются объектами данных службы хранилища Azure. Учетная запись хранения предоставляет уникальное пространство имен для данных службы хранилища Azure, доступное из любой точки мира по протоколу HTTP или HTTPS. К типам учетных записей хранения Azure относятся версии v1, общего назначения v2, Блоккблобстораже, Филестораже и хранилище BLOB-объектов. Типы репликации — LRS, избыточность в зонах или геоизбыточное хранилище. Типы производительности — Standard и Premium, а отдельная учетная запись хранения может хранить до 500 ТБ данных, таких как любая другая служба Azure.

Следующие типы учетных записей хранения Azure Resource Manager поддержка шаблонов:

- NFS: сетевая файловая система (NFS) позволяет удаленным узлам подключать файловые системы по сети и взаимодействовать с этими файловыми системами, как будто они подключены локально. Это позволяет системным администраторам консолидировать ресурсы на централизованные серверы в сети. Дополнительные сведения см. в подсистеме [NFS](/windows-server/storage/nfs/nfs-overview) .

- Глусерфс: распределенная файловая система с открытым исходным кодом, которая может масштабироваться в процессе создания блоков для хранения нескольких петабайтов данных. Дополнительные сведения см. в [GLUSTER FS](/azure/virtual-machines/workloads/sap/high-availability-guide-rhel-glusterfs) .

- Служба "файлы Azure" — единственное хранилище файлов в общедоступном облаке, которое предоставляет защищенные облачные общие файловые ресурсы на основе SMB и полностью управляемые ими, которые также можно кэшировать в локальной среде для обеспечения производительности и совместимости. Дополнительные сведения см. в [службе файлов Azure](/azure/storage/files/storage-files-introduction) . Для NFS и Глустерфс репликация является стандартной LRS, а тип хранения — общим назначением v1. Для службы файлов Azure репликация является локально избыточным хранилищем уровня "Премиум", LRS, а тип — Филестораже.

Эти механизмы хранения будут отличаться в соответствии с выбранным развертыванием. NFS и Глустерфс создаст контейнер, а служба файлов Azure создаст общую папку. Для минимального и short2mid шаблон будет поддерживать NFS, а для большого и максимального размера шаблон будет поддерживать службы файлов Azure. Чтобы получить доступ к контейнерам и общей папке, перейдите на портал и выберите учетную запись хранения в группе ресурсов.

![Учетная запись хранения.](images/storage-account.png)

Ознакомьтесь с [учетной записью хранения](/azure/storage/common/storage-account-overview) , чтобы узнать больше об учетных записях хранения.

- **Шаблон базы данных:** Шаблон базы данных создаст [сервер базы данных Azure для MySQL](/azure/mysql/). Сервер базы данных Azure для MySQL прост в настройке, управлении и масштабировании. Она автоматизирует управление и обслуживание инфраструктуры и сервера базы данных, включая регулярные обновления, резервные копии и безопасность. Создавайте новейшие выпуски MySQL, в том числе версии 5,6, 5,7 и 8,0. Чтобы получить доступ к созданному серверу базы данных, перейдите к **группе ресурсов** , указанной во время развертывания, и перейдите на **сервер базы данных Azure для MySQL.** Сервер базы данных будет иметь имя сервера, имя для входа администратора сервера, версию MySQL и конфигурацию производительности.

- **Шаблон виртуальной машины:** Этот шаблон будет отличать виртуальную машину как виртуальную машину контроллера. Операционная система для виртуальной машины контроллера — Ubuntu 18,04.

- **Расширение виртуальной машины:** Расширения виртуальных машин могут быть небольшими приложениями, которые предоставляют задачи настройки и автоматизации, выполняемые после развертывания на [виртуальных машинах Azure](/azure/virtual-machines/extensions/overview). Расширение виртуальной машины будет выполнять файл сценария оболочки, который устанавливает Moodle на виртуальной машине контроллера и записывает файлы журналов. Файлы журнала `stderr` и `stdout` создаются в `/var/lib/waagent/custom-script/download/0/` , и пользователь может просматривать их как привилегированного пользователя.

- **Шаблон масштабируемого набора:** Этот шаблон создает [масштабируемый набор виртуальных машин](/azure/virtual-machine-scale-sets/overview). Масштабируемый набор виртуальных машин позволяет развернуть набор виртуальных машин с возможностью автомасштабирования и управлять этим набором. Вы можете вручную масштабировать количество виртуальных машин в масштабируемом наборе или определить правила для автомасштабирования на основе использования ресурсов, таких как ЦП, потребность в памяти или сетевой трафик. Автоматическое масштабирование экземпляров виртуальных машин зависит от [загрузки ЦП](/visualstudio/profiling/average-cpu-utilization). При увеличении масштаба экземпляра выполняется развертывание виртуальной машины, и сценарий оболочки выполняется для установки необходимых компонентов Moodle и настройки заданий cron. Экземпляры виртуальных машин имеют частный IP-адрес. Выполните действия, описанные в статье [Создание шлюза виртуальной сети и подключение через частный IP-адрес](./vpn-gateway.md) для подключения к виртуальным машинам в масштабируемом наборе с частным IP-адресом.

## <a name="next-steps"></a>Следующие шаги

Перейдите к статье [Создание шлюза виртуальной сети и подключение через частный IP-адрес](./vpn-gateway.md) для получения дополнительных сведений о процессе миграции Moodle.
