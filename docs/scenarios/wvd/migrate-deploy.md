---
title: Развертывание виртуального рабочего стола Windows в Azure
description: Используйте платформу внедрения облаков для Azure, чтобы изучить рекомендации по переносу виртуальных рабочих столов Windows, чтобы сократить сложность и стандартизировать процесс миграции.
author: BrianBlanchard
ms.author: brblanch
ms.date: 07/01/2010
ms.topic: conceptual
ms.service: cloud-adoption-framework
ms.subservice: migrate
ms.openlocfilehash: 416d3be5b850ece425590a680a59e0b112f9cdad
ms.sourcegitcommit: 9163a60a28ffce78ceb5dc8dc4fa1b83d7f56e6d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 07/17/2020
ms.locfileid: "86452424"
---
<!-- cSpell:ignore NTFS Logix -->

# <a name="windows-virtual-desktop-deployment-or-migration"></a>Развертывание или миграция виртуальных рабочих столов Windows

В руководстве, приведенном в этой статье, предполагается, что вы создали [план для виртуальных рабочих столов Windows](./plan.md), оценили [требования к развертыванию настольных систем](./migrate-assess.md), [выполнили проверку концепции](./proof-of-concept.md)и теперь готовы выполнить миграцию или развертывание экземпляров виртуальных рабочих столов Windows.

## <a name="initial-scope"></a>Начальная область

Развертывание ВВД выполняется так же, как и шаги, выполненные в ходе эксперимента. Мы будем использовать эту начальную область как базовую основу для объяснения различных изменений области, необходимых для выходных данных оценки.

- [Создайте пул узлов](https://docs.microsoft.com/azure/virtual-desktop/create-host-pools-azure-marketplace) для рабочих столов в составе пула с помощью образа из коллекции Windows 10 из Azure Marketplace и измените размер на шаге 1.
- [Создание групп приложений RemoteApp](https://docs.microsoft.com/azure/virtual-desktop/manage-app-groups#create-a-remoteapp-group) для рабочих нагрузок, которые уже были перенесены.
- [Создайте контейнер профиля фслогикс](https://docs.microsoft.com/azure/virtual-desktop/create-host-pools-user-profile) для хранения профилей пользователей.

Развертывание или миграция состоит из миграции пользователей, миграции приложений и миграции профилей пользователей. В зависимости от результатов оценки рабочей нагрузки, скорее всего, будут внесены изменения в каждую из этих задач миграции. Эта статья поможет определить способы изменения области на основе отзывов о ходе оценки.

## <a name="iterative-methodology"></a>Итеративная методология

Для каждого персонажа, скорее всего, потребуется итерация начальной области, описанной выше, в результате чего будет несколько пулов узлов. В зависимости от оценки виртуальных рабочих столов Windows группа внедрения должна определять итерации в зависимости от количества пользователей и (или) пользователя на пользователя. Разбиение процесса на итерации, управляемые персонажами, поможет снизить влияние на скорость изменения в бизнесе и позволить команде сосредоточиться на правильном тестировании или адаптации для каждого пула пользователей.

## <a name="scope-considerations"></a>Рекомендации по области

Каждый из следующих наборов рекомендаций следует включать в документацию по проектированию для каждой группы пользователей, которую необходимо перенести или развернуть. После того как рекомендации по области будут разделены на [начальную область](#initial-scope) выше, может начаться развертывание или миграция.

### <a name="azure-landing-zone-considerations"></a>Рекомендации по использованию зон размещения Azure

Перед развертыванием в регионе Azure должна быть создана Целевая зона, необходимая для поддержки каждого развертываемого персонажа. Каждая назначенная Целевая зона должна оцениваться по [требованиям к проверке целевой зоны](./ready.md).

Если назначенная Главная зона Azure не соответствует вашим требованиям, необходимо добавить область для внесения изменений в среду.

### <a name="application-and-desktop-considerations"></a>Рекомендации по приложениям и рабочим столам

Некоторые пользователи могут иметь зависимость от устаревших решений, которые несовместимы с несколькими сеансами Windows 10. В таких случаях для некоторых пользователей могут потребоваться специальные рабочие столы. Эта зависимость не может быть обнаружена до развертывания и тестирования. Если это было обнаружено позднее, будущие итерации следует выделить для модернизации или миграции устаревшего приложения, чтобы снизить долгосрочную стоимость рабочего стола. Эти итерации должны быть приоритетными и завершенными в зависимости от общего влияния цены на модернизации и дополнительных затрат, связанных с выделенными рабочими станциями. Это не должно влиять на текущие итерации во избежание сбоев конвейера и реализации результатов бизнеса.

Некоторым приложениям может потребоваться исправление, модернизации или миграция в Azure для поддержки желаемого взаимодействия с конечным пользователем. Эти изменения, скорее всего, будут поступать после выпуска. Кроме того, если задержка рабочего стола может повлиять на бизнес-функции, изменения приложения могут создать блокирующие зависимости для миграции некоторых пользователей.

### <a name="user-profile-considerations"></a>Рекомендации по профилю пользователя

[Исходная область](#initial-scope) предполагает, что вы используете [контейнер профиля пользователя Фслогикс на основе виртуальной машины](https://docs.microsoft.com/azure/virtual-desktop/create-host-pools-user-profile).

[Для размещения профилей пользователей](https://docs.microsoft.com/azure/virtual-desktop/create-fslogix-profile-container)можно использовать Azure NetApp Files. В этой области потребуется несколько дополнительных действий, в том числе:

- **За экземпляр NetApp:** Настройка файлов NetApp, томов и подключений Active Directory.
- **На узел или на пользователя:** Настройте Фслогикс на виртуальных машинах узла сеансов.
- **На пользователя:** Назначьте пользователей сеансу узла.

Вы также можете использовать службу " [файлы Azure" для размещения профилей пользователей](https://docs.microsoft.com/azure/virtual-desktop/create-file-share), что требует нескольких дополнительных действий в области, в том числе:

- **Для каждого экземпляра службы файлов Azure:** Настройте учетную запись хранения, тип диска и подключение Active Directory ([Azure AD DS также поддерживается](https://docs.microsoft.com/azure/virtual-desktop/create-profile-container-adds), НАЗНАЧЬТЕ доступ RBAC для Active Directory группе пользователей и примените разрешения NTFS и получите ключ доступа к учетной записи хранения.
- **На узел или на пользователя:** Настройте Фслогикс на виртуальных машинах узла сеансов.
- **На пользователя:** Назначьте пользователей сеансу узла.

Профили пользователей для некоторых пользователей могут также требовать усилий по переносу данных, что может задержать миграцию определенных персонажей до тех пор, пока профили пользователей не будут исправлены в локальных Active Directory или на рабочих столах отдельных пользователей. Это может значительно повлиять на область вне сценария ВВД. После устранения этой проблемы начальная область или описанные выше подходы можно возобновить.

## <a name="deploy-or-migrate-windows-virtual-desktop"></a>Развертывание или миграция виртуальных рабочих столов Windows

После того как все рекомендации будут учитываться в рабочей области для миграции или развертывания виртуальных рабочих столов Windows, процесс может начаться. После итеративной ритмичности группа внедрения будет развертывать пулы узлов, приложения и профили пользователей. После завершения развертывания можно начать [тестирование и подключение пользователей](./migrate-release.md) .

## <a name="next-steps"></a>Дальнейшие действия

Следующим шагом является развертывание или миграция экземпляров виртуальных рабочих столов Windows. Приведенный ниже список статей поможет вам найти рекомендации в конкретных точках в процессе внедрения в облако.

- [Выпуск развертывания виртуальных рабочих столов Windows в рабочей среде](./migrate-release.md)
